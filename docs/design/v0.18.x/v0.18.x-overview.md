# v0.18.x Feature Overview: Trauma Economy & Resource Systems

## Executive Summary

v0.18.x implements the **Trauma Economy** — the horror-centric resource management systems that create psychological stakes beyond physical damage. This version introduces Psychic Stress, Runic Blight Corruption, Cognitive Paradox Syndrome (CPS), permanent Traumas, and specialization-specific resources (Rage, Momentum, Coherence).

The Trauma Economy ensures that even powerful characters experience genuine dread when facing Aethelgard's horrors.

---

## Version Structure

```
v0.18.x — Trauma Economy & Resource Systems
├── v0.18.0 — Psychic Stress System (~18 tests)
│   ├── PsychicStress resource (0-100)
│   ├── Stress thresholds and defense penalties
│   ├── Stress resistance checks (WILL-based)
│   ├── Stress sources and recovery
│   └── Breaking Point mechanics
│
├── v0.18.1 — Runic Blight Corruption (~15 tests)
│   ├── Corruption resource (0-100, near-permanent)
│   ├── Corruption thresholds and state effects
│   ├── Max HP/AP penalty calculations
│   ├── Resolve dice penalty
│   └── Terminal Error mechanics
│
├── v0.18.2 — Cognitive Paradox Syndrome (~12 tests)
│   ├── CPS Stage definitions (1-4)
│   ├── Stress-to-CPS progression
│   ├── Panic Table implementation
│   ├── Stage-specific symptoms
│   └── CPS recovery protocols
│
├── v0.18.3 — Trauma System (~15 tests)
│   ├── TraumaDefinition entity
│   ├── Trauma types and effects
│   ├── Trauma Check mechanics
│   ├── Permanent trauma accumulation
│   └── Character retirement (6 traumas)
│
├── v0.18.4 — Specialization Resources (~20 tests)
│   ├── Rage (Berserker) — damage/speed scaling
│   ├── Momentum (Skirmisher) — flow state bonuses
│   ├── Coherence (Skald/Thul) — narrative power
│   └── Control/Cascade mechanics
│
└── v0.18.5 — Resource Integration (~15 tests)
    ├── Stress ↔ Corruption interactions
    ├── Resource penalty stacking
    ├── Combat resource flow
    └── Rest/Sanctuary recovery
```

---

## Design Philosophy

### The Three Pillars of Horror

| Pillar | Resource | Design Intent |
|--------|----------|---------------|
| **Immediate Terror** | Psychic Stress | Tactical pressure, recoverable with rest |
| **Creeping Doom** | Corruption | Strategic cost, near-permanent accumulation |
| **Existential Dread** | Trauma | Permanent consequences, character-defining |

### Core Design Principles

1. **Stress Creates Urgency**: High stress = death spiral (Defense penalty → more hits → more stress)
2. **Corruption Creates Stakes**: Heretical power has permanent costs
3. **Trauma Creates History**: Every failed Breaking Point leaves a mark
4. **Recovery is Precious**: Sanctuary rest is the only full reset
5. **Specialization Resources Reward Mastery**: Build-and-spend mechanics for specialized playstyles

---

## Resource Summary

### Universal Resources (All Characters)

| Resource | Type | Range | Recovery | Primary Effect |
|----------|------|-------|----------|----------------|
| **Psychic Stress** | Accumulating | 0-100 | Rest/Sanctuary | Defense penalty, Trauma Check at 100 |
| **Corruption** | Permanent | 0-100 | Near-impossible | Max HP/AP penalty, Terminal Error at 100 |

### Specialization Resources

| Resource | Specialization | Type | Range | Primary Effect |
|----------|----------------|------|-------|----------------|
| **Rage** | Berserker | Building | 0-100 | Damage/speed scaling, Control Check at 100 |
| **Momentum** | Skirmisher | Building | 0-100 | Defense bonus, Cascade state at 100 |
| **Coherence** | Skald/Thul | Building | 0-100 | Party buffs, Apotheosis at 100 |

---

## Stress Mechanics Overview

### Stress Thresholds

```
Psychic Stress
├── 0-19:  Calm       → No penalty
├── 20-39: Uneasy     → Defense -1
├── 40-59: Anxious    → Defense -2
├── 60-79: Panicked   → Defense -3
├── 80-99: Breaking   → Defense -4, skill disadvantage
└── 100:   TRAUMA     → Trauma Check triggered
```

### The Death Spiral

```
High Stress → Defense Penalty → More Hits → More Damage → More Stress → Breaking Point
```

This feedback loop is **intentional** — it creates genuine tension and rewards proactive stress management.

---

## Corruption Mechanics Overview

### Corruption States

```
Runic Blight Corruption
├── 0-20:  Clean      → No effects
├── 21-40: Tainted    → +1 Tech, -1 Social
├── 41-60: Infected   → +2 Tech, -2 Social, faction lock
├── 61-80: Corrupted  → Wild Magic, Machine Affinity
├── 81-99: Terminal   → NPCs fear character
└── 100:   TERMINAL ERROR → Character lost
```

### Resource Penalties

```
Max HP Penalty = floor(Corruption / 10) × 5%
Max AP Penalty = floor(Corruption / 10) × 5%
Resolve Dice Penalty = Corruption / 20
```

---

## Cognitive Paradox Syndrome (CPS)

### The Four Stages

| Stage | Stress Range | Name | Key Symptom |
|-------|--------------|------|-------------|
| **1** | 20-49% | Weight of Knowing | Migraines, tinnitus |
| **2** | 50-79% | Glimmer-Madness | Visual hallucinations, semantic drift |
| **3** | 80-99% | Ruin-Madness | Logic collapse, Panic Table rolls |
| **4** | 100% | The Hollow Shell | Mind erasure, character lost |

### Panic Table (Stage 3)

| d10 | Effect | Impact |
|-----|--------|--------|
| 1-2 | Freeze (Logic Lock) | Stunned 1 turn |
| 3-4 | Flight | Must flee stress source |
| 5-6 | Fight (Paradox Fury) | Attack nearest (friend/foe) |
| 7 | Babble | Party stealth impossible |
| 8 | Self-Harm | Take 1d6 damage |
| 9 | Hallucination | Disadvantage next action |
| 10 | Catatonia | Prone + Stunned 1d4 turns |

---

## Trauma System Overview

### Trauma Check

```
Trigger: Stress reaches 100
Roll: WILL vs DC 3 (default)

Outcomes:
  Success: Stress → 75, no permanent effect
  Failure: Gain Permanent Trauma, Stress → 50
  Critical Success: Stress → 50, temporary buff
  Fumble: Trauma + additional stress effect
```

### Permanent Trauma Types

| Trauma | Effect |
|--------|--------|
| **Phobia** | -2 dice when exposed to trigger |
| **Compulsion** | WILL DC 2 to avoid behavior |
| **Memory Fragmentation** | Knowledge gaps |
| **Perception Distortion** | False sensory input |
| **Nightmares** | Long Rest may not fully restore |
| **Paranoia** | No ally adjacency bonuses |

### Trauma Limit

- Maximum 5 Permanent Traumas
- 6th failed Trauma Check → Character retired (unplayable)

---

## Specialization Resources Overview

### Rage (Berserker)

```
Rage Generation:
  Deal 10 damage    → +5 Rage
  Take 10 damage    → +10 Rage
  Kill enemy        → +15 Rage
  Ally drops to 0   → +20 Rage

Rage Scaling:
  25-49: +15% damage, +1 Initiative
  50-74: +30% damage, +2 Initiative
  75-99: +50% damage, +3 Initiative, attack-only lock
  100:   +75% damage, +4 Initiative, Control Check
```

### Momentum (Skirmisher)

```
Momentum Generation:
  Move + Attack     → +15 Momentum
  Hit enemy         → +10 Momentum
  Dodge attack      → +15 Momentum
  Kill enemy        → +20 Momentum
  Chain 3+ abilities → +25 Momentum

Momentum Scaling:
  25-49: +1 Defense
  50-74: +2 Defense
  75-99: +3 Defense, Bonus Move
  100:   +4 Defense, Cascade State (+25% damage)
```

### Coherence (Skald/Thul)

```
Coherence Generation:
  Rhetoric check    → +10 Coherence
  Inspiring tale    → +15 Coherence
  Ally dramatic success → +10 Coherence
  Party survives dire → +20 Coherence

Coherence Effects:
  25+: Party +1 Stress Resistance
  50+: Party +2 Stress Resistance
  75+: Party Fear Immunity
  100: Apotheosis (legendary buffs)
```

---

## Implementation Estimates

| Version | Domain Entities | Services | Tests | Complexity |
|---------|-----------------|----------|-------|------------|
| v0.18.0 | 3 | 1 | ~18 | Medium |
| v0.18.1 | 3 | 1 | ~15 | Medium |
| v0.18.2 | 4 | 1 | ~12 | Medium |
| v0.18.3 | 4 | 1 | ~15 | Medium |
| v0.18.4 | 6 | 3 | ~20 | High |
| v0.18.5 | 2 | 1 | ~15 | Medium |
| **Total** | **22** | **8** | **~95** | |

---

## Cross-Cutting Concerns

### UI Requirements

All resources require:
- Visual bar/gauge representation
- Color-coded state indicators
- Threshold warning notifications
- Breaking Point/Terminal Error modals

### Audio Requirements

- Stress gain/loss feedback sounds
- Heartbeat intensification at high stress
- Warning tones at threshold crossings
- Dramatic stings for Trauma/Terminal Error

### Event System Integration

All resource changes emit events for:
- Combat log display
- Achievement/statistics tracking
- Save state persistence
- Tutorial triggers

---

## Dependencies

### Requires (from earlier versions)

| Dependency | Version | Purpose |
|------------|---------|---------|
| Attribute System | v0.17.2 | WILL for resistance, MIGHT/FINESSE for spec resources |
| Dice System | v0.6.x | Resistance checks, Trauma Checks |
| Status Effect System | v0.10.x | Stunned, Prone, Disadvantage |
| Combat System | v0.8.x | Damage events, turn structure |

### Provides (for later versions)

| Feature | Consumer | Purpose |
|---------|----------|---------|
| Stress Sources | Enemy abilities | Fear auras, psychic attacks |
| Corruption Sources | Heretical abilities | Mystic overcasting, Blót-Priest |
| Resource Integration | Combat flow | Damage → Stress → Penalties |

---

## Related Documentation

| Document | Path |
|----------|------|
| Resources Overview | `docs/design/aethelgard/design/01-core/resources/resources.md` |
| Psychic Stress Spec | `docs/design/aethelgard/design/01-core/resources/stress.md` |
| Corruption Spec | `docs/design/aethelgard/design/01-core/resources/corruption.md` |
| CPS Specification | `docs/design/aethelgard/design/resources/cps.md` |
| Rage Spec | `docs/design/aethelgard/design/01-core/resources/rage.md` |
| Momentum Spec | `docs/design/aethelgard/design/01-core/resources/momentum.md` |
| Coherence Spec | `docs/design/aethelgard/design/01-core/resources/coherence.md` |

---

## Changelog

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | 2026-01-17 | Initial v0.18.x overview |
