# v0.14.0a Changelog - Race Schema

**Version:** 0.14.0a
**Date:** 2026-01-21
**Theme:** Character Configuration Schemas - Race Schema

---

## Overview

This version introduces the Race Schema (`races.schema.json`), establishing the JSON Schema validation pattern for the v0.14.x Configuration Consolidation Pass. The schema enables IDE autocomplete and validation for race definitions.

---

## Added

### Configuration Schemas
- **`config/schemas/races.schema.json`** - JSON Schema Draft-07 for race definitions
  - Validates `RaceDefinition` objects with all required fields
  - Validates `AttributeModifiers` with range constraints (-3 to +3)
  - Enforces kebab-case pattern for `id` fields (`^[a-z][a-z0-9-]*$`)
  - Enforces underscore pattern for `traitId` (`^[a-z][a-z0-9_]*$`)
  - Supports optional fields: `lore`, `startingItems`, `isPlayable`, `sortOrder`

### Unit Tests
- **`RaceSchemaTests.cs`** - 5 new unit tests
  - `Schema_IsValidJsonSchemaDraft07` - Validates schema structure
  - `ExistingRacesJson_ValidatesAgainstSchema` - Validates existing configuration
  - `RaceId_InvalidPattern_FailsValidation` - Tests ID pattern enforcement
  - `AttributeModifiers_OutOfRange_FailsValidation` - Tests range validation
  - `Race_MissingRequiredFields_FailsValidation` - Tests required field enforcement

### Dependencies
- **NJsonSchema 11.0.2** - Added to Infrastructure.IntegrationTests for schema validation

---

## Technical Details

### Schema Definitions

| Definition | Purpose |
|------------|---------|
| `RaceDefinition` | Validates individual race objects |
| `AttributeModifiers` | Validates the five core attributes |

### Validation Rules

| Rule | Constraint |
|------|------------|
| ID pattern | `^[a-z][a-z0-9-]*$` (kebab-case) |
| Trait ID pattern | `^[a-z][a-z0-9_]*$` (snake_case) |
| Attribute range | -3 to +3 |
| Required fields | id, name, description, attributeModifiers, traitId, traitName, traitDescription |

---

## Verification

- Build: ✅ 0 errors, 0 warnings
- Tests: ✅ 5/5 passing
- Existing `races.json`: ✅ Validates successfully
