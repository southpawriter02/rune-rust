# v0.4.3d Changelog: Skills & Environment

**Version:** 0.4.3d  
**Date:** 2026-01-13  
**Phase:** Skills & Environment

---

## Summary

Added day/night cycle and weather systems. Outdoor areas now respond to time of day and weather conditions, affecting light levels and visibility.

---

## Added

### Domain Layer

| File | Description |
|------|-------------|
| `Enums/TimeOfDay.cs` | Dawn, Morning, Noon, Afternoon, Dusk, Evening, Night |
| `Enums/WeatherType.cs` | Clear, Cloudy, LightRain, HeavyRain, Fog, Storm |
| `ValueObjects/GameTime.cs` | Time tracking with hour/day, TimeOfDay calculation, outdoor light |
| `ValueObjects/Weather.cs` | Weather conditions with visibility modifiers |

### Application Layer

| File | Description |
|------|-------------|
| `Interfaces/ITimeService.cs` | Time/weather service interface |
| `Services/TimeService.cs` | Time advancement, weather management, region patterns |

---

## Time of Day Table

| Period | Hours | Light Level |
|--------|-------|-------------|
| Night | 0:00-5:00 | Dark |
| Dawn | 5:00-7:00 | Dim |
| Morning | 7:00-12:00 | Bright |
| Noon | 12:00-14:00 | Bright |
| Afternoon | 14:00-17:00 | Bright |
| Dusk | 17:00-20:00 | Dim |
| Evening | 20:00-24:00 | Dark |

---

## Weather Effects

| Weather | Visibility Mod | Affects Light |
|---------|---------------|---------------|
| Clear | 0 | No |
| Cloudy | 0 | No |
| LightRain | -1 | No |
| HeavyRain | -3 | Yes (−1 level) |
| Fog | -4 | Yes (−1 level) |
| Storm | -5 | Yes (−1 level) |

---

## Test Results

| Project | Passed | Added |
|---------|--------|-------|
| Domain | 1,226 | +22 |
| Application | 469 | +6 |
| Architecture | 8 | — |
| **Total** | **1,703** | **+28** |

---

## Logging Strategy

| Component | Level | Template |
|-----------|-------|----------|
| TimeService | Debug | `"Time advanced to {Hour}:00 on Day {Day} ({TimeOfDay})"` |
| TimeService | Information | `"Weather changed from {OldWeather} to {NewWeather}"` |
| TimeService | Information | `"Day changed: Day {Day}"` |

---

## Next Steps

v0.4.4 (future) may add:
- Weather affecting combat (fire reduced in rain)
- Seasons
- Time-sensitive quests
