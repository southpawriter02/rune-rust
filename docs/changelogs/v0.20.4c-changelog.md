# v0.20.4c Changelog — Myrk-gengr Tier 3 & Capstone

## Added

### Domain Enums

- **`IncorporealRestriction`** — Limitations imposed during incorporeal state (no physical attacks, no object interaction, light vulnerability)
- **`BreakCondition`** — Conditions for Shadow Snare termination (save succeeded, caster movement, dispelled, duration expired)
- **`LightSaveResult`** — Outcomes for magical light saves against Eclipse (extinguished, resisted, dimmed)

### Domain Value Objects

- **`IncorporealState`** — Immutable state for Merge with Darkness transformation (duration, extensions, corruption accrual)
- **`ShadowSnareEffect`** + **`ShadowBinding`** — Root effect with save DC, escape attempts, duration, and binding strength mechanics
- **`EclipseZone`** — Zone of darkness with radius, caster benefits (50% concealment, +10 Essence/turn), enemy penalties (blind, -4 Perception, half movement)

### Application Service

- **`MyrkgengrTier3AbilityService`** — Implements:
    - **Merge with Darkness** (3 AP, 25 Essence) — Incorporeal transformation with extension mechanics
    - **Shadow Snare** (2 AP, 20 Essence) — Root control with DC 14 escape saves
    - **Eclipse** (5 AP, 40 Essence) — 8-space radius darkness zone, once per combat, +2 mandatory Corruption

### Configuration

- Updated `specializations.json` with Tier 2, 3, and Capstone ability tiers for Myrk-gengr
- Updated `specialization-abilities.json` with detailed definitions for Merge with Darkness, Shadow Snare, and Eclipse

### Unit Tests

- 30 new tests in `MyrkgengrTier3AbilityServiceTests` covering all abilities, edge cases, and PP unlock checks

## Changed

- **`MyrkgengrAbilityId`** — Renamed placeholders: `ShadowMeld` → `MergeWithDarkness`, `CorruptingStrike` → `ShadowSnare`, `VoidWalker` → `Eclipse`
- **`MyrkgengrAbilityService`** — Updated PP cost dictionary with renamed enum values
- **`MyrkgengrTier2AbilityService`** — Updated `GetAbilityPPCost` switch with renamed enum values
- **`MyrkgengrAbilityServiceTests`** — Updated test assertions for renamed enums
- **`MyrkgengrTier2AbilityServiceTests`** — Updated test assertions for renamed enums
