{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Crafting Recipe Configuration",
  "description": "Configuration schema for crafting recipe definitions including ingredient requirements, output items, station requirements, and difficulty classes.",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string",
      "description": "Reference to the JSON schema file for validation"
    },
    "recipes": {
      "type": "array",
      "description": "List of crafting recipe definitions.",
      "items": {
        "$ref": "#/definitions/RecipeDefinition"
      },
      "minItems": 1
    }
  },
  "required": [
    "recipes"
  ],
  "additionalProperties": false,
  "definitions": {
    "RecipeDefinition": {
      "type": "object",
      "description": "A crafting recipe with ingredients, output, station, and difficulty.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the recipe.",
          "pattern": "^[a-z][a-z0-9-]*$",
          "minLength": 1,
          "maxLength": 50
        },
        "name": {
          "type": "string",
          "description": "Display name for the recipe.",
          "minLength": 1,
          "maxLength": 100
        },
        "description": {
          "type": "string",
          "description": "Flavor text describing the recipe."
        },
        "category": {
          "type": "string",
          "description": "Recipe category matching RecipeCategory enum.",
          "enum": [
            "Weapon",
            "Armor",
            "Potion",
            "Consumable",
            "Accessory",
            "Tool",
            "Material"
          ]
        },
        "requiredStation": {
          "type": "string",
          "description": "ID of the crafting station required.",
          "pattern": "^[a-z][a-z0-9-]*$"
        },
        "ingredients": {
          "type": "array",
          "description": "Required ingredients for crafting.",
          "items": {
            "$ref": "#/definitions/Ingredient"
          },
          "minItems": 1
        },
        "output": {
          "$ref": "#/definitions/Output",
          "description": "The item produced by this recipe."
        },
        "difficultyClass": {
          "type": "integer",
          "description": "Difficulty class for the crafting check.",
          "minimum": 1
        },
        "isDefault": {
          "type": "boolean",
          "description": "If true, all characters know this recipe from the start."
        },
        "craftingTimeSeconds": {
          "type": "integer",
          "description": "Time in seconds to craft.",
          "minimum": 1
        },
        "icon": {
          "type": "string",
          "description": "Path to the recipe icon."
        }
      },
      "required": [
        "id",
        "name",
        "description",
        "category",
        "requiredStation",
        "ingredients",
        "output"
      ],
      "additionalProperties": false
    },
    "Ingredient": {
      "type": "object",
      "description": "A required ingredient for crafting.",
      "properties": {
        "resourceId": {
          "type": "string",
          "description": "ID of the required resource.",
          "pattern": "^[a-z][a-z0-9-]*$"
        },
        "quantity": {
          "type": "integer",
          "description": "Number of items required.",
          "minimum": 1,
          "default": 1
        }
      },
      "required": [
        "resourceId"
      ],
      "additionalProperties": false
    },
    "Output": {
      "type": "object",
      "description": "The item produced by crafting.",
      "properties": {
        "itemId": {
          "type": "string",
          "description": "ID of the item produced.",
          "pattern": "^[a-z][a-z0-9-]*$"
        },
        "quantity": {
          "type": "integer",
          "description": "Number of items produced.",
          "minimum": 1,
          "default": 1
        },
        "qualityFormula": {
          "type": "string",
          "description": "Optional formula for quality scaling."
        }
      },
      "required": [
        "itemId",
        "quantity"
      ],
      "additionalProperties": false
    }
  }
}
