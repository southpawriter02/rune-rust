# v0.0.6c Changelog - Status Effect Framework

**Date:** 2026-01-08

## Added

### Domain Layer - Enums
- `EffectCategory` enum: Debuff, Buff, Environmental
- `DurationType` enum: Turns, Permanent, Triggered, ResourceBased
- `StackingRule` enum: RefreshDuration, Stack, Block
- `StatModifierType` enum: Flat, Percentage, Override
- `EffectApplicationOutcome` enum: Applied, Refreshed, Stacked, Blocked, Immune, NotFound

### Domain Layer - Value Objects
- `StatModifier` with Apply() and factory methods (Flat, Percentage, Override)
- `EffectApplicationResult` with Success, Refreshed, Stacked, Blocked, Immune factory methods
- `EffectTickResult` with WithDamage, WithHealing, Ticked factory methods

### Domain Layer - Entities
- `StatusEffectDefinition` in Definitions/ with fluent builder pattern
- `ActiveStatusEffect` for tracking runtime effect state

### Domain Layer - Interfaces
- `IEffectTarget` interface for entities that can have effects

### Application Layer - Services
- `StatusEffectService` for apply/remove/tick/cleanse operations
- `StatCalculator` for computing effective stats with modifiers

### Application Layer - Interfaces
- `IStatusEffectRepository` for effect definition storage

### Infrastructure Layer
- `JsonStatusEffectRepository` for loading effects from JSON

### Configuration
- `config/status-effects.json` with 28 effect definitions:
  - 14 Debuffs: Bleeding, Poisoned, Burning, Frozen, Stunned, Blinded, Weakened, Slowed, Feared, Silenced, Cursed, Exhausted, Disarmed, Vulnerable
  - 10 Buffs: Hasted, Strengthened, Fortified, Regenerating, Shielded, Focused, Blessed, Invisible, Enraged, Protected
  - 4 Environmental: Wet, Chilled, On Fire, Electrified

## Tests Added

| Test File | Count |
|-----------|-------|
| `StatusEffectTests.cs` | 8 |
| `StatModifierTests.cs` | 9 |
| **Total New** | 17 |

## Test Results

```
Domain Tests:      254 passed (+17)
Application Tests: 117 passed
Architecture Tests:  8 passed
Total:             379 passed
```

## Technical Notes

- Stat calculation order: Flat → Percentage → Override
- DoT/HoT processed at start of target's turn
- Flat modifiers scale with stacks, percentage modifiers do not
- All buffs use Block stacking to prevent exploits
- Effect definitions loaded once and cached (singleton pattern)
