# v0.15.5g Design Specification: Scout Action

**Version:** 0.15.5g
**Theme:** Scout Action
**Author:** Claude
**Created:** 2026-01-18
**Status:** Draft
**Prerequisites:** v0.15.5a Complete (Extended Tracking System), v0.15.5b Complete (Counter-Tracking System), v0.15.5c Complete (Foraging System), v0.15.5d Complete (Navigation System), v0.15.5e Complete (Hazard Detection System), v0.15.5f Complete (Scavenger Sign Reading)

---

## Table of Contents

1. [Executive Summary](#1-executive-summary)
2. [Feature Overview](#2-feature-overview)
3. [Architecture Diagrams](#3-architecture-diagrams)
   - 3.1 [Scout Action Flow Diagram](#31-scout-action-flow-diagram)
   - 3.2 [Room Revelation Scaling](#32-room-revelation-scaling)
   - 3.3 [Service Interaction Diagram](#33-service-interaction-diagram)
   - 3.4 [Layer Architecture](#34-layer-architecture)
4. [ScoutResult Value Object](#4-scoutresult-value-object)
5. [ScoutContext Value Object](#5-scoutcontext-value-object)
6. [IScoutService Interface](#6-iscoutservice-interface)
7. [ScoutService Implementation](#7-scoutservice-implementation)
8. [Room Information Types](#8-room-information-types)
9. [Data Model Changes](#9-data-model-changes)
10. [Configuration Files](#10-configuration-files)
    - 10.1 [scout-action.json](#101-scout-actionjson)
    - 10.2 [scout-action.schema.json](#102-scout-actionschemajson)
    - 10.3 [Configuration Schema Summary](#103-configuration-schema-summary)
11. [Logging Specifications](#11-logging-specifications)
12. [Unit Testing Requirements](#12-unit-testing-requirements)
13. [Use Cases](#13-use-cases)
14. [Deliverable Checklist](#14-deliverable-checklist)
15. [Acceptance Criteria](#15-acceptance-criteria)
16. [Dependencies](#16-dependencies)
17. [Future Considerations](#17-future-considerations)
18. [Document Metadata](#18-document-metadata)

---

## 1. Executive Summary

### 1.1 Purpose

This document provides a comprehensive design specification for v0.15.5g, the Scout Action system. This phase implements the ability for characters to perform reconnaissance on adjacent rooms, revealing their contents including enemies, hazards, and points of interest before entering.

Scouting in Aethelgard represents careful observation and reconnaissance—peeking around corners, listening for sounds, and using survival instincts to assess what lies ahead. The scout action rewards players who invest in Wasteland Survival skills with tactical information that can prevent ambushes, identify hazards, and locate valuable resources. The system scales with skill proficiency: more successful checks reveal more adjacent rooms.

The base scout action reveals one adjacent room. For every 2 net successes above the DC, an additional adjacent room is revealed. All revealed rooms also disclose any enemies, hazards, and points of interest they contain.

### 1.2 Key Deliverables

| Category | Items |
|----------|-------|
| **Value Objects** | `ScoutResult`, `ScoutContext`, `ScoutedRoom`, `DetectedEnemy`, `DetectedHazard`, `PointOfInterest` |
| **Interfaces** | `IScoutService` |
| **Services** | `ScoutService` |
| **Configuration** | `scout-action.json` |
| **Tests** | ~2 new unit tests |

### 1.3 Architectural Significance

This version establishes the **progressive revelation pattern** that will be reused for other exploration mechanics:

- **Success-scaled results**: Better rolls reveal more information
- **Multi-layer information**: Rooms, enemies, hazards, and points of interest
- **Tactical advantage**: Information gathered before commitment to action
- **Skill investment reward**: Higher Wasteland Survival provides more tactical options

---

## 2. Feature Overview

```
v0.15.5g Scout Action
├── ScoutResult Value Object
│   ├── RoomsRevealed (list of adjacent rooms shown)
│   ├── EnemiesDetected (hostile presence per room)
│   ├── HazardsDetected (environmental dangers per room)
│   └── PointsOfInterest (notable features per room)
├── Scout Logic
│   ├── Base DC by terrain type
│   ├── Base reveals 1 adjacent room
│   ├── +1 room per 2 successes above DC
│   └── Reveals enemies and hazards in scouted rooms
├── ScoutContext Value Object
│   ├── PlayerId (who is scouting)
│   ├── CurrentRoomId (where they are)
│   ├── TerrainType (affects base DC)
│   └── EquipmentBonus (survival kit, etc.)
└── Unit Tests (~2)
    ├── Scout reveals correct number of rooms
    └── Enemies and hazards detected
```

---

## 3. Architecture Diagrams

### 3.1 Scout Action Flow Diagram

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      SCOUT ACTION FLOW DIAGRAM                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│    Player uses 'scout' command                                               │
│           │                                                                  │
│           ▼                                                                  │
│    ┌─────────────────────────────────────────────────────────────────────┐  │
│    │                    BUILD SCOUT CONTEXT                              │  │
│    ├─────────────────────────────────────────────────────────────────────┤  │
│    │  Gather information:                                                │  │
│    │  ├── Current room and terrain type                                 │  │
│    │  ├── Adjacent rooms (candidates for revelation)                    │  │
│    │  ├── Player equipment bonuses                                      │  │
│    │  └── Environmental conditions (visibility, noise)                  │  │
│    └───────────┬─────────────────────────────────────────────────────────┘  │
│                │                                                             │
│                ▼                                                             │
│    ┌─────────────────────────────────────────────────────────────────────┐  │
│    │                    CALCULATE BASE DC                                │  │
│    ├─────────────────────────────────────────────────────────────────────┤  │
│    │  DC by Terrain:                                                     │  │
│    │  │ Terrain Type       │ Base DC │ Notes                        │   │  │
│    │  │────────────────────│─────────│──────────────────────────────│   │  │
│    │  │ OpenWasteland      │   8     │ Good visibility, easy        │   │  │
│    │  │ ModerateRuins      │   12    │ Partial cover, obstructions  │   │  │
│    │  │ DenseRuins         │   16    │ Many hiding spots            │   │  │
│    │  │ Labyrinthine       │   20    │ Twisting passages            │   │  │
│    │  │ GlitchedLabyrinth  │   24    │ Reality distortions          │   │  │
│    │                                                                      │  │
│    │  MODIFIERS:                                                         │  │
│    │  │ Good visibility: -2 DC                                       │  │  │
│    │  │ Poor visibility: +2 DC                                       │  │  │
│    │  │ Static storm: +4 DC                                          │  │  │
│    │  │ Survival kit: -1 DC                                          │  │  │
│    └───────────┬─────────────────────────────────────────────────────────┘  │
│                │                                                             │
│                ▼                                                             │
│    ┌─────────────────────────────────────────────────────────────────────┐  │
│    │                    PERFORM SKILL CHECK                              │  │
│    ├─────────────────────────────────────────────────────────────────────┤  │
│    │  Roll Wasteland Survival vs calculated DC                          │  │
│    │                                                                      │  │
│    │  Calculate net successes = successes - DC                          │  │
│    │                                                                      │  │
│    │  Success threshold: net successes >= 0                             │  │
│    └───────────┬─────────────────────────────────────────────────────────┘  │
│                │                                                             │
│                ▼                                                             │
│    ┌─────────────────────────────────────────────────────────────────────┐  │
│    │                    DETERMINE ROOMS REVEALED                         │  │
│    └─────────────────────────────────────────────────────────────────────┘  │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.2 Room Revelation Scaling

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      ROOM REVELATION SCALING                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│    Skill check result                                                        │
│           │                                                                  │
│    ┌──────┴──────┬───────────────┬───────────────┬───────────────┐          │
│    ▼             ▼               ▼               ▼               ▼          │
│  ┌─────┐     ┌─────┐        ┌─────┐        ┌─────┐        ┌─────┐          │
│  │FAIL │     │PASS │        │+2   │        │+4   │        │+6   │          │
│  │     │     │Net≥0│        │Net  │        │Net  │        │Net  │          │
│  └──┬──┘     └──┬──┘        └──┬──┘        └──┬──┘        └──┬──┘          │
│     │           │               │               │               │            │
│     ▼           ▼               ▼               ▼               ▼            │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                    ROOMS REVEALED                                    │   │
│  ├─────────────────────────────────────────────────────────────────────┤   │
│  │                                                                      │   │
│  │  FAILURE (Net < 0):                                                  │   │
│  │  ├── 0 rooms revealed                                               │   │
│  │  ├── "You strain to observe the surroundings but learn nothing."    │   │
│  │  └── May retry after 10 minutes                                     │   │
│  │                                                                      │   │
│  │  SUCCESS (Net 0-1):                                                  │   │
│  │  ├── 1 room revealed (base)                                         │   │
│  │  ├── Player chooses which adjacent room                             │   │
│  │  └── Enemies, hazards, POIs in that room revealed                   │   │
│  │                                                                      │   │
│  │  NET +2 to +3:                                                       │   │
│  │  ├── 2 rooms revealed                                               │   │
│  │  └── Player chooses which 2 adjacent rooms                          │   │
│  │                                                                      │   │
│  │  NET +4 to +5:                                                       │   │
│  │  ├── 3 rooms revealed                                               │   │
│  │  └── Player chooses which 3 adjacent rooms                          │   │
│  │                                                                      │   │
│  │  NET +6 or more:                                                     │   │
│  │  ├── 4 rooms revealed (or all adjacent if fewer)                    │   │
│  │  └── Complete tactical picture of immediate surroundings            │   │
│  │                                                                      │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                              │
│  ROOM REVELATION FORMULA:                                                   │
│  ─────────────────────────────────────────────────────────────────────      │
│                                                                              │
│    RoomsRevealed = 1 + (NetSuccesses / 2)   [if NetSuccesses >= 0]          │
│    RoomsRevealed = 0                         [if NetSuccesses < 0]          │
│                                                                              │
│    Maximum = number of adjacent rooms (cannot exceed what exists)           │
│                                                                              │
│  INFORMATION REVEALED PER ROOM:                                             │
│  ─────────────────────────────────────────────────────────────────────      │
│  │ Category          │ What is revealed                              │      │
│  │───────────────────│────────────────────────────────────────────────│      │
│  │ Basic Info        │ Room name, description, terrain type          │      │
│  │ Enemies           │ Presence, count, general type (not stats)     │      │
│  │ Hazards           │ Type, severity, location within room          │      │
│  │ Points of Interest│ Containers, notable features, scavenger signs │      │
│  │ Exits             │ Doors, passages, their apparent condition     │      │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.3 Service Interaction Diagram

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      SERVICE INTERACTION DIAGRAM                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │                       SCOUT COMMAND                                 │   │
│   │                        (Player action)                              │   │
│   └─────────────────────────────┬───────────────────────────────────────┘   │
│                                 │                                            │
│                       validates & builds context                            │
│                                 │                                            │
│                                 ▼                                            │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │                      SCOUT SERVICE                                  │   │
│   │                       (IScoutService)                               │   │
│   ├─────────────────────────────────────────────────────────────────────┤   │
│   │  + PerformScout(player, context)                                    │   │
│   │  + GetScoutDc(terrainType, modifiers)                               │   │
│   │  + CalculateRoomsRevealed(netSuccesses, adjacentCount)              │   │
│   │  + GetRoomInformation(roomId)                                       │   │
│   │  + DetectEnemies(roomId)                                            │   │
│   │  + DetectHazards(roomId)                                            │   │
│   │  + DetectPointsOfInterest(roomId)                                   │   │
│   └──────────┬──────────────────────────┬───────────────────────────────┘   │
│              │                          │                                    │
│    performs check              queries room data                            │
│              │                          │                                    │
│              ▼                          ▼                                    │
│   ┌─────────────────────────┐  ┌─────────────────────────┐                  │
│   │   SKILL CHECK SERVICE   │  │      ROOM SERVICE       │                  │
│   │   (ISkillCheckService)  │  │     (IRoomService)      │                  │
│   ├─────────────────────────┤  ├─────────────────────────┤                  │
│   │ + PerformCheckWithDC()  │  │ + GetAdjacentRooms()    │                  │
│   │ + CalculateDicePool()   │  │ + GetRoomEnemies()      │                  │
│   └──────────┬──────────────┘  │ + GetRoomHazards()      │                  │
│              │                  │ + GetRoomPOIs()         │                  │
│       rolls dice               └─────────────────────────┘                  │
│              │                                                               │
│              ▼                                                               │
│   ┌─────────────────────────┐  ┌─────────────────────────┐                  │
│   │     DICE SERVICE        │  │  CONFIGURATION LOADER   │                  │
│   │     (IDiceService)      │  │  (IConfigurationLoader) │                  │
│   ├─────────────────────────┤  ├─────────────────────────┤                  │
│   │ + RollPool(count)       │  │ + LoadScoutConfig()     │                  │
│   │ + CountSuccesses()      │  │ + LoadTerrainDCs()      │                  │
│   └─────────────────────────┘  └─────────────────────────┘                  │
│                                                                              │
│   Data Flow:                                                                │
│   ─────────────────────────────────────────────────────────────────────    │
│   1. Player uses 'scout' command                                           │
│   2. ScoutService builds context with terrain and adjacent rooms           │
│   3. Calculate DC based on terrain type and modifiers                      │
│   4. SkillCheckService performs Wasteland Survival check vs DC             │
│   5. Calculate rooms to reveal: 1 + (netSuccesses / 2)                     │
│   6. For each revealed room, gather enemies, hazards, POIs                 │
│   7. Build and return ScoutResult with all discovered information          │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.4 Layer Architecture

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           LAYER ARCHITECTURE                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                      DOMAIN LAYER                                    │    │
│  ├─────────────────────────────────────────────────────────────────────┤    │
│  │                                                                      │    │
│  │  ValueObjects/                                                       │    │
│  │  ├── ScoutResult.cs                                                 │    │
│  │  │   └── RoomsRevealed, TotalEnemies, TotalHazards,                │    │
│  │  │       TotalPointsOfInterest, NetSuccesses                        │    │
│  │  │                                                                   │    │
│  │  ├── ScoutContext.cs                                                │    │
│  │  │   └── PlayerId, CurrentRoomId, TerrainType,                     │    │
│  │  │       AdjacentRoomIds, EquipmentBonus, VisibilityModifier        │    │
│  │  │                                                                   │    │
│  │  ├── ScoutedRoom.cs                                                 │    │
│  │  │   └── RoomId, RoomName, Description, TerrainType,               │    │
│  │  │       Enemies, Hazards, PointsOfInterest, Exits                  │    │
│  │  │                                                                   │    │
│  │  ├── DetectedEnemy.cs                                               │    │
│  │  │   └── EnemyType, Count, ThreatLevel, Position                   │    │
│  │  │                                                                   │    │
│  │  ├── DetectedHazard.cs                                              │    │
│  │  │   └── HazardType, Severity, Description, AvoidanceHint          │    │
│  │  │                                                                   │    │
│  │  └── PointOfInterest.cs                                             │    │
│  │      └── InterestType, Description, InteractionHint                 │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                     │                                        │
│                                     ▼                                        │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                    APPLICATION LAYER                                 │    │
│  ├─────────────────────────────────────────────────────────────────────┤    │
│  │                                                                      │    │
│  │  Interfaces/                                                         │    │
│  │  └── IScoutService.cs                                               │    │
│  │      ├── PerformScout(player, context)                              │    │
│  │      ├── GetScoutDc(terrainType, modifiers)                         │    │
│  │      ├── CalculateRoomsRevealed(netSuccesses, adjacentCount)        │    │
│  │      ├── GetRoomInformation(roomId)                                 │    │
│  │      ├── DetectEnemies(roomId)                                      │    │
│  │      ├── DetectHazards(roomId)                                      │    │
│  │      └── DetectPointsOfInterest(roomId)                             │    │
│  │                                                                      │    │
│  │  Services/                                                           │    │
│  │  └── ScoutService.cs                                                │    │
│  │      └── Implements IScoutService                                   │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                     │                                        │
│                                     ▼                                        │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                   INFRASTRUCTURE LAYER                               │    │
│  ├─────────────────────────────────────────────────────────────────────┤    │
│  │                                                                      │    │
│  │  config/                                                             │    │
│  │  ├── scout-action.json                                              │    │
│  │  │   └── Terrain DCs, modifiers, revelation scaling                 │    │
│  │  │                                                                   │    │
│  │  └── schemas/                                                        │    │
│  │      └── scout-action.schema.json                                   │    │
│  │          └── JSON Schema validation                                 │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 4. ScoutResult Value Object

### 4.1 Purpose

The `ScoutResult` value object encapsulates the complete outcome of a scout action, including all rooms revealed and the enemies, hazards, and points of interest discovered in each.

### 4.2 Implementation

**File:** `src/Core/RuneAndRust.Domain/ValueObjects/ScoutResult.cs`

```csharp
namespace RuneAndRust.Domain.ValueObjects;

/// <summary>
/// Represents the complete outcome of a scout action.
/// </summary>
/// <remarks>
/// ScoutResult captures all information discovered during reconnaissance:
/// - RoomsRevealed: List of adjacent rooms successfully scouted
/// - Each room includes enemies, hazards, and points of interest
/// - NetSuccesses determines how many rooms were revealed
///
/// The formula for rooms revealed is: 1 + (NetSuccesses / 2)
/// This rewards investment in Wasteland Survival with more tactical information.
/// </remarks>
/// <param name="RoomsRevealed">List of scouted rooms with their contents.</param>
/// <param name="NetSuccesses">Number of net successes on the scout check.</param>
/// <param name="ScoutSucceeded">Whether the scout action succeeded at all.</param>
public readonly record struct ScoutResult(
    IReadOnlyList<ScoutedRoom> RoomsRevealed,
    int NetSuccesses,
    bool ScoutSucceeded)
{
    /// <summary>
    /// Gets the total number of rooms revealed.
    /// </summary>
    public int RoomCount => RoomsRevealed?.Count ?? 0;

    /// <summary>
    /// Gets the total number of enemies detected across all scouted rooms.
    /// </summary>
    public int TotalEnemiesDetected => RoomsRevealed?.Sum(r => r.Enemies?.Count ?? 0) ?? 0;

    /// <summary>
    /// Gets the total number of hazards detected across all scouted rooms.
    /// </summary>
    public int TotalHazardsDetected => RoomsRevealed?.Sum(r => r.Hazards?.Count ?? 0) ?? 0;

    /// <summary>
    /// Gets the total number of points of interest detected across all scouted rooms.
    /// </summary>
    public int TotalPointsOfInterest => RoomsRevealed?.Sum(r => r.PointsOfInterest?.Count ?? 0) ?? 0;

    /// <summary>
    /// Gets whether any enemies were detected.
    /// </summary>
    public bool EnemiesPresent => TotalEnemiesDetected > 0;

    /// <summary>
    /// Gets whether any hazards were detected.
    /// </summary>
    public bool HazardsPresent => TotalHazardsDetected > 0;

    /// <summary>
    /// Creates a successful scout result.
    /// </summary>
    public static ScoutResult Success(IReadOnlyList<ScoutedRoom> rooms, int netSuccesses) =>
        new(rooms, netSuccesses, ScoutSucceeded: true);

    /// <summary>
    /// Creates a failed scout result.
    /// </summary>
    public static ScoutResult Failure(int netSuccesses) =>
        new(Array.Empty<ScoutedRoom>(), netSuccesses, ScoutSucceeded: false);

    /// <summary>
    /// Creates a display string summarizing the scout results.
    /// </summary>
    public string ToDisplayString()
    {
        if (!ScoutSucceeded)
        {
            return "You strain to observe the surroundings but learn nothing useful. " +
                   "The terrain obscures your view.";
        }

        var result = $"You carefully scout the area and discover information about " +
                     $"{RoomCount} adjacent {(RoomCount == 1 ? "room" : "rooms")}.\n";

        if (EnemiesPresent)
        {
            result += $"\n[WARNING] Enemies detected: {TotalEnemiesDetected} hostile " +
                      $"{(TotalEnemiesDetected == 1 ? "presence" : "presences")} spotted.";
        }

        if (HazardsPresent)
        {
            result += $"\n[CAUTION] Hazards detected: {TotalHazardsDetected} environmental " +
                      $"{(TotalHazardsDetected == 1 ? "danger" : "dangers")} identified.";
        }

        if (TotalPointsOfInterest > 0)
        {
            result += $"\n[INTEREST] Points of interest: {TotalPointsOfInterest} notable " +
                      $"{(TotalPointsOfInterest == 1 ? "feature" : "features")} observed.";
        }

        return result;
    }
}
```

---

## 5. ScoutContext Value Object

### 5.1 Purpose

The `ScoutContext` value object captures all information needed to perform a scout action, including the player's position, terrain type, adjacent rooms available for scouting, and any modifiers from equipment or conditions.

### 5.2 Implementation

**File:** `src/Core/RuneAndRust.Domain/ValueObjects/ScoutContext.cs`

```csharp
namespace RuneAndRust.Domain.ValueObjects;

using RuneAndRust.Domain.Enums;

/// <summary>
/// Context for performing a scout action.
/// </summary>
/// <remarks>
/// ScoutContext encapsulates all factors affecting a scout attempt:
/// - Current position and terrain determine base DC
/// - Adjacent rooms are candidates for revelation
/// - Equipment and conditions provide modifiers
///
/// The terrain type is particularly important as it represents
/// how difficult it is to observe the surroundings.
/// </remarks>
/// <param name="PlayerId">The player performing the scout.</param>
/// <param name="CurrentRoomId">The room the player is scouting from.</param>
/// <param name="TerrainType">The terrain type affecting DC.</param>
/// <param name="AdjacentRoomIds">IDs of rooms that can be scouted.</param>
/// <param name="EquipmentBonus">Bonus from survival equipment.</param>
/// <param name="VisibilityModifier">Modifier from lighting/weather.</param>
public readonly record struct ScoutContext(
    string PlayerId,
    string CurrentRoomId,
    TerrainType TerrainType,
    IReadOnlyList<string> AdjacentRoomIds,
    int EquipmentBonus,
    int VisibilityModifier)
{
    /// <summary>
    /// Gets the number of adjacent rooms available to scout.
    /// </summary>
    public int AdjacentRoomCount => AdjacentRoomIds?.Count ?? 0;

    /// <summary>
    /// Gets the total modifier to apply to the scout check.
    /// </summary>
    /// <remarks>
    /// Positive modifiers help (added to dice pool).
    /// Equipment bonus is typically positive (survival kit, binoculars).
    /// Visibility modifier can be positive (good lighting) or negative (darkness, storm).
    /// </remarks>
    public int TotalModifier => EquipmentBonus + VisibilityModifier;

    /// <summary>
    /// Creates a basic scout context with default modifiers.
    /// </summary>
    public static ScoutContext Create(
        string playerId,
        string currentRoomId,
        TerrainType terrainType,
        IReadOnlyList<string> adjacentRoomIds) =>
        new(playerId, currentRoomId, terrainType, adjacentRoomIds,
            EquipmentBonus: 0, VisibilityModifier: 0);

    /// <summary>
    /// Creates a scout context with equipment and visibility modifiers.
    /// </summary>
    public static ScoutContext CreateWithModifiers(
        string playerId,
        string currentRoomId,
        TerrainType terrainType,
        IReadOnlyList<string> adjacentRoomIds,
        int equipmentBonus,
        int visibilityModifier) =>
        new(playerId, currentRoomId, terrainType, adjacentRoomIds,
            equipmentBonus, visibilityModifier);
}
```

---

## 6. IScoutService Interface

### 6.1 Purpose

The `IScoutService` interface defines the contract for the scout action system, providing methods for performing reconnaissance and gathering information about adjacent rooms.

### 6.2 Implementation

**File:** `src/Core/RuneAndRust.Application/Interfaces/IScoutService.cs`

```csharp
namespace RuneAndRust.Application.Interfaces;

using RuneAndRust.Domain.Entities;
using RuneAndRust.Domain.Enums;
using RuneAndRust.Domain.ValueObjects;

/// <summary>
/// Service interface for the scout action in the Wasteland Survival system.
/// </summary>
public interface IScoutService
{
    /// <summary>
    /// Performs a scout action to reveal adjacent rooms.
    /// </summary>
    /// <param name="player">The player performing the scout.</param>
    /// <param name="context">Context containing terrain and adjacent rooms.</param>
    /// <returns>Result containing revealed rooms and their contents.</returns>
    ScoutResult PerformScout(Player player, ScoutContext context);

    /// <summary>
    /// Gets the base DC for scouting based on terrain type.
    /// </summary>
    /// <param name="terrainType">The terrain type.</param>
    /// <returns>The base difficulty class.</returns>
    int GetBaseDc(TerrainType terrainType);

    /// <summary>
    /// Gets the scout DC with all modifiers applied.
    /// </summary>
    /// <param name="terrainType">The terrain type.</param>
    /// <param name="visibilityModifier">Modifier from visibility conditions.</param>
    /// <returns>The calculated difficulty class.</returns>
    int GetScoutDc(TerrainType terrainType, int visibilityModifier);

    /// <summary>
    /// Calculates how many rooms are revealed based on net successes.
    /// </summary>
    /// <param name="netSuccesses">Number of successes above DC.</param>
    /// <param name="adjacentRoomCount">Maximum rooms available.</param>
    /// <returns>Number of rooms to reveal.</returns>
    int CalculateRoomsRevealed(int netSuccesses, int adjacentRoomCount);

    /// <summary>
    /// Detects enemies in a specific room.
    /// </summary>
    /// <param name="roomId">The room to check.</param>
    /// <returns>List of detected enemies.</returns>
    IReadOnlyList<DetectedEnemy> DetectEnemies(string roomId);

    /// <summary>
    /// Detects hazards in a specific room.
    /// </summary>
    /// <param name="roomId">The room to check.</param>
    /// <returns>List of detected hazards.</returns>
    IReadOnlyList<DetectedHazard> DetectHazards(string roomId);

    /// <summary>
    /// Detects points of interest in a specific room.
    /// </summary>
    /// <param name="roomId">The room to check.</param>
    /// <returns>List of points of interest.</returns>
    IReadOnlyList<PointOfInterest> DetectPointsOfInterest(string roomId);
}
```

---

## 7. ScoutService Implementation

### 7.1 Purpose

The `ScoutService` implements the scout action system, coordinating skill checks with room information retrieval to produce comprehensive reconnaissance results.

### 7.2 Implementation

**File:** `src/Core/RuneAndRust.Application/Services/ScoutService.cs`

```csharp
namespace RuneAndRust.Application.Services;

using Microsoft.Extensions.Logging;
using RuneAndRust.Application.Interfaces;
using RuneAndRust.Domain.Entities;
using RuneAndRust.Domain.Enums;
using RuneAndRust.Domain.ValueObjects;

/// <summary>
/// Implements the scout action for the Wasteland Survival system.
/// </summary>
/// <remarks>
/// The ScoutService handles reconnaissance operations:
///
/// DC Calculation:
/// - Base DC determined by terrain type (8-24)
/// - Visibility modifiers (+/- based on conditions)
///
/// Room Revelation Formula:
/// - Success (net >= 0): 1 + (netSuccesses / 2) rooms revealed
/// - Failure (net < 0): 0 rooms revealed
/// - Maximum limited by adjacent room count
///
/// Each revealed room includes:
/// - Enemies (type, count, threat level)
/// - Hazards (type, severity, avoidance hints)
/// - Points of interest (containers, features, signs)
/// </remarks>
public class ScoutService : IScoutService
{
    private readonly ISkillCheckService _skillCheckService;
    private readonly IRoomService _roomService;
    private readonly ILogger<ScoutService> _logger;

    public ScoutService(
        ISkillCheckService skillCheckService,
        IRoomService roomService,
        ILogger<ScoutService> logger)
    {
        _skillCheckService = skillCheckService;
        _roomService = roomService;
        _logger = logger;
    }

    /// <inheritdoc />
    public ScoutResult PerformScout(Player player, ScoutContext context)
    {
        int dc = GetScoutDc(context.TerrainType, context.VisibilityModifier);

        _logger.LogDebug(
            "Player {PlayerId} scouting from {RoomId} (DC {Dc}, terrain: {Terrain})",
            player.Id, context.CurrentRoomId, dc, context.TerrainType);

        var skillContext = new SkillContext(
            SkillType.WastelandSurvival,
            dc,
            context.EquipmentBonus,
            $"Scouting {context.TerrainType} terrain");

        var checkResult = _skillCheckService.PerformCheckWithDC(player, skillContext);
        int netSuccesses = checkResult.NetSuccesses;

        if (netSuccesses < 0)
        {
            _logger.LogDebug(
                "Player {PlayerId} failed scout check ({Net} vs DC {Dc})",
                player.Id, checkResult.Successes, dc);

            return ScoutResult.Failure(netSuccesses);
        }

        int roomsToReveal = CalculateRoomsRevealed(netSuccesses, context.AdjacentRoomCount);

        _logger.LogInformation(
            "Player {PlayerId} scouted {RoomCount} rooms ({Net} net successes)",
            player.Id, roomsToReveal, netSuccesses);

        var revealedRooms = new List<ScoutedRoom>();

        // Reveal rooms up to the calculated limit
        for (int i = 0; i < roomsToReveal && i < context.AdjacentRoomIds.Count; i++)
        {
            string roomId = context.AdjacentRoomIds[i];
            var scoutedRoom = GatherRoomInformation(roomId);
            revealedRooms.Add(scoutedRoom);
        }

        return ScoutResult.Success(revealedRooms, netSuccesses);
    }

    /// <inheritdoc />
    public int GetBaseDc(TerrainType terrainType)
    {
        return terrainType switch
        {
            TerrainType.OpenWasteland => 8,
            TerrainType.ModerateRuins => 12,
            TerrainType.DenseRuins => 16,
            TerrainType.Labyrinthine => 20,
            TerrainType.GlitchedLabyrinth => 24,
            _ => 12
        };
    }

    /// <inheritdoc />
    public int GetScoutDc(TerrainType terrainType, int visibilityModifier)
    {
        int baseDc = GetBaseDc(terrainType);
        // Visibility modifier is added to DC (positive = harder, negative = easier)
        return Math.Max(1, baseDc + visibilityModifier);
    }

    /// <inheritdoc />
    public int CalculateRoomsRevealed(int netSuccesses, int adjacentRoomCount)
    {
        if (netSuccesses < 0)
        {
            return 0;
        }

        // Base 1 room + 1 per 2 net successes
        int roomsFromSuccesses = 1 + (netSuccesses / 2);

        // Cannot exceed available adjacent rooms
        return Math.Min(roomsFromSuccesses, adjacentRoomCount);
    }

    /// <inheritdoc />
    public IReadOnlyList<DetectedEnemy> DetectEnemies(string roomId)
    {
        var enemies = _roomService.GetRoomEnemies(roomId);

        return enemies.Select(e => new DetectedEnemy(
            EnemyType: e.Type,
            Count: e.Count,
            ThreatLevel: DetermineThreatLevel(e),
            Position: e.Position ?? "unknown location"
        )).ToList();
    }

    /// <inheritdoc />
    public IReadOnlyList<DetectedHazard> DetectHazards(string roomId)
    {
        var hazards = _roomService.GetRoomHazards(roomId);

        return hazards.Select(h => new DetectedHazard(
            HazardType: h.Type,
            Severity: h.Severity,
            Description: h.Description,
            AvoidanceHint: GetAvoidanceHint(h.Type)
        )).ToList();
    }

    /// <inheritdoc />
    public IReadOnlyList<PointOfInterest> DetectPointsOfInterest(string roomId)
    {
        var pois = _roomService.GetRoomPointsOfInterest(roomId);

        return pois.Select(p => new PointOfInterest(
            InterestType: p.Type,
            Description: p.Description,
            InteractionHint: GetInteractionHint(p.Type)
        )).ToList();
    }

    private ScoutedRoom GatherRoomInformation(string roomId)
    {
        var roomInfo = _roomService.GetRoom(roomId);
        var enemies = DetectEnemies(roomId);
        var hazards = DetectHazards(roomId);
        var pois = DetectPointsOfInterest(roomId);
        var exits = _roomService.GetRoomExits(roomId);

        return new ScoutedRoom(
            RoomId: roomId,
            RoomName: roomInfo.Name,
            Description: roomInfo.Description,
            TerrainType: roomInfo.TerrainType,
            Enemies: enemies,
            Hazards: hazards,
            PointsOfInterest: pois,
            Exits: exits.Select(e => e.Direction).ToList()
        );
    }

    private static ThreatLevel DetermineThreatLevel(RoomEnemy enemy)
    {
        // Determine threat level based on enemy properties
        return enemy.ChallengeRating switch
        {
            <= 2 => ThreatLevel.Low,
            <= 5 => ThreatLevel.Moderate,
            <= 8 => ThreatLevel.High,
            _ => ThreatLevel.Extreme
        };
    }

    private static string GetAvoidanceHint(HazardType hazardType)
    {
        return hazardType switch
        {
            HazardType.ObviousDanger => "Step carefully around the obvious hazard.",
            HazardType.HiddenPit => "Test the ground before stepping.",
            HazardType.ToxicZone => "Hold your breath or find another route.",
            HazardType.GlitchPocket => "Do not enter—reality is unstable here.",
            HazardType.AmbushSite => "Approach with weapons ready.",
            _ => "Proceed with caution."
        };
    }

    private static string GetInteractionHint(PointOfInterestType poiType)
    {
        return poiType switch
        {
            PointOfInterestType.Container => "Can be searched for items.",
            PointOfInterestType.ScavengerSign => "Can be interpreted with Wasteland Survival.",
            PointOfInterestType.Mechanism => "May be activated or bypassed.",
            PointOfInterestType.ResourceNode => "Can be harvested for materials.",
            PointOfInterestType.Landmark => "Notable for navigation.",
            _ => "May warrant closer inspection."
        };
    }
}
```

---

## 8. Room Information Types

### 8.1 ScoutedRoom

**File:** `src/Core/RuneAndRust.Domain/ValueObjects/ScoutedRoom.cs`

```csharp
namespace RuneAndRust.Domain.ValueObjects;

using RuneAndRust.Domain.Enums;

/// <summary>
/// Represents a room revealed through scouting.
/// </summary>
/// <param name="RoomId">Unique identifier for the room.</param>
/// <param name="RoomName">Display name of the room.</param>
/// <param name="Description">Brief description of the room.</param>
/// <param name="TerrainType">The terrain type of this room.</param>
/// <param name="Enemies">Enemies detected in this room.</param>
/// <param name="Hazards">Hazards detected in this room.</param>
/// <param name="PointsOfInterest">Points of interest in this room.</param>
/// <param name="Exits">Directions of exits from this room.</param>
public readonly record struct ScoutedRoom(
    string RoomId,
    string RoomName,
    string Description,
    TerrainType TerrainType,
    IReadOnlyList<DetectedEnemy> Enemies,
    IReadOnlyList<DetectedHazard> Hazards,
    IReadOnlyList<PointOfInterest> PointsOfInterest,
    IReadOnlyList<string> Exits)
{
    /// <summary>
    /// Gets whether this room contains enemies.
    /// </summary>
    public bool HasEnemies => Enemies?.Count > 0;

    /// <summary>
    /// Gets whether this room contains hazards.
    /// </summary>
    public bool HasHazards => Hazards?.Count > 0;

    /// <summary>
    /// Gets whether this room has points of interest.
    /// </summary>
    public bool HasPointsOfInterest => PointsOfInterest?.Count > 0;

    /// <summary>
    /// Creates a display string for this scouted room.
    /// </summary>
    public string ToDisplayString()
    {
        var result = $"[{RoomName}]\n{Description}\n";

        if (HasEnemies)
        {
            result += $"\n  Enemies: {string.Join(", ", Enemies.Select(e => e.ToDisplayString()))}";
        }

        if (HasHazards)
        {
            result += $"\n  Hazards: {string.Join(", ", Hazards.Select(h => h.ToDisplayString()))}";
        }

        if (HasPointsOfInterest)
        {
            result += $"\n  Notable: {string.Join(", ", PointsOfInterest.Select(p => p.ToDisplayString()))}";
        }

        result += $"\n  Exits: {string.Join(", ", Exits)}";

        return result;
    }
}
```

### 8.2 DetectedEnemy

**File:** `src/Core/RuneAndRust.Domain/ValueObjects/DetectedEnemy.cs`

```csharp
namespace RuneAndRust.Domain.ValueObjects;

/// <summary>
/// Represents an enemy detected during scouting.
/// </summary>
/// <remarks>
/// Scouting reveals general information about enemies but not
/// specific stats—just enough to assess the threat.
/// </remarks>
/// <param name="EnemyType">General type/category of the enemy.</param>
/// <param name="Count">Number of enemies of this type.</param>
/// <param name="ThreatLevel">Assessed threat level.</param>
/// <param name="Position">Where in the room they are located.</param>
public readonly record struct DetectedEnemy(
    string EnemyType,
    int Count,
    ThreatLevel ThreatLevel,
    string Position)
{
    /// <summary>
    /// Creates a display string for this detected enemy.
    /// </summary>
    public string ToDisplayString()
    {
        string countStr = Count == 1 ? "1" : $"{Count}";
        string threatStr = ThreatLevel switch
        {
            ThreatLevel.Low => "minor",
            ThreatLevel.Moderate => "moderate",
            ThreatLevel.High => "dangerous",
            ThreatLevel.Extreme => "deadly",
            _ => "unknown"
        };
        return $"{countStr} {EnemyType} ({threatStr} threat)";
    }
}

/// <summary>
/// Threat levels for detected enemies.
/// </summary>
public enum ThreatLevel
{
    /// <summary>Low threat, easily handled.</summary>
    Low = 0,

    /// <summary>Moderate threat, requires attention.</summary>
    Moderate = 1,

    /// <summary>High threat, dangerous encounter.</summary>
    High = 2,

    /// <summary>Extreme threat, potentially lethal.</summary>
    Extreme = 3
}
```

### 8.3 DetectedHazard

**File:** `src/Core/RuneAndRust.Domain/ValueObjects/DetectedHazard.cs`

```csharp
namespace RuneAndRust.Domain.ValueObjects;

using RuneAndRust.Domain.Enums;

/// <summary>
/// Represents a hazard detected during scouting.
/// </summary>
/// <param name="HazardType">The type of hazard.</param>
/// <param name="Severity">How dangerous the hazard is.</param>
/// <param name="Description">Brief description of the hazard.</param>
/// <param name="AvoidanceHint">Hint for how to avoid or handle the hazard.</param>
public readonly record struct DetectedHazard(
    HazardType HazardType,
    HazardSeverity Severity,
    string Description,
    string AvoidanceHint)
{
    /// <summary>
    /// Creates a display string for this detected hazard.
    /// </summary>
    public string ToDisplayString()
    {
        string severityStr = Severity switch
        {
            HazardSeverity.Minor => "minor",
            HazardSeverity.Moderate => "moderate",
            HazardSeverity.Severe => "severe",
            HazardSeverity.Lethal => "lethal",
            _ => "unknown"
        };
        return $"{HazardType} ({severityStr})";
    }
}

/// <summary>
/// Severity levels for detected hazards.
/// </summary>
public enum HazardSeverity
{
    /// <summary>Minor damage or inconvenience.</summary>
    Minor = 0,

    /// <summary>Moderate damage, should be avoided.</summary>
    Moderate = 1,

    /// <summary>Severe damage, dangerous to enter.</summary>
    Severe = 2,

    /// <summary>Potentially lethal if triggered.</summary>
    Lethal = 3
}
```

### 8.4 PointOfInterest

**File:** `src/Core/RuneAndRust.Domain/ValueObjects/PointOfInterest.cs`

```csharp
namespace RuneAndRust.Domain.ValueObjects;

/// <summary>
/// Represents a point of interest detected during scouting.
/// </summary>
/// <param name="InterestType">Category of point of interest.</param>
/// <param name="Description">Brief description of what was observed.</param>
/// <param name="InteractionHint">Hint for how to interact with this POI.</param>
public readonly record struct PointOfInterest(
    PointOfInterestType InterestType,
    string Description,
    string InteractionHint)
{
    /// <summary>
    /// Creates a display string for this point of interest.
    /// </summary>
    public string ToDisplayString() => $"{InterestType}: {Description}";
}

/// <summary>
/// Categories of points of interest.
/// </summary>
public enum PointOfInterestType
{
    /// <summary>Container that may hold items (chest, crate, locker).</summary>
    Container = 0,

    /// <summary>Scavenger sign that can be interpreted.</summary>
    ScavengerSign = 1,

    /// <summary>Mechanism that can be activated or bypassed.</summary>
    Mechanism = 2,

    /// <summary>Resource node that can be harvested.</summary>
    ResourceNode = 3,

    /// <summary>Landmark useful for navigation.</summary>
    Landmark = 4,

    /// <summary>Other notable feature.</summary>
    Other = 5
}
```

---

## 9. Data Model Changes

### 9.1 New Value Objects

| Value Object | Layer | Description |
|--------------|-------|-------------|
| `ScoutResult` | Domain | Complete outcome of scout action |
| `ScoutContext` | Domain | Context for performing scout |
| `ScoutedRoom` | Domain | Information about a revealed room |
| `DetectedEnemy` | Domain | Enemy presence information |
| `DetectedHazard` | Domain | Hazard information |
| `PointOfInterest` | Domain | Notable feature information |

### 9.2 New Enums

| Enum | Layer | Description |
|------|-------|-------------|
| `ThreatLevel` | Domain | Enemy threat assessment levels |
| `HazardSeverity` | Domain | Hazard danger levels |
| `PointOfInterestType` | Domain | Categories of points of interest |

### 9.3 New Interfaces

| Interface | Layer | Description |
|-----------|-------|-------------|
| `IScoutService` | Application | Scout action service contract |

### 9.4 New Services

| Service | Layer | Description |
|---------|-------|-------------|
| `ScoutService` | Application | Scout action implementation |

### 9.5 Required External Types

The scout system depends on the following types from the room/dungeon system:

| Type | Usage |
|------|-------|
| `IRoomService` | Retrieving room information, enemies, hazards, POIs |
| `TerrainType` | From v0.15.5d Navigation System |
| `HazardType` | From v0.15.5e Hazard Detection System |

---

## 10. Configuration Files

### 10.1 scout-action.json

**File:** `config/scout-action.json`

```json
{
    "$schema": "./schemas/scout-action.schema.json",
    "terrainDCs": {
        "OpenWasteland": 8,
        "ModerateRuins": 12,
        "DenseRuins": 16,
        "Labyrinthine": 20,
        "GlitchedLabyrinth": 24
    },
    "visibilityModifiers": {
        "excellent": -2,
        "good": -1,
        "normal": 0,
        "poor": 2,
        "terrible": 4,
        "staticStorm": 6
    },
    "equipmentBonuses": {
        "survivalKit": 1,
        "binoculars": 2,
        "nightVisionGoggles": 3
    },
    "revelationScaling": {
        "baseRooms": 1,
        "successesPerExtraRoom": 2,
        "maximumRooms": 6
    },
    "threatLevelThresholds": {
        "low": 2,
        "moderate": 5,
        "high": 8
    },
    "displayStrings": {
        "success": "You carefully scout the area and discover information about {roomCount} adjacent {roomWord}.",
        "failure": "You strain to observe the surroundings but learn nothing useful. The terrain obscures your view.",
        "enemyWarning": "[WARNING] Enemies detected: {count} hostile {presenceWord} spotted.",
        "hazardCaution": "[CAUTION] Hazards detected: {count} environmental {dangerWord} identified.",
        "poiInterest": "[INTEREST] Points of interest: {count} notable {featureWord} observed."
    }
}
```

### 10.2 scout-action.schema.json

**File:** `config/schemas/scout-action.schema.json`

```json
{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://runeandrust.game/schemas/scout-action.schema.json",
    "title": "Scout Action Configuration",
    "description": "Configuration schema for scout action system",
    "type": "object",
    "required": ["terrainDCs", "visibilityModifiers", "revelationScaling"],
    "properties": {
        "terrainDCs": {
            "type": "object",
            "description": "Base DC values for each terrain type",
            "properties": {
                "OpenWasteland": { "type": "integer", "minimum": 1 },
                "ModerateRuins": { "type": "integer", "minimum": 1 },
                "DenseRuins": { "type": "integer", "minimum": 1 },
                "Labyrinthine": { "type": "integer", "minimum": 1 },
                "GlitchedLabyrinth": { "type": "integer", "minimum": 1 }
            },
            "additionalProperties": false
        },
        "visibilityModifiers": {
            "type": "object",
            "description": "DC modifiers based on visibility conditions",
            "properties": {
                "excellent": { "type": "integer" },
                "good": { "type": "integer" },
                "normal": { "type": "integer" },
                "poor": { "type": "integer" },
                "terrible": { "type": "integer" },
                "staticStorm": { "type": "integer" }
            }
        },
        "equipmentBonuses": {
            "type": "object",
            "description": "Bonuses from scouting equipment",
            "additionalProperties": { "type": "integer" }
        },
        "revelationScaling": {
            "type": "object",
            "description": "How rooms revealed scales with successes",
            "required": ["baseRooms", "successesPerExtraRoom"],
            "properties": {
                "baseRooms": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "Rooms revealed on basic success"
                },
                "successesPerExtraRoom": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "Net successes required per additional room"
                },
                "maximumRooms": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "Maximum rooms that can be revealed regardless of roll"
                }
            }
        },
        "threatLevelThresholds": {
            "type": "object",
            "description": "Challenge rating thresholds for threat levels",
            "properties": {
                "low": { "type": "integer" },
                "moderate": { "type": "integer" },
                "high": { "type": "integer" }
            }
        },
        "displayStrings": {
            "type": "object",
            "description": "Configurable display strings for scout results",
            "additionalProperties": { "type": "string" }
        }
    }
}
```

### 10.3 Configuration Schema Summary

| Config File | Schema File | Purpose |
|-------------|-------------|---------|
| `scout-action.json` | `scout-action.schema.json` | Terrain DCs, modifiers, revelation scaling |

---

## 11. Logging Specifications

### 11.1 Log Levels by Component

| Component | Level | Events |
|-----------|-------|--------|
| `ScoutService` | Information | Successful scouts with room count |
| `ScoutService` | Debug | DC calculations, all scout attempts |
| `ScoutService` | Debug | Failed scout attempts |
| `ScoutService` | Warning | Unusual conditions (no adjacent rooms) |
| `ScoutService` | Error | Service failures, invalid room IDs |

### 11.2 Log Message Examples

```
[Debug] Player {PlayerId} scouting from {RoomId} (DC {Dc}, terrain: {Terrain})
[Information] Player {PlayerId} scouted {RoomCount} rooms ({Net} net successes)
[Debug] Player {PlayerId} failed scout check ({Successes} vs DC {Dc})
[Warning] Player {PlayerId} attempted scout with no adjacent rooms
[Error] Failed to retrieve room information for {RoomId}
```

---

## 12. Unit Testing Requirements

### 12.1 Test Count by Feature

| Feature | Test Count |
|---------|------------|
| Scout reveals correct number of rooms based on successes | 1 |
| Enemies and hazards detected in scouted rooms | 1 |
| **Total** | **~2** |

### 12.2 Test Specifications

**File:** `tests/RuneAndRust.Tests/Services/ScoutServiceTests.cs`

```csharp
[TestFixture]
public class ScoutServiceTests
{
    [Test]
    [TestCase(0, 3, 1)]   // Net 0: 1 room (base)
    [TestCase(1, 3, 1)]   // Net 1: 1 room (base)
    [TestCase(2, 3, 2)]   // Net 2: 2 rooms (1 + 2/2)
    [TestCase(3, 3, 2)]   // Net 3: 2 rooms (1 + 3/2)
    [TestCase(4, 3, 3)]   // Net 4: 3 rooms (1 + 4/2)
    [TestCase(6, 3, 3)]   // Net 6: 3 rooms (capped at adjacent count)
    [TestCase(-1, 3, 0)]  // Failure: 0 rooms
    public void CalculateRoomsRevealed_GivenNetSuccesses_ReturnsCorrectCount(
        int netSuccesses,
        int adjacentRoomCount,
        int expectedRooms);

    [Test]
    public void PerformScout_GivenSuccessfulCheck_ReturnsRoomsWithEnemiesAndHazards();
}
```

### 12.3 Test Case Details

**Test 1: Room Revelation Scaling**
- Verifies the formula: 1 + (netSuccesses / 2)
- Tests boundary conditions at 0, 2, 4, 6 net successes
- Confirms capping at adjacent room count
- Confirms 0 rooms on failure

**Test 2: Enemy and Hazard Detection**
- Mocks room service to return known enemies and hazards
- Verifies scout result includes detected enemies
- Verifies scout result includes detected hazards
- Confirms point of interest detection

---

## 13. Use Cases

### UC-001: Basic Scout Action
**Actor:** Player
**Flow:** Use 'scout' command → Perform skill check → Reveal 1 adjacent room → See enemies, hazards, and POIs in that room

### UC-002: Excellent Scout Roll
**Actor:** Player
**Flow:** Use 'scout' → Roll well (net +4) → Reveal 3 adjacent rooms → Full tactical picture of surroundings

### UC-003: Failed Scout Attempt
**Actor:** Player
**Flow:** Use 'scout' → Fail check (net < 0) → No rooms revealed → May retry after 10 minutes

### UC-004: Scout in Dangerous Terrain
**Actor:** Player
**Flow:** Enter Labyrinthine terrain (DC 20) → Use 'scout' → Higher difficulty reflects twisting passages → Result reveals what lies ahead

---

## 14. Deliverable Checklist

### 14.1 Domain Layer

- [ ] `ScoutResult.cs` value object created in `ValueObjects/`
- [ ] `ScoutContext.cs` value object created in `ValueObjects/`
- [ ] `ScoutedRoom.cs` value object created in `ValueObjects/`
- [ ] `DetectedEnemy.cs` value object created in `ValueObjects/`
- [ ] `DetectedHazard.cs` value object created in `ValueObjects/`
- [ ] `PointOfInterest.cs` value object created in `ValueObjects/`
- [ ] `ThreatLevel` enum created
- [ ] `HazardSeverity` enum created
- [ ] `PointOfInterestType` enum created

### 14.2 Application Layer

- [ ] `IScoutService.cs` interface created in `Interfaces/`
- [ ] `ScoutService.cs` created in `Services/`
- [ ] Service registered in dependency injection

### 14.3 Configuration

- [ ] `config/scout-action.json` created
- [ ] `config/schemas/scout-action.schema.json` created
- [ ] Configuration files validate against schemas

### 14.4 Testing

- [ ] `ScoutServiceTests.cs` created (~2 tests)
- [ ] All tests passing

### 14.5 Documentation

- [ ] XML documentation complete on all public members
- [ ] Design specification finalized

---

## 15. Acceptance Criteria

### 15.1 Functional

- [ ] Terrain type correctly determines base DC (8/12/16/20/24)
- [ ] Visibility modifiers apply correctly to DC
- [ ] Base success reveals 1 adjacent room
- [ ] Each 2 net successes reveal 1 additional room
- [ ] Room revelation capped at adjacent room count
- [ ] Failed scouts (net < 0) reveal 0 rooms
- [ ] Scouted rooms include detected enemies
- [ ] Scouted rooms include detected hazards
- [ ] Scouted rooms include points of interest
- [ ] Equipment bonuses apply to scout checks

### 15.2 Quality

- [ ] Build succeeds with 0 errors/warnings
- [ ] All ~2 tests pass
- [ ] Configuration files validate against schemas
- [ ] XML documentation complete

---

## 16. Dependencies

### 16.1 Required from Previous Versions

| Type | Version | Usage |
|------|---------|-------|
| `ISkillCheckService` | v0.15.0 | Perform scout skill checks |
| `SkillContext` | v0.15.1 | Build context for skill checks |
| `TerrainType` | v0.15.5d | Terrain-based DC calculation |
| `HazardType` | v0.15.5e | Hazard type identification |
| `ScavengerSignType` | v0.15.5f | Sign detection as POI |

### 16.2 Required External Services

| Type | Usage |
|------|-------|
| `IRoomService` | Room information, enemies, hazards, POIs, exits |

### 16.3 Provides to Future Versions

| Type | Usage |
|------|-------|
| `ScoutResult` | v0.15.5h Specialization bonuses to scouting |
| `IScoutService` | v0.15.5i Exploration Synergies combined checks |
| `ScoutedRoom` | UI rendering of scouted information |

---

## 17. Future Considerations

### 17.1 Deferred to v0.15.5h (Specialization Integration)

- **Veiðimaðr (Hunter)**: Bonus to detecting creature-type enemies
- **Myr-Stalker**: Bonus when scouting swamp/marsh terrain
- **Gantry-Runner**: Bonus when scouting industrial ruins

### 17.2 Deferred to v0.15.5i (Exploration Synergies)

- **Combined checks**: Scout + Stealth for undetected reconnaissance
- **Scout + Track**: Follow tracks revealed during scouting
- **Scout + Hazard Detection**: Detailed hazard analysis

### 17.3 Out of Scope

- **Active reconnaissance**: Moving into rooms to scout (different action)
- **Long-range scouting**: Scouting beyond adjacent rooms
- **Stealth scouting**: Scouting without alerting enemies

---

## 18. Document Metadata

---

*Document Version: 1.0*
*Last Updated: 2026-01-18*
*Author: Claude*

---

### Revision History

| Version | Date | Author | Changes |
|---------|------|--------|---------|
| 1.0 | 2026-01-18 | Claude | Initial design specification |

---

*This design specification provides the detailed blueprint for implementing v0.15.5g Scout Action. This establishes the progressive revelation pattern for exploration mechanics in the Wasteland Survival skill expansion.*
