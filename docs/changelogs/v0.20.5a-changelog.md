# v0.20.5a Changelog — Berserkr Framework & Tier 1 Abilities

## Version: 0.20.5a

## Date: 2026-02-11

## Focus: Berserkr Specialization — Framework & Tier 1 Abilities

---

## Added

### Domain Layer — Enums

- **`BerserkrAbilityId`** — Identifiers for all Berserkr abilities across 4 tiers
- **`RageLevel`** — 6-level Rage classification (Calm → Berserk) with threshold ranges
- **`BerserkrCorruptionTrigger`** — 9 combat-focused Corruption triggers specific to Berserkr

### Domain Layer — Value Objects

- **`RageResource`** — Mutable Rage resource (0–100) with gain/spend/decay operations
- **`BerserkrRageThreshold`** — Threshold breakpoints with effects and Corruption risk
- **`BloodiedState`** — Enemy HP snapshot for Blood Scent passive detection
- **`FuryStrikeResult`** — Fury Strike outcome with damage breakdown and Corruption status
- **`BerserkrCorruptionRiskResult`** — Berserkr-specific Corruption risk evaluation result

### Application Layer — Interfaces

- **`IBerserkrRageService`** — Contract for Berserkr Rage management (named to avoid collision with v0.18.4d `IRageService`)
- **`IBerserkrAbilityService`** — Contract for Tier 1 ability execution
- **`IBerserkrCorruptionService`** — Contract for rage-based Corruption evaluation

### Application Layer — Services

- **`BerserkrRageService`** — Per-character Rage tracking with threshold transition logging
- **`BerserkrAbilityService`** — Tier 1 abilities: Fury Strike (active), Blood Scent (passive), Pain is Fuel (passive)
- **`BerserkrCorruptionService`** — Rage-threshold-based Corruption risk evaluation for all 9 triggers

### Configuration

- Updated `specializations.json` Berserkr Tier 1 abilities:
    - `rage-strike` → `fury-strike` (weapon + 3d6, nat 20 +1d6, 20 Rage, +1 Corruption at 80+)
    - `blood-frenzy` → `blood-scent` (passive, +10 Rage on bloodied, +1 Attack vs bloodied)
    - `intimidating-presence` → `pain-is-fuel` (passive, +5 Rage on damage received)

### Unit Tests

- **`RageResourceTests`** — 21 tests: factory, gain/spend/decay, threshold classification, display
- **`BerserkrCorruptionServiceTests`** — 9 tests: passive safety, threshold triggers, combat entry, descriptions
- **`BerserkrAbilityServiceTests`** — 11 tests: Fury Strike, Blood Scent, Pain is Fuel, readiness

## Changed

- **`BloodiedState.cs`** — Added `using RuneAndRust.Domain.Enums` for XML cref resolution
- **`FuryStrikeResult.cs`** — Added `using RuneAndRust.Domain.Enums` for XML cref resolution

## Design Decisions

- **`BerserkrRageThreshold` naming**: Renamed from `RageThreshold` to avoid collision with existing v0.18.4d `RageThreshold` enum
- **`IBerserkrRageService` naming**: Prefixed with `Berserkr` to coexist alongside v0.18.4d `IRageService`
- **`RageResource` mutability**: Uses mutable properties for frequent in-combat updates, deviating from strict immutability pattern used by other value objects

## Test Results

```
Total tests: 59
     Passed: 59
     Failed: 0
```
