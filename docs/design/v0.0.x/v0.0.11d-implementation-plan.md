# v0.0.11d Implementation Plan: Interactive Objects & Polish

**Version:** 0.0.11d
**Parent:** v0.0.11 (Descriptors & Ambience)
**Prerequisites:** v0.0.11a, v0.0.11b, v0.0.11c Complete
**Design Specification:** [v0.0.11d-design-specification.md](v0.0.11d-design-specification.md)
**Status:** Ready for Implementation
**Target Tests:** ~14 unit tests

---

## Table of Contents

1. [Executive Summary](#executive-summary)
2. [Current System Analysis](#current-system-analysis)
3. [Detailed Implementation](#detailed-implementation)
4. [Testing Strategy](#testing-strategy)
5. [Implementation Checklist](#implementation-checklist)
6. [Acceptance Criteria](#acceptance-criteria)
7. [File Summary](#file-summary)

---

## Executive Summary

### Purpose

Add descriptors for interactive objects in the environment, implement an ambient event system for atmospheric occurrences, optimize descriptor performance with caching, and integrate all v0.0.11 descriptor systems into a cohesive experience. This phase polishes and unifies the descriptor framework.

### Scope

- **In Scope:**
  - Interactive object type definitions (doors, chests, levers, statues, altars, etc.)
  - Object state descriptor pools (locked, open, broken, activated, etc.)
  - Object examination depth levels (glance, look, examine)
  - Ambient event definitions (sound, visual, creature, environmental)
  - Ambient event triggers (exploration, periodic, combat, room entry)
  - Descriptor caching layer with `IMemoryCache`
  - Full v0.0.11 integration in room/combat rendering

- **Out of Scope:**
  - Object interaction mechanics (unlock, open, activate) - existing item system handles this
  - New game mechanics based on objects
  - Persistent object state across sessions
  - Procedural object generation

### Key Decisions

| Decision | Choice | Rationale |
|----------|--------|-----------|
| **Object Types** | 8 types (door, chest, lever, statue, altar, light, inscription, water) | Common dungeon objects |
| **Examination Depth** | 3 levels (glance, look, examine) | Progressive detail |
| **Ambient Events** | 4 types with cooldown | Prevent event spam |
| **Caching** | IMemoryCache with sliding expiration | Performance optimization |

---

## Current System Analysis

### Existing Descriptor System (v0.0.11a-c)

| Component | Current Capability |
|-----------|-------------------|
| `EnvironmentContext` | Biome, climate, lighting, era, condition |
| `CombatDescriptorService` | Weapon-type hits, death descriptors, abilities |
| `SensoryDescriptorService` | Lighting, sounds, smells, temperature, weather |
| Object descriptions | Static `Item.Description` field only |

### Target Enhancements (v0.0.11d)

| Component | Enhancement |
|-----------|-------------|
| Object descriptions | Dynamic state-based descriptors |
| Object examination | Progressive detail (glance, look, examine) |
| Interactive objects | Doors, chests, levers, statues, altars, etc. |
| Ambient events | Random atmospheric occurrences |
| Descriptor performance | Memory cache with TTL |
| System integration | Unified descriptor orchestration |

### New Components

| Component | Purpose |
|-----------|---------|
| `InteractiveObjectType` | Enum for object types |
| `ObjectState` | Enum for object states |
| `ExaminationDepth` | Enum for detail levels |
| `InteractiveObjectDescriptor` | Value object for object descriptions |
| `AmbientEventType` | Enum for event categories |
| `AmbientEventTrigger` | Enum for event triggers |
| `AmbientEvent` | Value object for atmospheric events |
| `ObjectDescriptorService` | State-based object descriptions |
| `AmbientEventService` | Atmospheric event generation |
| `CachedDescriptorService` | Caching decorator |

---

## Detailed Implementation

### Layer Interactions

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  Configuration Layer                         ‚îÇ
‚îÇ  objects.json, ambient-events.json                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  Application Layer                           ‚îÇ
‚îÇ  ObjectDescriptorService                                     ‚îÇ
‚îÇ  - GenerateDescriptor(), GetGlanceDescription()              ‚îÇ
‚îÇ  AmbientEventService                                         ‚îÇ
‚îÇ  - TryGenerateEvent(), ForceGenerateEvent()                  ‚îÇ
‚îÇ  CachedDescriptorService (decorator)                         ‚îÇ
‚îÇ  - GetDescriptorCached(), InvalidatePool()                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Domain Layer                              ‚îÇ
‚îÇ  InteractiveObjectDescriptor, AmbientEvent                   ‚îÇ
‚îÇ  InteractiveObjectType, ObjectState, ExaminationDepth        ‚îÇ
‚îÇ  AmbientEventType, AmbientEventTrigger                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### v0.0.11 Complete Integration Flow

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    v0.0.11 INTEGRATION FLOW                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

    Room.Enter() or Look Command
           ‚îÇ
           ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ        GameSessionService                ‚îÇ
    ‚îÇ  BuildRoomDescription(room)              ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
           ‚îÇ                                                  ‚îÇ
           ‚ñº                                                  ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  EnvironmentContext  ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ  Room Properties     ‚îÇ
    ‚îÇ  (from v0.0.11a)     ‚îÇ   Build context  ‚îÇ  Biome, Era, etc.    ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
           ‚îÇ                                                  ‚îÇ
           ‚ñº                                                  ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  SensoryDescriptor   ‚îÇ                  ‚îÇ  ObjectDescriptor    ‚îÇ
    ‚îÇ  Service (v0.0.11c)  ‚îÇ                  ‚îÇ  Service (v0.0.11d)  ‚îÇ
    ‚îÇ                      ‚îÇ                  ‚îÇ                      ‚îÇ
    ‚îÇ  ‚Ä¢ Lighting          ‚îÇ                  ‚îÇ  ‚Ä¢ Doors             ‚îÇ
    ‚îÇ  ‚Ä¢ Sounds            ‚îÇ                  ‚îÇ  ‚Ä¢ Chests            ‚îÇ
    ‚îÇ  ‚Ä¢ Smells            ‚îÇ                  ‚îÇ  ‚Ä¢ Levers            ‚îÇ
    ‚îÇ  ‚Ä¢ Temperature       ‚îÇ                  ‚îÇ  ‚Ä¢ Statues           ‚îÇ
    ‚îÇ  ‚Ä¢ Weather           ‚îÇ                  ‚îÇ  ‚Ä¢ Altars            ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ                                          ‚îÇ
           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                   ‚îÇ  CombatDescriptor    ‚îÇ  (if in combat)
                   ‚îÇ  Service (v0.0.11b)  ‚îÇ
                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                   ‚îÇ  AmbientEventService ‚îÇ  (random trigger)
                   ‚îÇ  (v0.0.11d)          ‚îÇ
                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                   ‚îÇ  Composed Output     ‚îÇ
                   ‚îÇ  Room + Sensory +    ‚îÇ
                   ‚îÇ  Objects + Ambient   ‚îÇ
                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

All services use:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  CachedDescriptorService (decorator)                             ‚îÇ
‚îÇ    ‚îî‚îÄ‚îÄ DescriptorService (base)                                  ‚îÇ
‚îÇ          ‚îî‚îÄ‚îÄ Descriptor pools from JSON configuration            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## Testing Strategy

### Unit Tests (~14 tests)

#### ObjectDescriptorServiceTests.cs (~6 tests)

| Test | Description |
|------|-------------|
| `GenerateDescriptor_ReturnsAllDepthLevels` | All depths populated |
| `GetDescription_AtGlanceDepth_ReturnsBriefText` | Glance brevity |
| `GetDescription_AtExamineDepth_IncludesInteractionHint` | Examine detail |
| `GenerateDescriptor_UsesStateSpecificPool` | State pool selection |
| `GenerateDescriptor_IncludesMaterialDetails` | Material enrichment |
| `GenerateDescriptor_IncludesAgeDetails` | Age enrichment |

#### AmbientEventServiceTests.cs (~5 tests)

| Test | Description |
|------|-------------|
| `TryGenerateEvent_RespectsCooldown` | Cooldown enforcement |
| `TryGenerateEvent_SuppressesDuringCombat` | Combat suppression |
| `GetEventOfType_UsesBiomeSpecificPool` | Biome-specific events |
| `SelectEventType_WeightsAdjustByBiome` | Weight adjustment |
| `ForceGenerateEvent_BypassesChanceRoll` | Force bypass |

#### CachedDescriptorServiceTests.cs (~3 tests)

| Test | Description |
|------|-------------|
| `GetDescriptorCached_ReturnsCachedValue` | Cache hit |
| `GetDescriptorCached_BypassesCacheForContext` | Context bypass |
| `GetDescriptorCached_CachesNewDescriptors` | Cache population |

---

## Implementation Checklist

> **Legend:** üü¢ No dependencies | üü° Has dependencies | üî¥ Critical path
> **Complexity:** ‚≠ê Simple | ‚≠ê‚≠ê Moderate | ‚≠ê‚≠ê‚≠ê Complex

---

### Phase 1: Domain Enums

#### 1.1 Create InteractiveObjectType Enum üü¢ ‚≠ê

**File:** `src/Core/RuneAndRust.Domain/Enums/InteractiveObjectType.cs`

- [ ] Create `InteractiveObjectType` enum
  - `Door`, `Chest`, `Lever`, `Statue`, `Altar`
  - `LightSource`, `Inscription`, `WaterFeature`

**Acceptance:** Enum defined with XML documentation.

---

#### 1.2 Create ObjectState Enum üü¢ ‚≠ê

**File:** `src/Core/RuneAndRust.Domain/Enums/ObjectState.cs`

- [ ] Create `ObjectState` enum
  - General: `Normal`, `Broken`, `Destroyed`
  - Door/Chest: `Closed`, `Open`, `Locked`, `Barred`, `Empty`, `Trapped`
  - Lever: `Up`, `Down`, `Stuck`
  - Altar/Statue: `Active`, `Inactive`, `Desecrated`, `Blessed`, `Damaged`, `Defaced`
  - Light: `Lit`, `Unlit`, `Flickering`

**Acceptance:** Enum covers all object states.

---

#### 1.3 Create ExaminationDepth Enum üü¢ ‚≠ê

**File:** `src/Core/RuneAndRust.Domain/Enums/ExaminationDepth.cs`

- [ ] Create `ExaminationDepth` enum
  - `Glance` (room entry)
  - `Look` (standard look command)
  - `Examine` (detailed examination)

**Acceptance:** Enum defined with XML documentation.

---

#### 1.4 Create AmbientEventType Enum üü¢ ‚≠ê

**File:** `src/Core/RuneAndRust.Domain/Enums/AmbientEventType.cs`

- [ ] Create `AmbientEventType` enum
  - `Sound`, `Visual`, `Creature`, `Environmental`

**Acceptance:** Enum defined with XML documentation.

---

#### 1.5 Create AmbientEventTrigger Enum üü¢ ‚≠ê

**File:** `src/Core/RuneAndRust.Domain/Enums/AmbientEventTrigger.cs`

- [ ] Create `AmbientEventTrigger` enum
  - `Exploration`, `Periodic`, `Combat`, `RoomEntry`, `PlayerAction`

**Acceptance:** Enum defined with XML documentation.

---

### Phase 2: Domain Value Objects

#### 2.1 Create InteractiveObjectDescriptor üü° ‚≠ê‚≠ê

**File:** `src/Core/RuneAndRust.Domain/ValueObjects/InteractiveObjectDescriptor.cs`

- [ ] Create `InteractiveObjectDescriptor` readonly record struct
  - `ObjectType` (InteractiveObjectType)
  - `State` (ObjectState)
  - `GlanceDescription` (string)
  - `LookDescription` (string)
  - `ExamineDescription` (string)
  - `InteractionHint` (nullable string)
- [ ] Add `GetDescription(ExaminationDepth depth)` method
- [ ] Add private `BuildExamineDescription()` method

**Acceptance:** Value object supports progressive detail.

---

#### 2.2 Create AmbientEvent üü° ‚≠ê‚≠ê

**File:** `src/Core/RuneAndRust.Domain/ValueObjects/AmbientEvent.cs`

- [ ] Create `AmbientEvent` readonly record struct
  - `EventType` (AmbientEventType)
  - `Description` (string)
  - `Intensity` (float 0.0-1.0)
  - `IsInterruptive` (bool)
- [ ] Add `static AmbientEvent None` property
- [ ] Add `HasEvent` property

**Acceptance:** Value object represents atmospheric events.

---

### Phase 3: Application Context Classes

#### 3.1 Create ObjectDescriptorContext üü° ‚≠ê‚≠ê

**File:** `src/Core/RuneAndRust.Application/Services/ObjectDescriptorContext.cs`

- [ ] Create `ObjectDescriptorContext` record
  - `ObjectType` (InteractiveObjectType)
  - `State` (ObjectState)
  - `Depth` (ExaminationDepth, default Look)
  - `Environment` (nullable EnvironmentContext)
  - `Material` (nullable string)
  - `Age` (nullable string)
  - `Tags` (IReadOnlyList<string>)

**Acceptance:** Context captures all object descriptor inputs.

---

#### 3.2 Create AmbientEventContext üü° ‚≠ê‚≠ê

**File:** `src/Core/RuneAndRust.Application/Services/AmbientEventContext.cs`

- [ ] Create `AmbientEventContext` record
  - `Environment` (EnvironmentContext)
  - `Sensory` (nullable SensoryContext)
  - `Trigger` (AmbientEventTrigger)
  - `InCombat` (bool)
  - `TimeSinceLastEvent` (TimeSpan)
  - `TurnsInRoom` (int)

**Acceptance:** Context captures all ambient event inputs.

---

### Phase 4: Configuration Classes

#### 4.1 Create ObjectDescriptorConfiguration üü¢ ‚≠ê‚≠ê

**File:** `src/Core/RuneAndRust.Application/Configuration/ObjectDescriptorConfiguration.cs`

- [ ] Create `ObjectDescriptorConfiguration` class
  - `ObjectTypes` dictionary of ObjectTypeDefinition
- [ ] Create `ObjectTypeDefinition` class
  - `Id`, `Name`, `ValidStates`, `DefaultState`, `IsInteractable`

**Acceptance:** Configuration classes deserialize from JSON.

---

#### 4.2 Create AmbientEventConfiguration üü¢ ‚≠ê‚≠ê

**File:** `src/Core/RuneAndRust.Application/Configuration/AmbientEventConfiguration.cs`

- [ ] Create `AmbientEventConfiguration` class
  - `EventPools` dictionary of AmbientEventPool
  - `BaseProbability` (float)
  - `CooldownSeconds` (int)
- [ ] Create `AmbientEventPool` class
  - `Id`, `Name`, `ValidBiomes`, `ValidTriggers`

**Acceptance:** Configuration classes deserialize from JSON.

---

### Phase 5: Configuration Files

#### 5.1 Create objects.json üü¢ ‚≠ê‚≠ê‚≠ê

**File:** `config/descriptors/objects.json`

- [ ] Create door pools (closed, locked, open, barred, broken glance/look/examine)
- [ ] Create chest pools (closed, locked, open, empty glance/look/examine)
- [ ] Create lever pools (up, down, stuck glance/look/examine)
- [ ] Create statue pools (normal, damaged, defaced glance/look/examine)
- [ ] Create altar pools (active, inactive, blessed, desecrated glance/look/examine)

**Acceptance:** 20+ pools for interactive object descriptors.

---

#### 5.2 Create ambient-events.json üü¢ ‚≠ê‚≠ê‚≠ê

**File:** `config/descriptors/ambient-events.json`

- [ ] Create `sound` pools (generic, cave, dungeon)
- [ ] Create `visual` pools (generic, volcanic)
- [ ] Create `creature` pools (generic, swamp)
- [ ] Create `environmental` pools (generic, frozen)

**Acceptance:** 10+ pools for ambient event descriptors.

---

### Phase 6: Application Services

#### 6.1 Create ObjectDescriptorService üü° ‚≠ê‚≠ê‚≠ê üî¥

**File:** `src/Core/RuneAndRust.Application/Services/ObjectDescriptorService.cs`

- [ ] Create `ObjectDescriptorService` class
- [ ] Inject `DescriptorService`, `ObjectDescriptorConfiguration`, `ILogger`
- [ ] Implement `GenerateDescriptor(ObjectDescriptorContext context)`
  - Build tags from context
  - Get glance, look, examine descriptions
  - Get interaction hint
- [ ] Implement `GetGlanceDescription(InteractiveObjectType, ObjectState)`
- [ ] Implement `GetDescription(ObjectDescriptorContext context)`
- [ ] Implement private helpers:
  - `GetGlanceDescription(objectType, state, tags)`
  - `GetLookDescription(objectType, state, tags)`
  - `GetExamineDescription(objectType, state, context, tags)`
  - `GetInteractionHint(objectType, state)`
  - `BuildTags(context)`
  - `AddMaterialDetail(description, material)`
  - `AddAgeDetail(description, age)`
  - `GetDefaultGlance/Look/Examine(objectType, state)`

**Acceptance:** Service generates progressive object descriptions.

---

#### 6.2 Create AmbientEventService üü° ‚≠ê‚≠ê‚≠ê

**File:** `src/Core/RuneAndRust.Application/Services/AmbientEventService.cs`

- [ ] Create `AmbientEventService` class
- [ ] Inject `DescriptorService`, `AmbientEventConfiguration`, `ILogger`
- [ ] Define constants: `MinEventCooldown` (30s), `BaseEventChance` (0.15)
- [ ] Implement `TryGenerateEvent(AmbientEventContext context)`
  - Check cooldown
  - Suppress during combat (except combat triggers)
  - Calculate event chance
  - Roll and generate if successful
- [ ] Implement `ForceGenerateEvent(AmbientEventContext context)`
- [ ] Implement `GetEventOfType(AmbientEventType, context)`
  - Try biome-specific pool, fall back to generic
- [ ] Implement private helpers:
  - `GenerateEvent(context)`
  - `SelectEventType(context)` with biome-adjusted weights
  - `CalculateEventChance(context)`
  - `DetermineIntensity(eventType, context)`
  - `ShouldInterrupt(eventType, context)`
  - `BuildEventTags(context)`
  - `SelectWeighted<T>(weights)`

**Acceptance:** Service generates atmospheric events with cooldown.

---

#### 6.3 Create CachedDescriptorService üü° ‚≠ê‚≠ê‚≠ê

**File:** `src/Core/RuneAndRust.Application/Services/CachedDescriptorService.cs`

- [ ] Create `CachedDescriptorService` class extending `DescriptorService`
- [ ] Inject `IMemoryCache`, `ILogger`
- [ ] Define constants: `DefaultExpiration` (5 min), `CacheKeyPrefix`
- [ ] Implement `GetDescriptorCached(poolPath, tags, context, cacheResult)`
  - Skip caching for context-sensitive requests
  - Check cache first
  - Cache new results with sliding expiration
- [ ] Implement `InvalidatePool(poolPath)`
- [ ] Implement `ClearCache()`

**Acceptance:** Service caches descriptor lookups.

---

### Phase 7: Infrastructure Integration

#### 7.1 Extend IGameConfigurationProvider üü° ‚≠ê

**File:** `src/Core/RuneAndRust.Application/Interfaces/IGameConfigurationProvider.cs`

- [ ] Add `GetObjectDescriptorConfiguration()` method
- [ ] Add `GetAmbientEventConfiguration()` method

**Acceptance:** Interface supports new configuration types.

---

#### 7.2 Extend JsonConfigurationProvider üü° ‚≠ê‚≠ê

**File:** `src/Infrastructure/RuneAndRust.Infrastructure/Configuration/JsonConfigurationProvider.cs`

- [ ] Load `objects.json`, `ambient-events.json`
- [ ] Implement `GetObjectDescriptorConfiguration()`
- [ ] Implement `GetAmbientEventConfiguration()`

**Acceptance:** Provider loads all configuration files.

---

#### 7.3 Register Services in DI üü° ‚≠ê‚≠ê

**File:** `src/Infrastructure/RuneAndRust.Infrastructure/DependencyInjection.cs`

- [ ] Register `ObjectDescriptorConfiguration`
- [ ] Register `AmbientEventConfiguration`
- [ ] Register `ObjectDescriptorService`
- [ ] Register `AmbientEventService`
- [ ] Register `CachedDescriptorService` as decorator/alternative
- [ ] Register `IMemoryCache`

**Acceptance:** All services available via dependency injection.

---

### Phase 8: Presentation Integration

#### 8.1 Enhance Room Entity üü° ‚≠ê‚≠ê

**File:** `src/Core/RuneAndRust.Domain/Entities/Room.cs`

- [ ] Add `InteractiveObjects` collection
- [ ] Add method to get interactive object by name/type

**Acceptance:** Room supports interactive objects.

---

#### 8.2 Enhance Look Command üü° ‚≠ê‚≠ê

**File:** Various presentation files (GameView, LookCommandHandler)

- [ ] Get glance descriptions for room objects
- [ ] Trigger ambient event check
- [ ] Include object descriptions in room output
- [ ] Display ambient events when triggered

**Acceptance:** Look command shows objects and events.

---

#### 8.3 Enhance Examine Command üü° ‚≠ê‚≠ê

**File:** Various presentation files (GameView, ExamineCommandHandler)

- [ ] Check for interactive objects first
- [ ] Build ObjectDescriptorContext with ExaminationDepth.Examine
- [ ] Get detailed description with interaction hints

**Acceptance:** Examine provides detailed object descriptions.

---

### Phase 9: Unit Tests

#### 9.1 ObjectDescriptorServiceTests.cs üü° ‚≠ê‚≠ê

**File:** `tests/RuneAndRust.Application.UnitTests/Services/ObjectDescriptorServiceTests.cs`

- [ ] Implement 6 tests per specification

**Acceptance:** All object descriptor tests pass.

---

#### 9.2 AmbientEventServiceTests.cs üü° ‚≠ê‚≠ê

**File:** `tests/RuneAndRust.Application.UnitTests/Services/AmbientEventServiceTests.cs`

- [ ] Implement 5 tests per specification

**Acceptance:** All ambient event tests pass.

---

#### 9.3 CachedDescriptorServiceTests.cs üü° ‚≠ê‚≠ê

**File:** `tests/RuneAndRust.Application.UnitTests/Services/CachedDescriptorServiceTests.cs`

- [ ] Implement 3 tests per specification

**Acceptance:** All cache tests pass.

---

### Implementation Order Summary

```
Phase 1: Domain Enums
  1.1 InteractiveObjectType ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  1.2 ObjectState ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
  1.3 ExaminationDepth ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
  1.4 AmbientEventType ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
  1.5 AmbientEventTrigger ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
                                                              ‚Üì
Phase 2: Domain Value Objects
  2.1 InteractiveObjectDescriptor
  2.2 AmbientEvent
                                                              ‚Üì
Phase 3: Application Context Classes
  3.1 ObjectDescriptorContext
  3.2 AmbientEventContext
                                                              ‚Üì
Phase 4: Configuration Classes
  4.1 ObjectDescriptorConfiguration
  4.2 AmbientEventConfiguration
                                                              ‚Üì
Phase 5: Configuration Files (Parallel)
  5.1 objects.json
  5.2 ambient-events.json
                                                              ‚Üì
Phase 6: Application Services
  6.1 ObjectDescriptorService ‚Üê CRITICAL
  6.2 AmbientEventService
  6.3 CachedDescriptorService
                                                              ‚Üì
Phase 7: Infrastructure Integration
  7.1 IGameConfigurationProvider extension
  7.2 JsonConfigurationProvider implementation
  7.3 DI registration
                                                              ‚Üì
Phase 8: Presentation Integration
  8.1 Room entity enhancement
  8.2 Look command enhancement
  8.3 Examine command enhancement
                                                              ‚Üì
Phase 9: Unit Tests
  9.1 ObjectDescriptorServiceTests
  9.2 AmbientEventServiceTests
  9.3 CachedDescriptorServiceTests
```

### Estimated Effort

| Phase | Tasks | Complexity | Est. Time |
|-------|-------|------------|-----------|
| Domain Enums | 5 enums | ‚≠ê | 1 hour |
| Domain Value Objects | 2 records | ‚≠ê‚≠ê | 1.5 hours |
| Context Classes | 2 records | ‚≠ê‚≠ê | 1 hour |
| Configuration Classes | 2 files | ‚≠ê‚≠ê | 1.5 hours |
| Configuration Files | 2 files | ‚≠ê‚≠ê‚≠ê | 2.5 hours |
| Application Services | 3 services | ‚≠ê‚≠ê‚≠ê | 4 hours |
| Infrastructure | 3 items | ‚≠ê-‚≠ê‚≠ê | 1.5 hours |
| Presentation | 3 items | ‚≠ê‚≠ê | 2 hours |
| Unit Tests | 14 tests | ‚≠ê‚≠ê | 2 hours |
| **Total** | | | **~17 hours** |

---

## Acceptance Criteria

### Interactive Objects

- [ ] Interactive object types defined (door, chest, lever, statue, altar, etc.)
- [ ] Object states implemented (closed, open, locked, broken, etc.)
- [ ] Glance descriptions shown on room entry
- [ ] Look descriptions shown with look command
- [ ] Examine descriptions show detailed information
- [ ] Interaction hints provided where appropriate
- [ ] Object descriptors integrate with environment context

### Ambient Events

- [ ] Ambient event types implemented (sound, visual, creature, environmental)
- [ ] Event triggers work (exploration, periodic, combat, room entry)
- [ ] Biome-specific event pools
- [ ] Event cooldown prevents spam
- [ ] Event intensity levels affect display
- [ ] Events suppressed during combat (except combat triggers)

### Descriptor Caching

- [ ] CachedDescriptorService caches pool lookups
- [ ] Cache uses sliding expiration
- [ ] Context-sensitive requests bypass cache
- [ ] Cache improves descriptor retrieval performance

### Integration

- [ ] All v0.0.11 systems work together
- [ ] Room descriptions include sensory + object descriptions
- [ ] Combat uses enhanced descriptors from v0.0.11b
- [ ] Environment context flows through all services

### Tests

- [ ] ~14 unit tests pass
- [ ] Build completes with 0 errors

---

## File Summary

### New Files (19)

| File | Purpose |
|------|---------|
| `src/Core/RuneAndRust.Domain/Enums/InteractiveObjectType.cs` | Object type enum |
| `src/Core/RuneAndRust.Domain/Enums/ObjectState.cs` | Object state enum |
| `src/Core/RuneAndRust.Domain/Enums/ExaminationDepth.cs` | Examination depth enum |
| `src/Core/RuneAndRust.Domain/Enums/AmbientEventType.cs` | Event type enum |
| `src/Core/RuneAndRust.Domain/Enums/AmbientEventTrigger.cs` | Event trigger enum |
| `src/Core/RuneAndRust.Domain/ValueObjects/InteractiveObjectDescriptor.cs` | Object descriptor |
| `src/Core/RuneAndRust.Domain/ValueObjects/AmbientEvent.cs` | Ambient event |
| `src/Core/RuneAndRust.Application/Services/ObjectDescriptorContext.cs` | Object context |
| `src/Core/RuneAndRust.Application/Services/AmbientEventContext.cs` | Event context |
| `src/Core/RuneAndRust.Application/Services/ObjectDescriptorService.cs` | Object descriptions |
| `src/Core/RuneAndRust.Application/Services/AmbientEventService.cs` | Ambient events |
| `src/Core/RuneAndRust.Application/Services/CachedDescriptorService.cs` | Caching decorator |
| `src/Core/RuneAndRust.Application/Configuration/ObjectDescriptorConfiguration.cs` | Object config |
| `src/Core/RuneAndRust.Application/Configuration/AmbientEventConfiguration.cs` | Event config |
| `config/descriptors/objects.json` | Object descriptor pools |
| `config/descriptors/ambient-events.json` | Ambient event pools |
| `tests/RuneAndRust.Application.UnitTests/Services/ObjectDescriptorServiceTests.cs` | Object tests |
| `tests/RuneAndRust.Application.UnitTests/Services/AmbientEventServiceTests.cs` | Event tests |
| `tests/RuneAndRust.Application.UnitTests/Services/CachedDescriptorServiceTests.cs` | Cache tests |

### Modified Files (4)

| File | Changes |
|------|---------|
| `Room.cs` | Add InteractiveObjects collection |
| `GameView.cs` | Integrate objects, ambient events |
| `GameSessionService.cs` | Trigger events, use object descriptors |
| `DependencyInjection.cs` | Register new services |

---

## v0.0.11 Complete Integration Summary

With v0.0.11d complete, the full descriptor system provides:

| Phase | Contribution |
|-------|--------------|
| **v0.0.11a** | Environment categories, coherence validation, biome system |
| **v0.0.11b** | Combat hit/death descriptors, ability effects, damage tiers |
| **v0.0.11c** | Sensory layers (lighting, sound, smell, temperature, weather) |
| **v0.0.11d** | Interactive objects, ambient events, caching, integration |

### Final Metrics (Post v0.0.11)

| Metric | Before v0.0.11 | After v0.0.11 |
|--------|----------------|---------------|
| Descriptor pools | ~10 | ~60+ |
| Descriptor entries | ~100 | ~500+ |
| Environment categories | 0 | 5 |
| Biome definitions | 0 | 8+ |
| Coherence rules | 0 | ~10 |
| Sensory layers | 1 | 5 |
| Interactive object types | 0 | 8 |
| Ambient event types | 0 | 4 |
| Unit tests (descriptor) | ~5 | ~65 |

---

## Example Output

### Room with Objects (Look Command)

```
The Dungeon Corridor

A narrow stone passage stretches before you, its walls glistening with moisture.
Flickering torchlight casts dancing shadows across the walls. Water drips steadily
from the ceiling. A damp chill clings to your skin.

A heavy iron door bars the way to the north.
An old wooden chest sits in the corner.
A rusted lever protrudes from the wall.

Exits: north, south
```

### Detailed Examination

```
> examine door

You examine the iron door more closely.

The door is a heavy slab of blackened iron, riveted with thick bolts that have
rusted to a deep orange. The metal is cold to the touch, and you can see faint
scratches around the lock mechanism - someone has tried to pick it before.
A sturdy lock secures the door. It might be opened with the right key.
```

### Ambient Event

```
> look

[Normal room description...]

*Something skitters in the shadows just beyond your torchlight.*
```

---

*This implementation plan completes the v0.0.11 Descriptors & Ambience version by adding interactive object descriptions, ambient atmospheric events, performance caching, and full system integration. The combined system provides rich, coherent, and varied text descriptions that bring the game world to life.*
