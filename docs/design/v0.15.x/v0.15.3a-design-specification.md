# v0.15.3a Design Specification: Social Interaction Framework

**Version:** 0.15.3a
**Theme:** Social Interaction Framework
**Author:** Claude
**Created:** 2026-01-17
**Status:** Draft
**Prerequisites:** v0.15.1 Complete (Skill Context, Outcome Classification, Master Abilities, Cooperative Checks, Integration Points), v0.15.2 Complete (Acrobatics Expansion)

---

## Table of Contents

1. [Overview](#1-overview)
2. [Dependencies](#2-dependencies)
3. [Architecture Diagrams](#3-architecture-diagrams)
4. [SocialInteractionType Enum](#4-socialinteractiontype-enum)
5. [NpcDisposition Enum](#5-npcdisposition-enum)
6. [DispositionLevel Value Object](#6-dispositionlevel-value-object)
7. [SocialContext Value Object](#7-socialcontext-value-object)
8. [SocialResult Value Object](#8-socialresult-value-object)
9. [SocialModifier Value Object](#9-socialmodifier-value-object)
10. [ISocialContextBuilder Interface](#10-isocialcontextbuilder-interface)
11. [SocialContextBuilder Implementation](#11-socialcontextbuilder-implementation)
12. [Configuration](#12-configuration)
13. [Commands](#13-commands)
14. [User-Facing Changes](#14-user-facing-changes)
15. [Logging Specifications](#15-logging-specifications)
16. [Unit Testing Requirements](#16-unit-testing-requirements)
17. [Use Cases](#17-use-cases)
18. [Deliverable Checklist](#18-deliverable-checklist)
19. [Acceptance Criteria](#19-acceptance-criteria)
20. [Future Considerations](#20-future-considerations)
21. [Implementation Notes](#21-implementation-notes)
22. [Document Metadata](#22-document-metadata)

---

## 1. Overview

### 1.1 Purpose

This document provides a comprehensive design specification for v0.15.3a, the Social Interaction Framework phase. This part establishes the foundational infrastructure for all Rhetoric skill expansions by defining the core types, enums, and value objects that govern social interactions. The key components are:

1. **SocialInteractionType Enum**: Categorizes social interactions into Persuasion, Deception, Intimidation, Negotiation, Protocol, and Interrogation.

2. **NpcDisposition Enum**: Defines the relationship spectrum from Ally (+3d10) through Hostile (-2d10), providing dice modifiers based on NPC attitude toward the player.

3. **DispositionLevel Value Object**: Encapsulates the numeric disposition value with methods for modification, threshold checking, and modifier calculation.

4. **SocialContext Value Object**: Aggregates all factors affecting a social check, extending the `SkillContext` pattern from v0.15.1a with social-specific modifiers.

5. **SocialResult Value Object**: Captures the outcome of a social interaction, including disposition changes, reputation effects, unlocked/locked dialogue options, stress costs, and fumble consequences.

6. **SocialContextBuilder**: Fluent builder for constructing social contexts with all relevant modifiers.

This infrastructure is foundational for all subsequent Rhetoric subsystems (v0.15.3b-v0.15.3i), enabling contextually-aware social checks that respond to NPC disposition, faction relationships, and cultural factors.

### 1.2 Current vs. Target Implementation

| Aspect | Current Implementation | Target Implementation |
|--------|------------------------|----------------------|
| **Social Check Types** | Generic skill check | Categorized by `SocialInteractionType` |
| **NPC Disposition** | Not tracked | `NpcDisposition` enum with 6 tiers and dice modifiers |
| **Disposition Values** | Not implemented | `DispositionLevel` with numeric value (-100 to +100) |
| **Social Context** | Uses generic `SkillContext` | Specialized `SocialContext` with target, faction, culture |
| **Social Outcomes** | Uses `SkillCheckResult` | Enhanced `SocialResult` with disposition/reputation changes |
| **Dialogue Effects** | Not tracked | `UnlockedOptions`, `LockedOptions` in result |
| **Stress Costs** | Not integrated | `StressCost` calculated per interaction type |

### 1.3 Scope

**In Scope:**
- Define `SocialInteractionType` enum for categorizing social checks
- Define `NpcDisposition` enum with 6 tiers and dice modifiers
- Define `DispositionLevel` value object for numeric disposition tracking
- Define `SocialContext` value object extending skill context pattern
- Define `SocialResult` value object for social check outcomes
- Define `SocialModifier` value object for social-specific bonuses/penalties
- Create `ISocialContextBuilder` interface for fluent construction
- Implement `SocialContextBuilder` for building social contexts
- Configuration file `social-interactions.json`
- Unit tests for social framework (~4 tests)

**Out of Scope:**
- Persuasion system - v0.15.3b
- Deception system - v0.15.3c
- Intimidation system - v0.15.3d
- Negotiation system - v0.15.3e
- Interrogation system - v0.15.3f
- Cultural protocols - v0.15.3g
- Extended influence - v0.15.3h
- Specialization integration - v0.15.3i
- Voice guidance text - future configuration

### 1.4 Key Deliverables

| Type | Count | Details |
|------|-------|---------|
| Enums | 2 | `SocialInteractionType`, `NpcDisposition` |
| Value Objects | 4 | `DispositionLevel`, `SocialContext`, `SocialResult`, `SocialModifier` |
| Interfaces | 1 | `ISocialContextBuilder` |
| Services | 1 | `SocialContextBuilder` |
| Configuration | 1 | `social-interactions.json` |
| Unit Tests | ~4 | Disposition modifier calculation, context building, result creation, fumble handling |

---

## 2. Dependencies

### 2.1 Required from v0.15.0 (Dice Pool Refactor)

| Component | Location | Usage in v0.15.3a |
|-----------|----------|-------------------|
| `DiceRollResult` | `Domain/ValueObjects/DiceRollResult.cs` | Provides `NetSuccesses`, `IsFumble`, `IsCriticalSuccess` |
| `DiceConstants` | `Domain/Constants/DiceConstants.cs` | Success threshold (8), botch value (1) |
| `IDiceRollerService` | `Application/Interfaces/IDiceRollerService.cs` | Performs social check dice rolls |

### 2.2 Required from v0.15.1a (Skill Context & Modifiers)

| Component | Location | Usage in v0.15.3a |
|-----------|----------|-------------------|
| `SkillContext` | `Domain/ValueObjects/SkillContext.cs` | Base pattern for `SocialContext` |
| `SkillContextBuilder` | `Application/Services/SkillContextBuilder.cs` | Pattern reference for `SocialContextBuilder` |
| `EquipmentModifier` | `Domain/ValueObjects/EquipmentModifier.cs` | May apply to social checks (evidence, documents) |
| `SituationalModifier` | `Domain/ValueObjects/SituationalModifier.cs` | Time pressure, familiarity with NPC |
| `TargetModifier` | `Domain/ValueObjects/TargetModifier.cs` | Extended for social-specific target factors |
| `ModifierCategory` | `Domain/Enums/ModifierCategory.cs` | Categorization for social modifiers |
| `ISkillModifier` | `Domain/Interfaces/ISkillModifier.cs` | Interface for modifier aggregation |

### 2.3 Required from v0.15.1b (Outcome Classification)

| Component | Location | Usage in v0.15.3a |
|-----------|----------|-------------------|
| `SkillOutcome` | `Domain/Enums/SkillOutcome.cs` | Outcome classification for social checks |
| `OutcomeDetails` | `Domain/ValueObjects/OutcomeDetails.cs` | Enhanced outcome metadata |
| `FumbleType` | `Domain/Enums/FumbleType.cs` | Extended with social fumble types |
| `FumbleConsequence` | `Domain/Entities/FumbleConsequence.cs` | Tracks lasting social failures |
| `IFumbleConsequenceService` | `Application/Interfaces/IFumbleConsequenceService.cs` | Creates social fumble consequences |

### 2.4 Required from v0.15.1e (Integration Points)

| Component | Location | Usage in v0.15.3a |
|-----------|----------|-------------------|
| `SkillStressResult` | `Domain/ValueObjects/SkillStressResult.cs` | Stress costs for social interactions |
| `ISkillStressService` | `Application/Interfaces/ISkillStressService.cs` | Calculates stress for deception |
| `SpecializationSkillBonus` | `Domain/ValueObjects/SpecializationSkillBonus.cs` | Rhetoric specialization bonuses |

### 2.5 Required from v0.10.x (Status Effect System)

| Component | Location | Usage in v0.15.3a |
|-----------|----------|-------------------|
| `StatusEffectId` | `Domain/Enums/StatusEffectId.cs` | Status effects like [Stressed], [Feared] |
| `StatusEffectType` | `Domain/Enums/StatusEffectType.cs` | Categorization of status effects |
| `IStatusEffectService` | `Application/Interfaces/IStatusEffectService.cs` | Apply status effects from fumbles |

### 2.6 Provides to Future Versions

| Version | Component | Usage |
|---------|-----------|-------|
| v0.15.3b | Persuasion System | Uses `SocialContext`, `SocialResult`, disposition modifiers |
| v0.15.3c | Deception System | Uses `SocialContext` with suspicion modifiers, stress costs |
| v0.15.3d | Intimidation System | Uses `SocialContext` with strength comparison |
| v0.15.3e | Negotiation System | Uses `SocialContext` for position tracking |
| v0.15.3f | Interrogation System | Uses `SocialContext` with resistance modifiers |
| v0.15.3g | Cultural Protocols | Uses `SocialContext.CultureId` for protocol selection |
| v0.15.3h | Extended Influence | Uses `DispositionLevel` for accumulation tracking |
| v0.15.3i | Specialization Integration | Uses `SocialModifier` for archetype bonuses |

---

## 3. Architecture Diagrams

### 3.1 Social Interaction Flow

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      SOCIAL INTERACTION FLOW                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  SOCIAL INTERACTION REQUEST                                                 │
│  Player: "Persuade guard to let us pass"                                    │
│           │                                                                  │
│           ▼                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                    IDENTIFY INTERACTION TYPE                         │    │
│  ├─────────────────────────────────────────────────────────────────────┤    │
│  │                                                                      │    │
│  │  SocialInteractionType: Persuasion                                  │    │
│  │  TargetId: "guard_marcus"                                           │    │
│  │  SkillId: "rhetoric"                                                │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│           │                                                                  │
│           ▼                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                    GATHER NPC INFORMATION                            │    │
│  ├─────────────────────────────────────────────────────────────────────┤    │
│  │                                                                      │    │
│  │  NPC: guard_marcus                                                  │    │
│  │  ├── DispositionLevel: 25 (Neutral-Positive)                        │    │
│  │  ├── NpcDisposition: NeutralPositive (+1d10)                        │    │
│  │  ├── FactionId: "city_guard"                                        │    │
│  │  ├── CultureId: null (standard human)                               │    │
│  │  └── Suspicious: false                                              │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│           │                                                                  │
│           ▼                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                    BUILD SOCIAL CONTEXT                              │    │
│  ├─────────────────────────────────────────────────────────────────────┤    │
│  │                                                                      │    │
│  │  SocialContext                                                      │    │
│  │  ├── InteractionType: Persuasion                                   │    │
│  │  ├── TargetId: "guard_marcus"                                       │    │
│  │  ├── TargetDisposition: NeutralPositive                             │    │
│  │  ├── TargetFactionId: "city_guard"                                  │    │
│  │  ├── CultureId: null                                                │    │
│  │  ├── BaseDc: 12 (Simple request)                                    │    │
│  │  │                                                                   │    │
│  │  │  MODIFIERS:                                                      │    │
│  │  ├── Disposition: +1d10 (Neutral-Positive)                          │    │
│  │  ├── Faction: +0 (Neutral faction standing)                         │    │
│  │  ├── Evidence: +2d10 (Has official letter)                          │    │
│  │  └── Argument: +1d10 (Aligns with guard duty)                       │    │
│  │                                                                      │    │
│  │  TotalDiceModifier: +4d10                                           │    │
│  │  TotalDcModifier: +0                                                │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│           │                                                                  │
│           ▼                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                    PERFORM SKILL CHECK                               │    │
│  ├─────────────────────────────────────────────────────────────────────┤    │
│  │                                                                      │    │
│  │  Base Pool: 4d10 (WILL 2 + Rhetoric 2)                              │    │
│  │  Modifiers: +4d10                                                   │    │
│  │  Final Pool: 8d10                                                   │    │
│  │                                                                      │    │
│  │  Roll: [10, 8, 5, 9, 3, 8, 6, 7]                                    │    │
│  │  Successes: 4 (10, 8, 9, 8)                                         │    │
│  │  Botches: 0                                                         │    │
│  │  Net Successes: 4                                                   │    │
│  │                                                                      │    │
│  │  DC: 2 (12 / 6 rounded)                                             │    │
│  │  Margin: 4 - 2 = 2                                                  │    │
│  │  Outcome: FullSuccess                                               │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│           │                                                                  │
│           ▼                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                    CREATE SOCIAL RESULT                              │    │
│  ├─────────────────────────────────────────────────────────────────────┤    │
│  │                                                                      │    │
│  │  SocialResult                                                       │    │
│  │  ├── Outcome: FullSuccess                                           │    │
│  │  ├── DispositionChange: +5 (from 25 → 30)                           │    │
│  │  ├── ReputationChange: +2 (city_guard faction)                      │    │
│  │  ├── UnlockedOptions: ["Request escort", "Ask about schedule"]      │    │
│  │  ├── LockedOptions: []                                              │    │
│  │  ├── StressCost: 0 (no stress for honest persuasion)                │    │
│  │  └── FumbleConsequence: null                                        │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│           │                                                                  │
│           ▼                                                                  │
│  OUTPUT: "The guard nods thoughtfully. 'Alright, the letter checks     │
│           out. You may pass.'"                                          │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.2 NPC Disposition Spectrum

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         NPC DISPOSITION SPECTRUM                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  DISPOSITION VALUE RANGE: -100 to +100                                      │
│                                                                              │
│  ◄────────────────────────────────────────────────────────────────────────► │
│  -100                           0                                      +100  │
│   │                             │                                        │   │
│   ▼                             ▼                                        ▼   │
│                                                                              │
│  ┌──────────┬──────────┬──────────┬──────────┬──────────┬──────────┐        │
│  │  HOSTILE │ UNFRIEND │ NEUTRAL  │ NEUTRAL+ │ FRIENDLY │   ALLY   │        │
│  │   ≤-50   │  -49→-10 │  -9→+9   │  10→49   │  50→74   │   ≥75    │        │
│  │  -2d10   │  -1d10   │   +0     │  +1d10   │  +2d10   │  +3d10   │        │
│  └──────────┴──────────┴──────────┴──────────┴──────────┴──────────┘        │
│                                                                              │
│  DISPOSITION CATEGORIES:                                                    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ALLY (≥75)                                                         │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │  Modifier: +3d10                                                    │    │
│  │  Description: Deep trust and loyalty. Will take personal risks.     │    │
│  │  Examples: Sworn companions, family members, life-debt owed         │    │
│  │  Behavior: Shares secrets, provides aid, defends reputation         │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  FRIENDLY (50-74)                                                   │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │  Modifier: +2d10                                                    │    │
│  │  Description: Positive regard, willing to help within reason.       │    │
│  │  Examples: Friends, trusted associates, grateful individuals        │    │
│  │  Behavior: Offers assistance, shares information, gives discounts   │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  NEUTRAL-POSITIVE (10-49)                                           │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │  Modifier: +1d10                                                    │    │
│  │  Description: Generally well-disposed, open to interaction.         │    │
│  │  Examples: Acquaintances, fellow guild members, satisfied customers │    │
│  │  Behavior: Polite, willing to trade, answers questions              │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  NEUTRAL (-9 to +9)                                                 │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │  Modifier: +0                                                       │    │
│  │  Description: No particular opinion, professional distance.         │    │
│  │  Examples: Strangers, merchants, guards                             │    │
│  │  Behavior: Fair dealings, no special treatment, follows rules       │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  UNFRIENDLY (-49 to -10)                                            │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │  Modifier: -1d10                                                    │    │
│  │  Description: Distrustful, unwilling to help without incentive.     │    │
│  │  Examples: Rival faction members, cheated traders, spurned suitors  │    │
│  │  Behavior: Suspicious, charges premium, withholds information       │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  HOSTILE (≤-50)                                                     │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │  Modifier: -2d10                                                    │    │
│  │  Description: Active animosity, may refuse interaction entirely.    │    │
│  │  Examples: Enemies, betrayed allies, faction at war                 │    │
│  │  Behavior: Refuses help, may attack, spreads negative rumors        │    │
│  │  Note: Some interactions impossible at this disposition level       │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.3 Social Modifier Categories

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                       SOCIAL MODIFIER CATEGORIES                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  DISPOSITION MODIFIERS (based on NpcDisposition)                            │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  DISPOSITION           │ DICE MODIFIER │ SOURCE                     │    │
│  ├────────────────────────┼───────────────┼────────────────────────────┤    │
│  │  Ally (≥75)            │ +3d10         │ Deep personal relationship │    │
│  │  Friendly (50-74)      │ +2d10         │ Positive regard            │    │
│  │  Neutral-Positive      │ +1d10         │ Generally well-disposed    │    │
│  │  Neutral (-9 to +9)    │ +0            │ No particular opinion      │    │
│  │  Unfriendly (-49→-10)  │ -1d10         │ Distrustful               │    │
│  │  Hostile (≤-50)        │ -2d10         │ Active animosity          │    │
│  └────────────────────────┴───────────────┴────────────────────────────┘    │
│                                                                              │
│  FACTION MODIFIERS (based on player reputation with NPC's faction)          │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  FACTION STANDING      │ DICE MODIFIER │ DESCRIPTION                │    │
│  ├────────────────────────┼───────────────┼────────────────────────────┤    │
│  │  [Honored]             │ +1d10         │ High reputation with group │    │
│  │  [Friendly]            │ +0            │ Positive faction standing  │    │
│  │  [Neutral]             │ +0            │ No faction relationship    │    │
│  │  [Unfriendly]          │ -1d10         │ Negative faction standing  │    │
│  │  [Hostile]             │ -2d10         │ Faction considers enemy    │    │
│  └────────────────────────┴───────────────┴────────────────────────────┘    │
│                                                                              │
│  ARGUMENT MODIFIERS (based on persuasion content)                           │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ARGUMENT FACTOR       │ DICE MODIFIER │ DESCRIPTION                │    │
│  ├────────────────────────┼───────────────┼────────────────────────────┤    │
│  │  Aligns with values    │ +1d10         │ Matches NPC beliefs        │    │
│  │  Contradicts values    │ -1d10         │ Opposes NPC beliefs        │    │
│  │  Evidence provided     │ +2d10         │ Proof supports argument    │    │
│  │  No supporting proof   │ +0            │ Words alone                │    │
│  └────────────────────────┴───────────────┴────────────────────────────┘    │
│                                                                              │
│  TARGET STATE MODIFIERS                                                     │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  TARGET STATUS         │ MODIFIER      │ APPLIES TO                 │    │
│  ├────────────────────────┼───────────────┼────────────────────────────┤    │
│  │  [Stressed]            │ NPC +1d10     │ Persuasion (distracted)    │    │
│  │  [Feared]              │ NPC +1d10     │ Persuasion (nervous)       │    │
│  │  [Suspicious]          │ DC +4         │ Deception                  │    │
│  │  [Trusting]            │ DC -4         │ Deception                  │    │
│  │  Weaker than player    │ Player +1d10  │ Intimidation               │    │
│  │  Stronger than player  │ NPC +1d10     │ Intimidation               │    │
│  │  Has backup nearby     │ NPC +1d10     │ Intimidation               │    │
│  └────────────────────────┴───────────────┴────────────────────────────┘    │
│                                                                              │
│  PLAYER REPUTATION MODIFIERS                                                │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  REPUTATION STATUS     │ DICE MODIFIER │ APPLIES TO                 │    │
│  ├────────────────────────┼───────────────┼────────────────────────────┤    │
│  │  [Honored]             │ +1d10         │ Persuasion, Intimidation   │    │
│  │  [Feared]              │ +1d10         │ Intimidation only          │    │
│  │  [Untrustworthy]       │ DC +3         │ All social checks          │    │
│  │  Wielding [Artifact]   │ +1d10         │ Intimidation (visible)     │    │
│  └────────────────────────┴───────────────┴────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.4 Social Result Outcomes

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         SOCIAL RESULT OUTCOMES                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  OUTCOME EFFECTS BY INTERACTION TYPE:                                       │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  CRITICAL SUCCESS (Margin ≥ 5)                                      │    │
│  ├─────────────────────────────────────────────────────────────────────┤    │
│  │                                                                      │    │
│  │  Persuasion:                                                        │    │
│  │  ├── DispositionChange: +15                                         │    │
│  │  ├── ReputationChange: +5                                           │    │
│  │  ├── UnlockedOptions: Deep dialogue options, secrets revealed       │    │
│  │  └── Special: May gain NPC as temporary ally                        │    │
│  │                                                                      │    │
│  │  Deception:                                                         │    │
│  │  ├── StressCost: +1 (reduced from normal)                           │    │
│  │  ├── NPC gains [Trusting] status toward player                      │    │
│  │  └── Special: Cover story becomes "established truth"               │    │
│  │                                                                      │    │
│  │  Intimidation:                                                      │    │
│  │  ├── ReputationChange: -3 (reduced reputation cost)                 │    │
│  │  ├── Target gains [Cowed] status (severe fear)                      │    │
│  │  └── Special: Target may flee or surrender immediately              │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  SUCCESS (Margin 0-4)                                               │    │
│  ├─────────────────────────────────────────────────────────────────────┤    │
│  │                                                                      │    │
│  │  Persuasion:                                                        │    │
│  │  ├── DispositionChange: +5 to +10 (based on request)                │    │
│  │  ├── ReputationChange: +0 to +2                                     │    │
│  │  └── Request granted as asked                                       │    │
│  │                                                                      │    │
│  │  Deception:                                                         │    │
│  │  ├── StressCost: +1 (Liar's Burden)                                 │    │
│  │  └── Lie believed for now                                           │    │
│  │                                                                      │    │
│  │  Intimidation:                                                      │    │
│  │  ├── ReputationChange: -5 (standard reputation cost)                │    │
│  │  ├── Target gains [Scared] or [Nervous] status                      │    │
│  │  └── Target complies reluctantly                                    │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  FAILURE (Margin < 0)                                               │    │
│  ├─────────────────────────────────────────────────────────────────────┤    │
│  │                                                                      │    │
│  │  Persuasion:                                                        │    │
│  │  ├── DispositionChange: -5                                          │    │
│  │  ├── ReputationChange: -2                                           │    │
│  │  ├── LockedOptions: Current argument no longer available            │    │
│  │  └── NPC remembers and is less receptive                            │    │
│  │                                                                      │    │
│  │  Deception:                                                         │    │
│  │  ├── StressCost: +3 (failed Liar's Burden)                          │    │
│  │  ├── NPC becomes [Suspicious]                                       │    │
│  │  └── Future deception DC +4 with this NPC                           │    │
│  │                                                                      │    │
│  │  Intimidation:                                                      │    │
│  │  ├── ReputationChange: -10 (heavy reputation cost)                  │    │
│  │  ├── Target is unimpressed                                          │    │
│  │  └── Target may become [Defiant], gaining combat bonus              │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  FUMBLE (0 Successes + ≥1 Botch)                                    │    │
│  ├─────────────────────────────────────────────────────────────────────┤    │
│  │                                                                      │    │
│  │  Persuasion: [Trust Shattered]                                      │    │
│  │  ├── DispositionChange: -30                                         │    │
│  │  ├── All persuasion locked with this NPC                            │    │
│  │  ├── NPC may spread negative reputation                             │    │
│  │  └── Recovery: Quest completion or time passage                     │    │
│  │                                                                      │    │
│  │  Deception: [Lie Exposed]                                           │    │
│  │  ├── StressCost: +8 (severe stress)                                 │    │
│  │  ├── 50% chance NPC attacks immediately                             │    │
│  │  ├── Possible permanent ban from settlement                         │    │
│  │  ├── Critical quests may fail                                       │    │
│  │  └── [Untrustworthy] flag: all future checks +3 DC                  │    │
│  │                                                                      │    │
│  │  Intimidation: [Challenge Accepted]                                 │    │
│  │  ├── StressCost: +5                                                 │    │
│  │  ├── Immediate combat initiated                                     │    │
│  │  ├── NPC gains [Furious] buff (+2d10 damage)                        │    │
│  │  └── NPC will not accept surrender                                  │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.5 Layer Architecture

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           LAYER ARCHITECTURE                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                      DOMAIN LAYER                                    │    │
│  ├─────────────────────────────────────────────────────────────────────┤    │
│  │                                                                      │    │
│  │  ValueObjects/                                                      │    │
│  │  ├── DispositionLevel.cs           ←── NEW                         │    │
│  │  ├── SocialContext.cs              ←── NEW                         │    │
│  │  ├── SocialResult.cs               ←── NEW                         │    │
│  │  └── SocialModifier.cs             ←── NEW                         │    │
│  │                                                                      │    │
│  │  Enums/                                                             │    │
│  │  ├── SocialInteractionType.cs      ←── NEW                         │    │
│  │  ├── NpcDisposition.cs             ←── NEW                         │    │
│  │  └── FumbleType.cs                 ←── MODIFIED (add social types) │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                  │                                           │
│                                  │ uses                                      │
│                                  ▼                                           │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                    APPLICATION LAYER                                 │    │
│  ├─────────────────────────────────────────────────────────────────────┤    │
│  │                                                                      │    │
│  │  Interfaces/                                                        │    │
│  │  └── ISocialContextBuilder.cs      ←── NEW                         │    │
│  │                                                                      │    │
│  │  Services/                                                          │    │
│  │  └── SocialContextBuilder.cs       ←── NEW                         │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                  │                                           │
│                                  │ uses                                      │
│                                  ▼                                           │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                  INFRASTRUCTURE LAYER                                │    │
│  ├─────────────────────────────────────────────────────────────────────┤    │
│  │                                                                      │    │
│  │  Configuration/                                                     │    │
│  │  └── social-interactions.json      ←── NEW                         │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 4. SocialInteractionType Enum

### 4.1 Enum Definition

**File:** `src/Core/RuneAndRust.Domain/Enums/SocialInteractionType.cs`

```csharp
namespace RuneAndRust.Domain.Enums;

/// <summary>
/// Categorizes social interactions for Rhetoric skill checks.
/// </summary>
/// <remarks>
/// <para>
/// Each interaction type has distinct mechanics, modifiers, and potential
/// consequences. The type determines which subsystem processes the check
/// and what outcomes are possible.
/// </para>
/// <para>
/// All social interactions use the Rhetoric skill with WILL as the base
/// attribute, modified by the specific interaction type's rules.
/// </para>
/// </remarks>
public enum SocialInteractionType
{
    /// <summary>
    /// Honest convincing through logic, emotion, or mutual benefit.
    /// </summary>
    /// <remarks>
    /// <para>Uses WILL + Rhetoric. Disposition modifiers apply fully.</para>
    /// <para>Fumble: [Trust Shattered] - All persuasion locked with target.</para>
    /// </remarks>
    /// <example>
    /// "Convince the guard to let us pass."
    /// "Persuade the merchant to lower the price."
    /// </example>
    Persuasion = 0,

    /// <summary>
    /// Lying, misleading, or presenting false information as truth.
    /// </summary>
    /// <remarks>
    /// <para>Opposed roll: WILL + Rhetoric vs. NPC's WITS.</para>
    /// <para>Incurs Psychic Stress regardless of outcome (Liar's Burden).</para>
    /// <para>Fumble: [Lie Exposed] - May trigger combat, exile, quest failure.</para>
    /// </remarks>
    /// <example>
    /// "Claim to be an official inspector."
    /// "Deny involvement in the crime."
    /// </example>
    Deception = 1,

    /// <summary>
    /// Coercion through threat of violence, social ruin, or other harm.
    /// </summary>
    /// <remarks>
    /// <para>Uses MIGHT or WILL + Rhetoric (player choice).</para>
    /// <para>Always costs reputation even on success.</para>
    /// <para>Fumble: [Challenge Accepted] - Immediate combat with buffed enemy.</para>
    /// </remarks>
    /// <example>
    /// "Threaten to expose his secret."
    /// "Physically menace the shopkeeper."
    /// </example>
    Intimidation = 2,

    /// <summary>
    /// Multi-round bargaining to reach a mutually acceptable agreement.
    /// </summary>
    /// <remarks>
    /// <para>Uses position track system with multiple rounds.</para>
    /// <para>Success/failure moves positions until deal or collapse.</para>
    /// <para>Concessions can grant bonuses to subsequent checks.</para>
    /// </remarks>
    /// <example>
    /// "Negotiate trade rights with the guild."
    /// "Broker a ceasefire between factions."
    /// </example>
    Negotiation = 3,

    /// <summary>
    /// Following cultural formalities required by specific groups.
    /// </summary>
    /// <remarks>
    /// <para>Culture-specific DCs and requirements.</para>
    /// <para>Failure may offend and cause permanent disposition loss.</para>
    /// <para>Examples: Dvergr Logic-Chain, Utgard Veil-Speech.</para>
    /// </remarks>
    /// <example>
    /// "Follow Dvergr greeting protocol."
    /// "Speak in Utgard Veil-Speech."
    /// </example>
    Protocol = 4,

    /// <summary>
    /// Extracting information from an unwilling or reluctant subject.
    /// </summary>
    /// <remarks>
    /// <para>Multiple methods available with different costs/reliability.</para>
    /// <para>Subject has resistance that must be depleted through checks.</para>
    /// <para>Method choice affects information reliability.</para>
    /// </remarks>
    /// <example>
    /// "Interrogate the prisoner about the hideout."
    /// "Extract information using bribery."
    /// </example>
    Interrogation = 5
}
```

### 4.2 Extension Methods

**File:** `src/Core/RuneAndRust.Domain/Extensions/SocialInteractionTypeExtensions.cs`

```csharp
namespace RuneAndRust.Domain.Extensions;

using RuneAndRust.Domain.Enums;

/// <summary>
/// Extension methods for <see cref="SocialInteractionType"/> enum.
/// </summary>
public static class SocialInteractionTypeExtensions
{
    /// <summary>
    /// Gets the base attribute used for this interaction type.
    /// </summary>
    /// <param name="interactionType">The interaction type.</param>
    /// <returns>
    /// The attribute ID ("will" for most, "might" as alternative for intimidation).
    /// </returns>
    public static string GetDefaultAttribute(this SocialInteractionType interactionType)
    {
        // All social interactions default to WILL
        return "will";
    }

    /// <summary>
    /// Gets whether this interaction type allows attribute choice.
    /// </summary>
    /// <param name="interactionType">The interaction type.</param>
    /// <returns>True if player can choose between attributes.</returns>
    public static bool AllowsAttributeChoice(this SocialInteractionType interactionType)
    {
        return interactionType == SocialInteractionType.Intimidation;
    }

    /// <summary>
    /// Gets whether this interaction type uses opposed rolls.
    /// </summary>
    /// <param name="interactionType">The interaction type.</param>
    /// <returns>True if the check is opposed by NPC's resistance.</returns>
    public static bool IsOpposed(this SocialInteractionType interactionType)
    {
        return interactionType == SocialInteractionType.Deception ||
               interactionType == SocialInteractionType.Interrogation;
    }

    /// <summary>
    /// Gets whether this interaction type incurs stress cost.
    /// </summary>
    /// <param name="interactionType">The interaction type.</param>
    /// <returns>True if the interaction always costs Psychic Stress.</returns>
    public static bool HasStressCost(this SocialInteractionType interactionType)
    {
        return interactionType == SocialInteractionType.Deception;
    }

    /// <summary>
    /// Gets whether this interaction type always costs reputation.
    /// </summary>
    /// <param name="interactionType">The interaction type.</param>
    /// <returns>True if success still costs reputation.</returns>
    public static bool AlwaysCostsReputation(this SocialInteractionType interactionType)
    {
        return interactionType == SocialInteractionType.Intimidation;
    }

    /// <summary>
    /// Gets whether this interaction type uses multi-round mechanics.
    /// </summary>
    /// <param name="interactionType">The interaction type.</param>
    /// <returns>True if the interaction spans multiple rounds.</returns>
    public static bool IsMultiRound(this SocialInteractionType interactionType)
    {
        return interactionType == SocialInteractionType.Negotiation ||
               interactionType == SocialInteractionType.Interrogation;
    }

    /// <summary>
    /// Gets a human-readable description of the interaction type.
    /// </summary>
    /// <param name="interactionType">The interaction type.</param>
    /// <returns>A descriptive string for UI display.</returns>
    public static string GetDescription(this SocialInteractionType interactionType)
    {
        return interactionType switch
        {
            SocialInteractionType.Persuasion => "Honest convincing through reason or appeal",
            SocialInteractionType.Deception => "Lying or misleading the target",
            SocialInteractionType.Intimidation => "Coercion through threat or presence",
            SocialInteractionType.Negotiation => "Bargaining toward mutual agreement",
            SocialInteractionType.Protocol => "Following cultural formalities",
            SocialInteractionType.Interrogation => "Extracting information from a subject",
            _ => "Unknown interaction type"
        };
    }

    /// <summary>
    /// Gets the fumble type associated with this interaction.
    /// </summary>
    /// <param name="interactionType">The interaction type.</param>
    /// <returns>The <see cref="FumbleType"/> for catastrophic failures.</returns>
    public static FumbleType GetFumbleType(this SocialInteractionType interactionType)
    {
        return interactionType switch
        {
            SocialInteractionType.Persuasion => FumbleType.TrustShattered,
            SocialInteractionType.Deception => FumbleType.LieExposed,
            SocialInteractionType.Intimidation => FumbleType.ChallengeAccepted,
            SocialInteractionType.Negotiation => FumbleType.NegotiationCollapsed,
            SocialInteractionType.Protocol => FumbleType.CulturalOffense,
            SocialInteractionType.Interrogation => FumbleType.SubjectBroken,
            _ => FumbleType.Generic
        };
    }
}
```

---

## 5. NpcDisposition Enum

### 5.1 Enum Definition

**File:** `src/Core/RuneAndRust.Domain/Enums/NpcDisposition.cs`

```csharp
namespace RuneAndRust.Domain.Enums;

/// <summary>
/// Represents an NPC's attitude toward the player, providing dice modifiers.
/// </summary>
/// <remarks>
/// <para>
/// Disposition is derived from a numeric value (-100 to +100) and provides
/// dice modifiers that apply to social skill checks. Higher disposition
/// makes social interactions easier; lower makes them harder.
/// </para>
/// <para>
/// The disposition value is stored in <see cref="ValueObjects.DispositionLevel"/>
/// and converted to this enum for modifier calculation.
/// </para>
/// </remarks>
public enum NpcDisposition
{
    /// <summary>
    /// Deep trust and loyalty. Will take personal risks for the player.
    /// </summary>
    /// <remarks>
    /// <para>Threshold: Disposition value ≥ 75</para>
    /// <para>Modifier: +3d10 to social checks</para>
    /// <para>Examples: Sworn companions, family, life-debt holders</para>
    /// </remarks>
    Ally = 5,

    /// <summary>
    /// Positive regard, willing to help within reason.
    /// </summary>
    /// <remarks>
    /// <para>Threshold: Disposition value 50-74</para>
    /// <para>Modifier: +2d10 to social checks</para>
    /// <para>Examples: Friends, trusted associates, grateful NPCs</para>
    /// </remarks>
    Friendly = 4,

    /// <summary>
    /// Generally well-disposed, open to interaction.
    /// </summary>
    /// <remarks>
    /// <para>Threshold: Disposition value 10-49</para>
    /// <para>Modifier: +1d10 to social checks</para>
    /// <para>Examples: Acquaintances, fellow guild members, satisfied customers</para>
    /// </remarks>
    NeutralPositive = 3,

    /// <summary>
    /// No particular opinion, professional distance.
    /// </summary>
    /// <remarks>
    /// <para>Threshold: Disposition value -9 to +9</para>
    /// <para>Modifier: +0 to social checks</para>
    /// <para>Examples: Strangers, merchants, guards on duty</para>
    /// </remarks>
    Neutral = 2,

    /// <summary>
    /// Distrustful, unwilling to help without strong incentive.
    /// </summary>
    /// <remarks>
    /// <para>Threshold: Disposition value -49 to -10</para>
    /// <para>Modifier: -1d10 to social checks</para>
    /// <para>Examples: Rival faction members, cheated traders, spurned suitors</para>
    /// </remarks>
    Unfriendly = 1,

    /// <summary>
    /// Active animosity, may refuse interaction entirely.
    /// </summary>
    /// <remarks>
    /// <para>Threshold: Disposition value ≤ -50</para>
    /// <para>Modifier: -2d10 to social checks</para>
    /// <para>Examples: Enemies, betrayed allies, faction at war</para>
    /// <para>Note: Some interactions may be impossible at this level.</para>
    /// </remarks>
    Hostile = 0
}
```

### 5.2 Extension Methods

**File:** `src/Core/RuneAndRust.Domain/Extensions/NpcDispositionExtensions.cs`

```csharp
namespace RuneAndRust.Domain.Extensions;

using RuneAndRust.Domain.Enums;

/// <summary>
/// Extension methods for <see cref="NpcDisposition"/> enum.
/// </summary>
public static class NpcDispositionExtensions
{
    /// <summary>
    /// Gets the dice modifier for this disposition level.
    /// </summary>
    /// <param name="disposition">The disposition level.</param>
    /// <returns>Dice pool modifier: positive for bonus, negative for penalty.</returns>
    public static int GetDiceModifier(this NpcDisposition disposition)
    {
        return disposition switch
        {
            NpcDisposition.Ally => 3,
            NpcDisposition.Friendly => 2,
            NpcDisposition.NeutralPositive => 1,
            NpcDisposition.Neutral => 0,
            NpcDisposition.Unfriendly => -1,
            NpcDisposition.Hostile => -2,
            _ => 0
        };
    }

    /// <summary>
    /// Gets the minimum disposition value threshold for this level.
    /// </summary>
    /// <param name="disposition">The disposition level.</param>
    /// <returns>The minimum numeric value for this disposition category.</returns>
    public static int GetMinThreshold(this NpcDisposition disposition)
    {
        return disposition switch
        {
            NpcDisposition.Ally => 75,
            NpcDisposition.Friendly => 50,
            NpcDisposition.NeutralPositive => 10,
            NpcDisposition.Neutral => -9,
            NpcDisposition.Unfriendly => -49,
            NpcDisposition.Hostile => -100,
            _ => -100
        };
    }

    /// <summary>
    /// Gets the maximum disposition value threshold for this level.
    /// </summary>
    /// <param name="disposition">The disposition level.</param>
    /// <returns>The maximum numeric value for this disposition category.</returns>
    public static int GetMaxThreshold(this NpcDisposition disposition)
    {
        return disposition switch
        {
            NpcDisposition.Ally => 100,
            NpcDisposition.Friendly => 74,
            NpcDisposition.NeutralPositive => 49,
            NpcDisposition.Neutral => 9,
            NpcDisposition.Unfriendly => -10,
            NpcDisposition.Hostile => -50,
            _ => 100
        };
    }

    /// <summary>
    /// Determines the disposition level from a numeric value.
    /// </summary>
    /// <param name="value">Disposition value (-100 to +100).</param>
    /// <returns>The corresponding <see cref="NpcDisposition"/> level.</returns>
    public static NpcDisposition FromValue(int value)
    {
        return value switch
        {
            >= 75 => NpcDisposition.Ally,
            >= 50 => NpcDisposition.Friendly,
            >= 10 => NpcDisposition.NeutralPositive,
            >= -9 => NpcDisposition.Neutral,
            >= -49 => NpcDisposition.Unfriendly,
            _ => NpcDisposition.Hostile
        };
    }

    /// <summary>
    /// Gets a human-readable description of the disposition level.
    /// </summary>
    /// <param name="disposition">The disposition level.</param>
    /// <returns>A descriptive string for UI display.</returns>
    public static string GetDescription(this NpcDisposition disposition)
    {
        return disposition switch
        {
            NpcDisposition.Ally => "Ally",
            NpcDisposition.Friendly => "Friendly",
            NpcDisposition.NeutralPositive => "Well-disposed",
            NpcDisposition.Neutral => "Neutral",
            NpcDisposition.Unfriendly => "Unfriendly",
            NpcDisposition.Hostile => "Hostile",
            _ => "Unknown"
        };
    }

    /// <summary>
    /// Gets whether this disposition level blocks certain interactions.
    /// </summary>
    /// <param name="disposition">The disposition level.</param>
    /// <returns>True if some social options may be unavailable.</returns>
    public static bool BlocksSomeInteractions(this NpcDisposition disposition)
    {
        return disposition == NpcDisposition.Hostile;
    }

    /// <summary>
    /// Gets whether this disposition level allows forming alliances.
    /// </summary>
    /// <param name="disposition">The disposition level.</param>
    /// <returns>True if the NPC could become a companion or ally.</returns>
    public static bool AllowsAlliance(this NpcDisposition disposition)
    {
        return disposition >= NpcDisposition.Friendly;
    }
}
```

---

## 6. DispositionLevel Value Object

### 6.1 Class Definition

**File:** `src/Core/RuneAndRust.Domain/ValueObjects/DispositionLevel.cs`

```csharp
namespace RuneAndRust.Domain.ValueObjects;

using RuneAndRust.Domain.Enums;
using RuneAndRust.Domain.Extensions;

/// <summary>
/// Represents an NPC's disposition toward the player as a numeric value.
/// </summary>
/// <remarks>
/// <para>
/// Disposition values range from -100 (maximum hostility) to +100 (maximum alliance).
/// The value is converted to <see cref="NpcDisposition"/> categories for modifier
/// calculation and interaction restrictions.
/// </para>
/// <para>
/// Disposition changes from social interactions, quests, and faction events.
/// Some effects can lock disposition at a certain level until recovery conditions are met.
/// </para>
/// </remarks>
/// <param name="Value">The numeric disposition value, clamped to -100 to +100.</param>
/// <param name="IsLocked">Whether disposition changes are blocked (e.g., after [Trust Shattered]).</param>
/// <param name="LockedReason">The reason disposition is locked, if applicable.</param>
public readonly record struct DispositionLevel(
    int Value,
    bool IsLocked = false,
    string? LockedReason = null)
{
    /// <summary>
    /// Minimum possible disposition value.
    /// </summary>
    public const int MinValue = -100;

    /// <summary>
    /// Maximum possible disposition value.
    /// </summary>
    public const int MaxValue = 100;

    /// <summary>
    /// Default neutral disposition value.
    /// </summary>
    public const int DefaultValue = 0;

    /// <summary>
    /// Gets the clamped disposition value within valid range.
    /// </summary>
    public int ClampedValue => Math.Clamp(Value, MinValue, MaxValue);

    /// <summary>
    /// Gets the disposition category derived from the numeric value.
    /// </summary>
    public NpcDisposition Category => NpcDispositionExtensions.FromValue(ClampedValue);

    /// <summary>
    /// Gets the dice modifier for social checks based on disposition.
    /// </summary>
    public int DiceModifier => Category.GetDiceModifier();

    /// <summary>
    /// Gets whether this disposition level blocks certain interactions.
    /// </summary>
    public bool BlocksSomeInteractions => Category.BlocksSomeInteractions();

    /// <summary>
    /// Gets whether this disposition allows forming alliances.
    /// </summary>
    public bool AllowsAlliance => Category.AllowsAlliance();

    /// <summary>
    /// Creates a new disposition level with default neutral value.
    /// </summary>
    /// <returns>A neutral disposition level.</returns>
    public static DispositionLevel CreateNeutral() => new(DefaultValue);

    /// <summary>
    /// Creates a new disposition level at the specified value.
    /// </summary>
    /// <param name="value">The disposition value.</param>
    /// <returns>A new disposition level clamped to valid range.</returns>
    public static DispositionLevel Create(int value) => new(Math.Clamp(value, MinValue, MaxValue));

    /// <summary>
    /// Creates a new disposition level from a category.
    /// </summary>
    /// <param name="category">The disposition category.</param>
    /// <returns>A disposition level at the midpoint of the category range.</returns>
    public static DispositionLevel FromCategory(NpcDisposition category)
    {
        var midpoint = category switch
        {
            NpcDisposition.Ally => 87,      // Midpoint of 75-100
            NpcDisposition.Friendly => 62,   // Midpoint of 50-74
            NpcDisposition.NeutralPositive => 30, // Midpoint of 10-49
            NpcDisposition.Neutral => 0,     // Midpoint of -9 to +9
            NpcDisposition.Unfriendly => -30, // Midpoint of -49 to -10
            NpcDisposition.Hostile => -75,   // Midpoint of -100 to -50
            _ => 0
        };
        return new DispositionLevel(midpoint);
    }

    /// <summary>
    /// Modifies the disposition by the specified amount.
    /// </summary>
    /// <param name="change">The amount to change (positive or negative).</param>
    /// <returns>A new disposition level with the modified value, or unchanged if locked.</returns>
    public DispositionLevel Modify(int change)
    {
        if (IsLocked)
            return this;

        return this with { Value = Math.Clamp(ClampedValue + change, MinValue, MaxValue) };
    }

    /// <summary>
    /// Locks the disposition at its current value.
    /// </summary>
    /// <param name="reason">The reason for locking (e.g., fumble consequence).</param>
    /// <returns>A locked disposition level.</returns>
    public DispositionLevel Lock(string reason)
    {
        return this with { IsLocked = true, LockedReason = reason };
    }

    /// <summary>
    /// Unlocks the disposition, allowing future changes.
    /// </summary>
    /// <returns>An unlocked disposition level.</returns>
    public DispositionLevel Unlock()
    {
        return this with { IsLocked = false, LockedReason = null };
    }

    /// <summary>
    /// Gets a human-readable description of the disposition.
    /// </summary>
    /// <returns>A formatted string for UI display.</returns>
    public string ToDescription()
    {
        var modifierStr = DiceModifier >= 0 ? $"+{DiceModifier}d10" : $"{DiceModifier}d10";
        var lockedStr = IsLocked ? $" [LOCKED: {LockedReason}]" : "";
        return $"{Category.GetDescription()} ({ClampedValue}, {modifierStr}){lockedStr}";
    }

    /// <inheritdoc/>
    public override string ToString() => ToDescription();
}
```

---

## 7. SocialContext Value Object

### 7.1 Class Definition

**File:** `src/Core/RuneAndRust.Domain/ValueObjects/SocialContext.cs`

```csharp
namespace RuneAndRust.Domain.ValueObjects;

using RuneAndRust.Domain.Enums;
using RuneAndRust.Domain.Extensions;
using RuneAndRust.Domain.Interfaces;

/// <summary>
/// Encapsulates all factors affecting a social interaction check.
/// </summary>
/// <remarks>
/// <para>
/// The social context extends the skill context pattern from v0.15.1a with
/// additional factors specific to social interactions, including target
/// disposition, faction relationships, and cultural protocols.
/// </para>
/// <para>
/// This is an immutable value object created via <see cref="SocialContextBuilder"/>.
/// All modifiers are aggregated and applied to the final skill check.
/// </para>
/// </remarks>
/// <param name="InteractionType">The type of social interaction.</param>
/// <param name="TargetId">The ID of the NPC being interacted with.</param>
/// <param name="TargetDisposition">The NPC's current disposition toward the player.</param>
/// <param name="TargetFactionId">The faction the NPC belongs to, if any.</param>
/// <param name="CultureId">The cultural protocol to use, if applicable.</param>
/// <param name="BaseDc">The base difficulty class before modifiers.</param>
/// <param name="SocialModifiers">All social-specific modifiers applied to the check.</param>
/// <param name="EquipmentModifiers">Equipment modifiers (evidence, documents, etc.).</param>
/// <param name="SituationalModifiers">Situational modifiers (time pressure, etc.).</param>
/// <param name="AppliedStatuses">Status effects currently affecting the check.</param>
public readonly record struct SocialContext(
    SocialInteractionType InteractionType,
    string TargetId,
    DispositionLevel TargetDisposition,
    string? TargetFactionId,
    string? CultureId,
    int BaseDc,
    IReadOnlyList<SocialModifier> SocialModifiers,
    IReadOnlyList<EquipmentModifier> EquipmentModifiers,
    IReadOnlyList<SituationalModifier> SituationalModifiers,
    IReadOnlyList<StatusEffectId> AppliedStatuses)
{
    /// <summary>
    /// Gets the disposition category for the target.
    /// </summary>
    public NpcDisposition DispositionCategory => TargetDisposition.Category;

    /// <summary>
    /// Gets the dice modifier from disposition.
    /// </summary>
    public int DispositionDiceModifier => TargetDisposition.DiceModifier;

    /// <summary>
    /// Gets the total dice modifier from all social-specific modifiers.
    /// </summary>
    public int SocialDiceModifier => SocialModifiers.Sum(m => m.DiceModifier);

    /// <summary>
    /// Gets the total DC modifier from all social-specific modifiers.
    /// </summary>
    public int SocialDcModifier => SocialModifiers.Sum(m => m.DcModifier);

    /// <summary>
    /// Gets the total dice modifier from equipment.
    /// </summary>
    public int EquipmentDiceModifier => EquipmentModifiers.Sum(m => m.DiceModifier);

    /// <summary>
    /// Gets the total DC modifier from equipment.
    /// </summary>
    public int EquipmentDcModifier => EquipmentModifiers.Sum(m => m.DcModifier);

    /// <summary>
    /// Gets the total dice modifier from situational factors.
    /// </summary>
    public int SituationalDiceModifier => SituationalModifiers.Sum(m => m.DiceModifier);

    /// <summary>
    /// Gets the total DC modifier from situational factors.
    /// </summary>
    public int SituationalDcModifier => SituationalModifiers.Sum(m => m.DcModifier);

    /// <summary>
    /// Gets the total dice modifier combining all sources.
    /// </summary>
    public int TotalDiceModifier =>
        DispositionDiceModifier +
        SocialDiceModifier +
        EquipmentDiceModifier +
        SituationalDiceModifier;

    /// <summary>
    /// Gets the total DC modifier combining all sources.
    /// </summary>
    public int TotalDcModifier =>
        SocialDcModifier +
        EquipmentDcModifier +
        SituationalDcModifier;

    /// <summary>
    /// Gets the effective DC after all modifiers.
    /// </summary>
    public int EffectiveDc => Math.Max(1, BaseDc + TotalDcModifier);

    /// <summary>
    /// Gets whether this interaction type uses opposed rolls.
    /// </summary>
    public bool IsOpposed => InteractionType.IsOpposed();

    /// <summary>
    /// Gets whether this interaction incurs stress cost.
    /// </summary>
    public bool HasStressCost => InteractionType.HasStressCost();

    /// <summary>
    /// Gets whether this interaction always costs reputation.
    /// </summary>
    public bool AlwaysCostsReputation => InteractionType.AlwaysCostsReputation();

    /// <summary>
    /// Gets whether this is a multi-round interaction.
    /// </summary>
    public bool IsMultiRound => InteractionType.IsMultiRound();

    /// <summary>
    /// Gets whether there are any modifiers applied.
    /// </summary>
    public bool HasModifiers =>
        SocialModifiers.Count > 0 ||
        EquipmentModifiers.Count > 0 ||
        SituationalModifiers.Count > 0 ||
        DispositionDiceModifier != 0;

    /// <summary>
    /// Gets the total count of all modifiers.
    /// </summary>
    public int ModifierCount =>
        SocialModifiers.Count +
        EquipmentModifiers.Count +
        SituationalModifiers.Count +
        (DispositionDiceModifier != 0 ? 1 : 0);

    /// <summary>
    /// Gets the fumble type for this interaction.
    /// </summary>
    public FumbleType FumbleType => InteractionType.GetFumbleType();

    /// <summary>
    /// Builds a detailed modifier breakdown for display.
    /// </summary>
    /// <returns>A multi-line string showing all modifiers.</returns>
    public string ToModifierBreakdown()
    {
        var lines = new List<string>
        {
            $"Social Check: {InteractionType.GetDescription()}",
            $"Target: {TargetId} ({TargetDisposition.Category.GetDescription()})",
            $"Base DC: {BaseDc}"
        };

        if (DispositionDiceModifier != 0)
        {
            var sign = DispositionDiceModifier > 0 ? "+" : "";
            lines.Add($"  Disposition: {sign}{DispositionDiceModifier}d10");
        }

        foreach (var mod in SocialModifiers)
        {
            lines.Add($"  {mod.ToShortDescription()}");
        }

        foreach (var mod in EquipmentModifiers)
        {
            lines.Add($"  {mod.ToShortDescription()}");
        }

        foreach (var mod in SituationalModifiers)
        {
            lines.Add($"  {mod.ToShortDescription()}");
        }

        var totalDice = TotalDiceModifier >= 0 ? $"+{TotalDiceModifier}d10" : $"{TotalDiceModifier}d10";
        var totalDc = TotalDcModifier != 0
            ? (TotalDcModifier > 0 ? $", DC +{TotalDcModifier}" : $", DC {TotalDcModifier}")
            : "";

        lines.Add($"Total: {totalDice}{totalDc}");
        lines.Add($"Effective DC: {EffectiveDc}");

        return string.Join(Environment.NewLine, lines);
    }

    /// <inheritdoc/>
    public override string ToString()
    {
        if (!HasModifiers)
            return $"{InteractionType} vs {TargetId} (DC {BaseDc})";

        var dice = TotalDiceModifier >= 0 ? $"+{TotalDiceModifier}d10" : $"{TotalDiceModifier}d10";
        var dc = TotalDcModifier != 0
            ? (TotalDcModifier > 0 ? $", DC +{TotalDcModifier}" : $", DC {TotalDcModifier}")
            : "";

        return $"{InteractionType} vs {TargetId}: {dice}{dc} ({ModifierCount} modifiers)";
    }
}
```

---

## 8. SocialResult Value Object

### 8.1 Class Definition

**File:** `src/Core/RuneAndRust.Domain/ValueObjects/SocialResult.cs`

```csharp
namespace RuneAndRust.Domain.ValueObjects;

using RuneAndRust.Domain.Enums;
using RuneAndRust.Domain.Entities;

/// <summary>
/// Represents the outcome of a social interaction check.
/// </summary>
/// <remarks>
/// <para>
/// Social results capture not just success/failure but also the ripple effects
/// of the interaction: disposition changes, reputation changes, unlocked or
/// locked dialogue options, stress costs, and fumble consequences.
/// </para>
/// <para>
/// This value object is created by social interaction services after resolving
/// the skill check and applying all interaction-specific rules.
/// </para>
/// </remarks>
/// <param name="InteractionType">The type of social interaction performed.</param>
/// <param name="TargetId">The ID of the NPC interacted with.</param>
/// <param name="Outcome">The skill check outcome.</param>
/// <param name="OutcomeDetails">Enhanced outcome metadata.</param>
/// <param name="DispositionChange">How the NPC's disposition changed.</param>
/// <param name="NewDisposition">The NPC's disposition after the interaction.</param>
/// <param name="ReputationChange">Faction reputation change, if any.</param>
/// <param name="AffectedFactionId">The faction affected by reputation change.</param>
/// <param name="UnlockedOptions">Dialogue options now available.</param>
/// <param name="LockedOptions">Dialogue options now unavailable.</param>
/// <param name="StressCost">Psychic Stress incurred by the interaction.</param>
/// <param name="FumbleConsequence">The fumble consequence if this was a fumble.</param>
/// <param name="NarrativeText">Flavor text describing the outcome.</param>
public readonly record struct SocialResult(
    SocialInteractionType InteractionType,
    string TargetId,
    SkillOutcome Outcome,
    OutcomeDetails OutcomeDetails,
    int DispositionChange,
    DispositionLevel NewDisposition,
    int ReputationChange,
    string? AffectedFactionId,
    IReadOnlyList<string> UnlockedOptions,
    IReadOnlyList<string> LockedOptions,
    int StressCost,
    FumbleConsequence? FumbleConsequence,
    string? NarrativeText)
{
    /// <summary>
    /// Gets whether the interaction succeeded.
    /// </summary>
    public bool IsSuccess => Outcome >= SkillOutcome.MarginalSuccess;

    /// <summary>
    /// Gets whether the interaction was a critical success.
    /// </summary>
    public bool IsCriticalSuccess => Outcome == SkillOutcome.CriticalSuccess;

    /// <summary>
    /// Gets whether the interaction was a fumble.
    /// </summary>
    public bool IsFumble => Outcome == SkillOutcome.CriticalFailure;

    /// <summary>
    /// Gets whether any dialogue options were unlocked.
    /// </summary>
    public bool HasUnlockedOptions => UnlockedOptions.Count > 0;

    /// <summary>
    /// Gets whether any dialogue options were locked.
    /// </summary>
    public bool HasLockedOptions => LockedOptions.Count > 0;

    /// <summary>
    /// Gets whether the interaction incurred stress.
    /// </summary>
    public bool HasStressCost => StressCost > 0;

    /// <summary>
    /// Gets whether the interaction affected reputation.
    /// </summary>
    public bool HasReputationChange => ReputationChange != 0 && !string.IsNullOrEmpty(AffectedFactionId);

    /// <summary>
    /// Gets whether the interaction affected disposition.
    /// </summary>
    public bool HasDispositionChange => DispositionChange != 0;

    /// <summary>
    /// Gets whether a fumble consequence was created.
    /// </summary>
    public bool HasFumbleConsequence => FumbleConsequence != null;

    /// <summary>
    /// Creates a successful social result.
    /// </summary>
    public static SocialResult CreateSuccess(
        SocialInteractionType interactionType,
        string targetId,
        SkillOutcome outcome,
        OutcomeDetails details,
        DispositionLevel currentDisposition,
        int dispositionChange,
        int reputationChange = 0,
        string? factionId = null,
        IReadOnlyList<string>? unlockedOptions = null,
        int stressCost = 0,
        string? narrativeText = null)
    {
        return new SocialResult(
            InteractionType: interactionType,
            TargetId: targetId,
            Outcome: outcome,
            OutcomeDetails: details,
            DispositionChange: dispositionChange,
            NewDisposition: currentDisposition.Modify(dispositionChange),
            ReputationChange: reputationChange,
            AffectedFactionId: factionId,
            UnlockedOptions: unlockedOptions ?? Array.Empty<string>(),
            LockedOptions: Array.Empty<string>(),
            StressCost: stressCost,
            FumbleConsequence: null,
            NarrativeText: narrativeText);
    }

    /// <summary>
    /// Creates a failed social result.
    /// </summary>
    public static SocialResult CreateFailure(
        SocialInteractionType interactionType,
        string targetId,
        SkillOutcome outcome,
        OutcomeDetails details,
        DispositionLevel currentDisposition,
        int dispositionChange,
        int reputationChange = 0,
        string? factionId = null,
        IReadOnlyList<string>? lockedOptions = null,
        int stressCost = 0,
        string? narrativeText = null)
    {
        return new SocialResult(
            InteractionType: interactionType,
            TargetId: targetId,
            Outcome: outcome,
            OutcomeDetails: details,
            DispositionChange: dispositionChange,
            NewDisposition: currentDisposition.Modify(dispositionChange),
            ReputationChange: reputationChange,
            AffectedFactionId: factionId,
            UnlockedOptions: Array.Empty<string>(),
            LockedOptions: lockedOptions ?? Array.Empty<string>(),
            StressCost: stressCost,
            FumbleConsequence: null,
            NarrativeText: narrativeText);
    }

    /// <summary>
    /// Creates a fumble social result.
    /// </summary>
    public static SocialResult CreateFumble(
        SocialInteractionType interactionType,
        string targetId,
        OutcomeDetails details,
        DispositionLevel currentDisposition,
        int dispositionChange,
        FumbleConsequence consequence,
        int stressCost,
        int reputationChange = 0,
        string? factionId = null,
        IReadOnlyList<string>? lockedOptions = null,
        string? narrativeText = null)
    {
        return new SocialResult(
            InteractionType: interactionType,
            TargetId: targetId,
            Outcome: SkillOutcome.CriticalFailure,
            OutcomeDetails: details,
            DispositionChange: dispositionChange,
            NewDisposition: currentDisposition.Modify(dispositionChange),
            ReputationChange: reputationChange,
            AffectedFactionId: factionId,
            UnlockedOptions: Array.Empty<string>(),
            LockedOptions: lockedOptions ?? Array.Empty<string>(),
            StressCost: stressCost,
            FumbleConsequence: consequence,
            NarrativeText: narrativeText);
    }

    /// <summary>
    /// Gets a summary of the result for display.
    /// </summary>
    /// <returns>A formatted string summarizing the result.</returns>
    public string ToSummary()
    {
        var lines = new List<string>
        {
            $"{InteractionType}: {Outcome}"
        };

        if (HasDispositionChange)
        {
            var sign = DispositionChange > 0 ? "+" : "";
            lines.Add($"Disposition: {sign}{DispositionChange} → {NewDisposition.Category.GetDescription()}");
        }

        if (HasReputationChange)
        {
            var sign = ReputationChange > 0 ? "+" : "";
            lines.Add($"Reputation ({AffectedFactionId}): {sign}{ReputationChange}");
        }

        if (HasStressCost)
        {
            lines.Add($"Stress: +{StressCost}");
        }

        if (HasUnlockedOptions)
        {
            lines.Add($"Unlocked: {string.Join(", ", UnlockedOptions)}");
        }

        if (HasLockedOptions)
        {
            lines.Add($"Locked: {string.Join(", ", LockedOptions)}");
        }

        if (HasFumbleConsequence)
        {
            lines.Add($"FUMBLE: {FumbleConsequence!.FumbleType}");
        }

        return string.Join(Environment.NewLine, lines);
    }

    /// <inheritdoc/>
    public override string ToString() => ToSummary();
}
```

---

## 9. SocialModifier Value Object

### 9.1 Class Definition

**File:** `src/Core/RuneAndRust.Domain/ValueObjects/SocialModifier.cs`

```csharp
namespace RuneAndRust.Domain.ValueObjects;

using RuneAndRust.Domain.Enums;
using RuneAndRust.Domain.Interfaces;

/// <summary>
/// Represents a modifier specific to social interactions.
/// </summary>
/// <remarks>
/// <para>
/// Social modifiers capture factors unique to social checks that don't fit
/// into equipment, situational, or environmental categories. These include
/// argument alignment, target state, faction relationships, and cultural factors.
/// </para>
/// </remarks>
/// <param name="Source">The source of this modifier (e.g., "Value Alignment", "Faction Standing").</param>
/// <param name="Description">Human-readable description of the modifier.</param>
/// <param name="DiceModifier">Bonus or penalty to dice pool.</param>
/// <param name="DcModifier">Bonus or penalty to difficulty class.</param>
/// <param name="ModifierType">The category of social modifier.</param>
/// <param name="AppliesToInteractionTypes">Which interaction types this modifier affects.</param>
public readonly record struct SocialModifier(
    string Source,
    string Description,
    int DiceModifier,
    int DcModifier,
    SocialModifierType ModifierType,
    IReadOnlyList<SocialInteractionType>? AppliesToInteractionTypes = null) : ISkillModifier
{
    /// <summary>
    /// Gets the modifier category.
    /// </summary>
    public ModifierCategory Category => ModifierCategory.Social;

    /// <summary>
    /// Gets whether this modifier applies to a specific interaction type.
    /// </summary>
    /// <param name="interactionType">The interaction type to check.</param>
    /// <returns>True if the modifier applies.</returns>
    public bool AppliesTo(SocialInteractionType interactionType)
    {
        // If no specific types are listed, it applies to all
        if (AppliesToInteractionTypes == null || AppliesToInteractionTypes.Count == 0)
            return true;

        return AppliesToInteractionTypes.Contains(interactionType);
    }

    /// <summary>
    /// Creates a faction standing modifier.
    /// </summary>
    public static SocialModifier FactionStanding(string factionId, int diceModifier, string standing)
    {
        return new SocialModifier(
            Source: "Faction Standing",
            Description: $"{standing} with {factionId}",
            DiceModifier: diceModifier,
            DcModifier: 0,
            ModifierType: SocialModifierType.FactionRelation);
    }

    /// <summary>
    /// Creates an argument alignment modifier.
    /// </summary>
    public static SocialModifier ArgumentAlignment(bool aligned, string? reason = null)
    {
        var desc = aligned
            ? $"Argument aligns with NPC values{(reason != null ? $": {reason}" : "")}"
            : $"Argument contradicts NPC values{(reason != null ? $": {reason}" : "")}";

        return new SocialModifier(
            Source: "Argument Alignment",
            Description: desc,
            DiceModifier: aligned ? 1 : -1,
            DcModifier: 0,
            ModifierType: SocialModifierType.ArgumentQuality,
            AppliesToInteractionTypes: new[] { SocialInteractionType.Persuasion });
    }

    /// <summary>
    /// Creates an evidence modifier.
    /// </summary>
    public static SocialModifier Evidence(string evidenceDescription)
    {
        return new SocialModifier(
            Source: "Evidence",
            Description: evidenceDescription,
            DiceModifier: 2,
            DcModifier: 0,
            ModifierType: SocialModifierType.Evidence,
            AppliesToInteractionTypes: new[] { SocialInteractionType.Persuasion });
    }

    /// <summary>
    /// Creates a suspicion modifier for deception checks.
    /// </summary>
    public static SocialModifier Suspicious()
    {
        return new SocialModifier(
            Source: "Target Suspicion",
            Description: "Target is suspicious",
            DiceModifier: 0,
            DcModifier: 4,
            ModifierType: SocialModifierType.TargetState,
            AppliesToInteractionTypes: new[] { SocialInteractionType.Deception });
    }

    /// <summary>
    /// Creates a trusting modifier for deception checks.
    /// </summary>
    public static SocialModifier Trusting()
    {
        return new SocialModifier(
            Source: "Target Trust",
            Description: "Target is trusting",
            DiceModifier: 0,
            DcModifier: -4,
            ModifierType: SocialModifierType.TargetState,
            AppliesToInteractionTypes: new[] { SocialInteractionType.Deception });
    }

    /// <summary>
    /// Creates a strength comparison modifier for intimidation.
    /// </summary>
    public static SocialModifier StrengthComparison(bool playerStronger)
    {
        return new SocialModifier(
            Source: "Strength Comparison",
            Description: playerStronger ? "Target is weaker" : "Target is stronger",
            DiceModifier: playerStronger ? 1 : -1,
            DcModifier: 0,
            ModifierType: SocialModifierType.TargetState,
            AppliesToInteractionTypes: new[] { SocialInteractionType.Intimidation });
    }

    /// <summary>
    /// Creates a reputation modifier.
    /// </summary>
    public static SocialModifier Reputation(string reputationStatus, int diceModifier,
        IReadOnlyList<SocialInteractionType>? appliesToTypes = null)
    {
        return new SocialModifier(
            Source: "Reputation",
            Description: $"[{reputationStatus}] reputation",
            DiceModifier: diceModifier,
            DcModifier: 0,
            ModifierType: SocialModifierType.Reputation,
            AppliesToInteractionTypes: appliesToTypes);
    }

    /// <summary>
    /// Creates an untrustworthy flag modifier.
    /// </summary>
    public static SocialModifier Untrustworthy()
    {
        return new SocialModifier(
            Source: "Untrustworthy",
            Description: "[Untrustworthy] reputation",
            DiceModifier: 0,
            DcModifier: 3,
            ModifierType: SocialModifierType.Reputation);
    }

    /// <summary>
    /// Creates a backup presence modifier for intimidation.
    /// </summary>
    public static SocialModifier HasBackup()
    {
        return new SocialModifier(
            Source: "Backup Present",
            Description: "Target has backup nearby",
            DiceModifier: -1,
            DcModifier: 0,
            ModifierType: SocialModifierType.TargetState,
            AppliesToInteractionTypes: new[] { SocialInteractionType.Intimidation });
    }

    /// <summary>
    /// Creates an artifact modifier for intimidation.
    /// </summary>
    public static SocialModifier WieldingArtifact(string artifactName)
    {
        return new SocialModifier(
            Source: "Wielding Artifact",
            Description: $"Displaying {artifactName}",
            DiceModifier: 1,
            DcModifier: 0,
            ModifierType: SocialModifierType.Equipment,
            AppliesToInteractionTypes: new[] { SocialInteractionType.Intimidation });
    }

    /// <summary>
    /// Returns a short description for UI display.
    /// </summary>
    public string ToShortDescription()
    {
        var parts = new List<string> { Description };

        if (DiceModifier != 0)
        {
            var diceStr = DiceModifier > 0 ? $"+{DiceModifier}d10" : $"{DiceModifier}d10";
            parts.Add($"({diceStr})");
        }

        if (DcModifier != 0)
        {
            var dcStr = DcModifier > 0 ? $"DC +{DcModifier}" : $"DC {DcModifier}";
            parts.Add($"({dcStr})");
        }

        return string.Join(" ", parts);
    }

    /// <inheritdoc/>
    public override string ToString() => ToShortDescription();
}

/// <summary>
/// Categories of social modifiers.
/// </summary>
public enum SocialModifierType
{
    /// <summary>
    /// Modifier from faction relationship.
    /// </summary>
    FactionRelation,

    /// <summary>
    /// Modifier from argument quality/alignment.
    /// </summary>
    ArgumentQuality,

    /// <summary>
    /// Modifier from supporting evidence.
    /// </summary>
    Evidence,

    /// <summary>
    /// Modifier from target's current state.
    /// </summary>
    TargetState,

    /// <summary>
    /// Modifier from player reputation.
    /// </summary>
    Reputation,

    /// <summary>
    /// Modifier from cultural factors.
    /// </summary>
    Cultural,

    /// <summary>
    /// Modifier from equipment (visible artifacts, etc.).
    /// </summary>
    Equipment
}
```

---

## 10. ISocialContextBuilder Interface

### 10.1 Interface Definition

**File:** `src/Core/RuneAndRust.Application/Interfaces/ISocialContextBuilder.cs`

```csharp
namespace RuneAndRust.Application.Interfaces;

using RuneAndRust.Domain.Enums;
using RuneAndRust.Domain.ValueObjects;

/// <summary>
/// Fluent builder interface for constructing <see cref="SocialContext"/> instances.
/// </summary>
/// <remarks>
/// <para>
/// The social context builder allows incremental construction of social interaction
/// contexts by chaining modifier methods. It follows the builder pattern from
/// <see cref="ISkillContextBuilder"/> adapted for social-specific factors.
/// </para>
/// </remarks>
public interface ISocialContextBuilder
{
    /// <summary>
    /// Sets the type of social interaction.
    /// </summary>
    /// <param name="interactionType">The interaction type.</param>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder WithInteractionType(SocialInteractionType interactionType);

    /// <summary>
    /// Sets the target NPC for the interaction.
    /// </summary>
    /// <param name="targetId">The NPC identifier.</param>
    /// <param name="disposition">The NPC's current disposition.</param>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder WithTarget(string targetId, DispositionLevel disposition);

    /// <summary>
    /// Sets the target's faction, if any.
    /// </summary>
    /// <param name="factionId">The faction identifier.</param>
    /// <param name="playerStanding">The player's standing with this faction.</param>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder WithFaction(string factionId, int playerStanding);

    /// <summary>
    /// Sets the cultural protocol to use.
    /// </summary>
    /// <param name="cultureId">The culture identifier.</param>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder WithCulture(string cultureId);

    /// <summary>
    /// Sets the base difficulty class.
    /// </summary>
    /// <param name="baseDc">The base DC before modifiers.</param>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder WithBaseDc(int baseDc);

    /// <summary>
    /// Adds a social modifier.
    /// </summary>
    /// <param name="modifier">The social modifier to add.</param>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder WithSocialModifier(SocialModifier modifier);

    /// <summary>
    /// Adds an equipment modifier.
    /// </summary>
    /// <param name="modifier">The equipment modifier to add.</param>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder WithEquipment(EquipmentModifier modifier);

    /// <summary>
    /// Adds a situational modifier.
    /// </summary>
    /// <param name="modifier">The situational modifier to add.</param>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder WithSituation(SituationalModifier modifier);

    /// <summary>
    /// Adds a status effect affecting the check.
    /// </summary>
    /// <param name="statusId">The status effect identifier.</param>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder WithAppliedStatus(StatusEffectId statusId);

    /// <summary>
    /// Marks the target as suspicious (Deception DC +4).
    /// </summary>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder TargetIsSuspicious();

    /// <summary>
    /// Marks the target as trusting (Deception DC -4).
    /// </summary>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder TargetIsTrusting();

    /// <summary>
    /// Sets argument alignment with NPC values.
    /// </summary>
    /// <param name="aligned">True if argument aligns with NPC beliefs.</param>
    /// <param name="reason">Optional reason for alignment/misalignment.</param>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder WithArgumentAlignment(bool aligned, string? reason = null);

    /// <summary>
    /// Adds evidence supporting the argument.
    /// </summary>
    /// <param name="evidenceDescription">Description of the evidence.</param>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder WithEvidence(string evidenceDescription);

    /// <summary>
    /// Sets strength comparison for intimidation.
    /// </summary>
    /// <param name="playerStronger">True if player is stronger than target.</param>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder WithStrengthComparison(bool playerStronger);

    /// <summary>
    /// Marks that the target has backup nearby (Intimidation penalty).
    /// </summary>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder TargetHasBackup();

    /// <summary>
    /// Marks that the player is wielding a visible artifact.
    /// </summary>
    /// <param name="artifactName">Name of the artifact.</param>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder WieldingArtifact(string artifactName);

    /// <summary>
    /// Adds player reputation modifier.
    /// </summary>
    /// <param name="status">The reputation status (e.g., "Honored", "Feared").</param>
    /// <param name="diceModifier">The dice modifier from this reputation.</param>
    /// <param name="appliesToTypes">Optional list of interaction types this applies to.</param>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder WithReputation(string status, int diceModifier,
        IReadOnlyList<SocialInteractionType>? appliesToTypes = null);

    /// <summary>
    /// Marks the player as untrustworthy (all social checks DC +3).
    /// </summary>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder IsUntrustworthy();

    /// <summary>
    /// Builds the final social context.
    /// </summary>
    /// <returns>An immutable <see cref="SocialContext"/>.</returns>
    SocialContext Build();

    /// <summary>
    /// Resets the builder to default state for reuse.
    /// </summary>
    /// <returns>The builder for chaining.</returns>
    ISocialContextBuilder Reset();
}
```

---

## 11. SocialContextBuilder Implementation

### 11.1 Class Definition

**File:** `src/Core/RuneAndRust.Application/Services/SocialContextBuilder.cs`

```csharp
namespace RuneAndRust.Application.Services;

using RuneAndRust.Application.Interfaces;
using RuneAndRust.Domain.Enums;
using RuneAndRust.Domain.ValueObjects;
using RuneAndRust.Domain.Extensions;

/// <summary>
/// Fluent builder for constructing <see cref="SocialContext"/> instances.
/// </summary>
/// <remarks>
/// <para>
/// The social context builder aggregates all modifiers and factors affecting
/// a social interaction check. It provides convenient methods for common
/// modifier scenarios while allowing direct modifier injection.
/// </para>
/// </remarks>
public class SocialContextBuilder : ISocialContextBuilder
{
    private SocialInteractionType _interactionType;
    private string _targetId = string.Empty;
    private DispositionLevel _targetDisposition = DispositionLevel.CreateNeutral();
    private string? _targetFactionId;
    private string? _cultureId;
    private int _baseDc = 2;
    private readonly List<SocialModifier> _socialModifiers = new();
    private readonly List<EquipmentModifier> _equipmentModifiers = new();
    private readonly List<SituationalModifier> _situationalModifiers = new();
    private readonly List<StatusEffectId> _appliedStatuses = new();

    /// <inheritdoc/>
    public ISocialContextBuilder WithInteractionType(SocialInteractionType interactionType)
    {
        _interactionType = interactionType;
        return this;
    }

    /// <inheritdoc/>
    public ISocialContextBuilder WithTarget(string targetId, DispositionLevel disposition)
    {
        _targetId = targetId ?? throw new ArgumentNullException(nameof(targetId));
        _targetDisposition = disposition;
        return this;
    }

    /// <inheritdoc/>
    public ISocialContextBuilder WithFaction(string factionId, int playerStanding)
    {
        _targetFactionId = factionId;

        // Convert standing to dice modifier
        var diceModifier = playerStanding switch
        {
            >= 75 => 1,   // Honored
            >= 25 => 0,   // Friendly/Neutral
            >= -24 => 0,  // Neutral
            >= -74 => -1, // Unfriendly
            _ => -2       // Hostile
        };

        if (diceModifier != 0)
        {
            var standing = playerStanding >= 75 ? "Honored"
                : playerStanding <= -75 ? "Hostile"
                : playerStanding <= -25 ? "Unfriendly"
                : "Neutral";

            _socialModifiers.Add(SocialModifier.FactionStanding(factionId, diceModifier, standing));
        }

        return this;
    }

    /// <inheritdoc/>
    public ISocialContextBuilder WithCulture(string cultureId)
    {
        _cultureId = cultureId;
        return this;
    }

    /// <inheritdoc/>
    public ISocialContextBuilder WithBaseDc(int baseDc)
    {
        _baseDc = Math.Max(1, baseDc);
        return this;
    }

    /// <inheritdoc/>
    public ISocialContextBuilder WithSocialModifier(SocialModifier modifier)
    {
        _socialModifiers.Add(modifier);
        return this;
    }

    /// <inheritdoc/>
    public ISocialContextBuilder WithEquipment(EquipmentModifier modifier)
    {
        _equipmentModifiers.Add(modifier);
        return this;
    }

    /// <inheritdoc/>
    public ISocialContextBuilder WithSituation(SituationalModifier modifier)
    {
        _situationalModifiers.Add(modifier);
        return this;
    }

    /// <inheritdoc/>
    public ISocialContextBuilder WithAppliedStatus(StatusEffectId statusId)
    {
        if (!_appliedStatuses.Contains(statusId))
        {
            _appliedStatuses.Add(statusId);
        }
        return this;
    }

    /// <inheritdoc/>
    public ISocialContextBuilder TargetIsSuspicious()
    {
        _socialModifiers.Add(SocialModifier.Suspicious());
        return this;
    }

    /// <inheritdoc/>
    public ISocialContextBuilder TargetIsTrusting()
    {
        _socialModifiers.Add(SocialModifier.Trusting());
        return this;
    }

    /// <inheritdoc/>
    public ISocialContextBuilder WithArgumentAlignment(bool aligned, string? reason = null)
    {
        _socialModifiers.Add(SocialModifier.ArgumentAlignment(aligned, reason));
        return this;
    }

    /// <inheritdoc/>
    public ISocialContextBuilder WithEvidence(string evidenceDescription)
    {
        _socialModifiers.Add(SocialModifier.Evidence(evidenceDescription));
        return this;
    }

    /// <inheritdoc/>
    public ISocialContextBuilder WithStrengthComparison(bool playerStronger)
    {
        _socialModifiers.Add(SocialModifier.StrengthComparison(playerStronger));
        return this;
    }

    /// <inheritdoc/>
    public ISocialContextBuilder TargetHasBackup()
    {
        _socialModifiers.Add(SocialModifier.HasBackup());
        return this;
    }

    /// <inheritdoc/>
    public ISocialContextBuilder WieldingArtifact(string artifactName)
    {
        _socialModifiers.Add(SocialModifier.WieldingArtifact(artifactName));
        return this;
    }

    /// <inheritdoc/>
    public ISocialContextBuilder WithReputation(string status, int diceModifier,
        IReadOnlyList<SocialInteractionType>? appliesToTypes = null)
    {
        _socialModifiers.Add(SocialModifier.Reputation(status, diceModifier, appliesToTypes));
        return this;
    }

    /// <inheritdoc/>
    public ISocialContextBuilder IsUntrustworthy()
    {
        _socialModifiers.Add(SocialModifier.Untrustworthy());
        return this;
    }

    /// <inheritdoc/>
    public SocialContext Build()
    {
        if (string.IsNullOrEmpty(_targetId))
        {
            throw new InvalidOperationException("Target ID must be set before building social context.");
        }

        // Filter modifiers that apply to the current interaction type
        var applicableModifiers = _socialModifiers
            .Where(m => m.AppliesTo(_interactionType))
            .ToList();

        return new SocialContext(
            InteractionType: _interactionType,
            TargetId: _targetId,
            TargetDisposition: _targetDisposition,
            TargetFactionId: _targetFactionId,
            CultureId: _cultureId,
            BaseDc: _baseDc,
            SocialModifiers: applicableModifiers.AsReadOnly(),
            EquipmentModifiers: _equipmentModifiers.AsReadOnly(),
            SituationalModifiers: _situationalModifiers.AsReadOnly(),
            AppliedStatuses: _appliedStatuses.AsReadOnly());
    }

    /// <inheritdoc/>
    public ISocialContextBuilder Reset()
    {
        _interactionType = default;
        _targetId = string.Empty;
        _targetDisposition = DispositionLevel.CreateNeutral();
        _targetFactionId = null;
        _cultureId = null;
        _baseDc = 2;
        _socialModifiers.Clear();
        _equipmentModifiers.Clear();
        _situationalModifiers.Clear();
        _appliedStatuses.Clear();
        return this;
    }
}
```

---

## 12. Configuration

### 12.1 Social Interactions Configuration

**File:** `src/Infrastructure/RuneAndRust.Infrastructure/Configuration/social-interactions.json`

```json
{
  "$schema": "./schemas/social-interactions.schema.json",
  "version": "0.15.3a",
  "description": "Social interaction framework configuration",

  "dispositionThresholds": {
    "ally": { "min": 75, "max": 100, "diceModifier": 3 },
    "friendly": { "min": 50, "max": 74, "diceModifier": 2 },
    "neutralPositive": { "min": 10, "max": 49, "diceModifier": 1 },
    "neutral": { "min": -9, "max": 9, "diceModifier": 0 },
    "unfriendly": { "min": -49, "max": -10, "diceModifier": -1 },
    "hostile": { "min": -100, "max": -50, "diceModifier": -2 }
  },

  "interactionTypes": {
    "persuasion": {
      "id": "persuasion",
      "displayName": "Persuasion",
      "description": "Honest convincing through reason or appeal",
      "attribute": "will",
      "skillId": "rhetoric",
      "isOpposed": false,
      "hasStressCost": false,
      "alwaysCostsReputation": false,
      "isMultiRound": false,
      "fumbleType": "TrustShattered"
    },
    "deception": {
      "id": "deception",
      "displayName": "Deception",
      "description": "Lying or misleading the target",
      "attribute": "will",
      "skillId": "rhetoric",
      "isOpposed": true,
      "opposedAttribute": "wits",
      "hasStressCost": true,
      "stressCosts": {
        "success": 1,
        "failure": 3,
        "fumble": 8
      },
      "alwaysCostsReputation": false,
      "isMultiRound": false,
      "fumbleType": "LieExposed"
    },
    "intimidation": {
      "id": "intimidation",
      "displayName": "Intimidation",
      "description": "Coercion through threat or presence",
      "attribute": "will",
      "alternateAttribute": "might",
      "skillId": "rhetoric",
      "isOpposed": false,
      "hasStressCost": false,
      "alwaysCostsReputation": true,
      "reputationCosts": {
        "criticalSuccess": -3,
        "success": -5,
        "failure": -10
      },
      "isMultiRound": false,
      "fumbleType": "ChallengeAccepted"
    },
    "negotiation": {
      "id": "negotiation",
      "displayName": "Negotiation",
      "description": "Bargaining toward mutual agreement",
      "attribute": "will",
      "skillId": "rhetoric",
      "isOpposed": false,
      "hasStressCost": false,
      "alwaysCostsReputation": false,
      "isMultiRound": true,
      "fumbleType": "NegotiationCollapsed"
    },
    "protocol": {
      "id": "protocol",
      "displayName": "Cultural Protocol",
      "description": "Following cultural formalities",
      "attribute": "will",
      "skillId": "rhetoric",
      "isOpposed": false,
      "hasStressCost": false,
      "alwaysCostsReputation": false,
      "isMultiRound": false,
      "fumbleType": "CulturalOffense"
    },
    "interrogation": {
      "id": "interrogation",
      "displayName": "Interrogation",
      "description": "Extracting information from a subject",
      "attribute": "will",
      "skillId": "rhetoric",
      "isOpposed": true,
      "opposedAttribute": "will",
      "hasStressCost": false,
      "alwaysCostsReputation": false,
      "isMultiRound": true,
      "fumbleType": "SubjectBroken"
    }
  },

  "factionStandingModifiers": {
    "honored": { "threshold": 75, "diceModifier": 1 },
    "friendly": { "threshold": 25, "diceModifier": 0 },
    "neutral": { "threshold": -24, "diceModifier": 0 },
    "unfriendly": { "threshold": -74, "diceModifier": -1 },
    "hostile": { "threshold": -100, "diceModifier": -2 }
  },

  "socialModifiers": {
    "argumentAligned": { "diceModifier": 1, "dcModifier": 0 },
    "argumentContradicts": { "diceModifier": -1, "dcModifier": 0 },
    "evidenceProvided": { "diceModifier": 2, "dcModifier": 0 },
    "targetSuspicious": { "diceModifier": 0, "dcModifier": 4 },
    "targetTrusting": { "diceModifier": 0, "dcModifier": -4 },
    "targetWeaker": { "diceModifier": 1, "dcModifier": 0 },
    "targetStronger": { "diceModifier": -1, "dcModifier": 0 },
    "hasBackup": { "diceModifier": -1, "dcModifier": 0 },
    "wieldingArtifact": { "diceModifier": 1, "dcModifier": 0 },
    "honoredReputation": { "diceModifier": 1, "dcModifier": 0 },
    "fearedReputation": { "diceModifier": 1, "dcModifier": 0 },
    "untrustworthyFlag": { "diceModifier": 0, "dcModifier": 3 }
  },

  "dispositionChangeDefaults": {
    "persuasion": {
      "criticalSuccess": 15,
      "fullSuccess": 10,
      "marginalSuccess": 5,
      "failure": -5,
      "fumble": -30
    },
    "deception": {
      "criticalSuccess": 0,
      "fullSuccess": 0,
      "marginalSuccess": 0,
      "failure": -10,
      "fumble": -50
    },
    "intimidation": {
      "criticalSuccess": -5,
      "fullSuccess": -10,
      "marginalSuccess": -15,
      "failure": -20,
      "fumble": -30
    }
  }
}
```

---

## 13. Commands

### 13.1 No New Commands in v0.15.3a

This version establishes framework infrastructure only. Social interaction commands will be introduced in subsequent versions:

| Version | Commands |
|---------|----------|
| v0.15.3b | `persuade <npc> <argument>` |
| v0.15.3c | `deceive <npc> <lie>`, `bluff <npc>` |
| v0.15.3d | `intimidate <npc>`, `threaten <npc>` |
| v0.15.3e | `negotiate <npc>`, `offer <item>`, `accept`, `reject` |
| v0.15.3f | `interrogate <npc>`, `question <npc>` |
| v0.15.3g | `greet <npc> --protocol <culture>` |

---

## 14. User-Facing Changes

### 14.1 No Direct User-Facing Changes

Version 0.15.3a is an infrastructure version. Users will not see direct changes until the subsystems in v0.15.3b-v0.15.3i are implemented.

### 14.2 Foundation for Future Features

This version enables:
- Disposition-based social check modifiers
- Faction standing integration
- Cultural protocol support
- Stress costs for deception
- Reputation consequences for intimidation
- Fumble consequences with lasting effects

---

## 15. Logging Specifications

### 15.1 Log Categories

| Category | Level | Description |
|----------|-------|-------------|
| `Social.Context` | Debug | Social context construction details |
| `Social.Modifier` | Debug | Individual modifier application |
| `Social.Disposition` | Info | Disposition changes |
| `Social.Result` | Info | Social check outcomes |
| `Social.Fumble` | Warning | Fumble consequences created |

### 15.2 Log Format Examples

```
[Debug] Social.Context: Building context for Persuasion against guard_marcus
[Debug] Social.Modifier: Applied disposition modifier: NeutralPositive (+1d10)
[Debug] Social.Modifier: Applied evidence modifier: Official letter (+2d10)
[Debug] Social.Context: Final context: +3d10, DC 12 (3 modifiers)
[Info] Social.Result: Persuasion vs guard_marcus: FullSuccess (margin 2)
[Info] Social.Disposition: guard_marcus disposition changed: 25 → 35 (+10)
[Warning] Social.Fumble: TrustShattered consequence created for guard_marcus
```

---

## 16. Unit Testing Requirements

### 16.1 Test Categories

| Category | Tests | Description |
|----------|-------|-------------|
| Disposition | 2 | Disposition level calculation and modification |
| Context | 1 | Social context building and modifier aggregation |
| Result | 1 | Social result creation and outcome handling |

### 16.2 Test Specifications

**Test 1: Disposition Level Correctly Calculates Modifiers**
```csharp
[Theory]
[InlineData(100, NpcDisposition.Ally, 3)]
[InlineData(75, NpcDisposition.Ally, 3)]
[InlineData(74, NpcDisposition.Friendly, 2)]
[InlineData(50, NpcDisposition.Friendly, 2)]
[InlineData(49, NpcDisposition.NeutralPositive, 1)]
[InlineData(10, NpcDisposition.NeutralPositive, 1)]
[InlineData(9, NpcDisposition.Neutral, 0)]
[InlineData(0, NpcDisposition.Neutral, 0)]
[InlineData(-9, NpcDisposition.Neutral, 0)]
[InlineData(-10, NpcDisposition.Unfriendly, -1)]
[InlineData(-49, NpcDisposition.Unfriendly, -1)]
[InlineData(-50, NpcDisposition.Hostile, -2)]
[InlineData(-100, NpcDisposition.Hostile, -2)]
public void DispositionLevel_CorrectlyMapsValueToCategory(
    int value, NpcDisposition expectedCategory, int expectedModifier)
{
    var disposition = DispositionLevel.Create(value);

    Assert.Equal(expectedCategory, disposition.Category);
    Assert.Equal(expectedModifier, disposition.DiceModifier);
}
```

**Test 2: Disposition Level Modification Respects Lock**
```csharp
[Fact]
public void DispositionLevel_WhenLocked_DoesNotChange()
{
    var disposition = DispositionLevel.Create(50);
    var locked = disposition.Lock("Trust Shattered");

    var modified = locked.Modify(25);

    Assert.Equal(50, modified.ClampedValue);
    Assert.True(modified.IsLocked);
}
```

**Test 3: SocialContext Aggregates Modifiers Correctly**
```csharp
[Fact]
public void SocialContext_AggregatesModifiersCorrectly()
{
    var context = new SocialContextBuilder()
        .WithInteractionType(SocialInteractionType.Persuasion)
        .WithTarget("guard_marcus", DispositionLevel.Create(30)) // +1d10
        .WithBaseDc(12)
        .WithArgumentAlignment(true) // +1d10
        .WithEvidence("Official letter") // +2d10
        .Build();

    Assert.Equal(4, context.TotalDiceModifier); // 1 + 1 + 2
    Assert.Equal(0, context.TotalDcModifier);
    Assert.Equal(12, context.EffectiveDc);
    Assert.Equal(4, context.ModifierCount); // disposition + alignment + evidence + (faction if added)
}
```

**Test 4: SocialResult Creates Fumble With Consequence**
```csharp
[Fact]
public void SocialResult_CreateFumble_IncludesConsequence()
{
    var disposition = DispositionLevel.Create(50);
    var consequence = new FumbleConsequence(
        Id: Guid.NewGuid().ToString(),
        CharacterId: "player_1",
        FumbleType: FumbleType.TrustShattered,
        TargetId: "merchant_anne",
        SkillId: "rhetoric",
        Description: "Your attempt at persuasion backfired catastrophically.",
        CreatedAt: DateTime.UtcNow);

    var result = SocialResult.CreateFumble(
        interactionType: SocialInteractionType.Persuasion,
        targetId: "merchant_anne",
        details: new OutcomeDetails(SkillOutcome.CriticalFailure, -2, true, false),
        currentDisposition: disposition,
        dispositionChange: -30,
        consequence: consequence,
        stressCost: 5,
        lockedOptions: new[] { "Request discount", "Ask for favor" });

    Assert.True(result.IsFumble);
    Assert.True(result.HasFumbleConsequence);
    Assert.Equal(-30, result.DispositionChange);
    Assert.Equal(20, result.NewDisposition.ClampedValue);
    Assert.Equal(5, result.StressCost);
    Assert.Equal(2, result.LockedOptions.Count);
}
```

---

## 17. Use Cases

### 17.1 Use Case: Build Persuasion Context

**Scenario:** Player attempts to persuade a neutral-positive guard to allow passage.

**Input:**
- Target: guard_marcus (disposition: 30)
- Faction: city_guard (player standing: 40)
- Evidence: Official letter
- Request complexity: Simple (DC 12)

**Process:**
```csharp
var context = new SocialContextBuilder()
    .WithInteractionType(SocialInteractionType.Persuasion)
    .WithTarget("guard_marcus", DispositionLevel.Create(30))
    .WithFaction("city_guard", 40)
    .WithBaseDc(12)
    .WithEvidence("Official letter from the Council")
    .Build();
```

**Expected Output:**
- TotalDiceModifier: +3d10 (disposition +1, evidence +2)
- EffectiveDc: 12
- ModifierCount: 2

### 17.2 Use Case: Handle Hostile Disposition

**Scenario:** Player attempts to persuade a hostile NPC.

**Input:**
- Target: rival_merchant (disposition: -60)
- No evidence or faction bonuses

**Process:**
```csharp
var context = new SocialContextBuilder()
    .WithInteractionType(SocialInteractionType.Persuasion)
    .WithTarget("rival_merchant", DispositionLevel.Create(-60))
    .WithBaseDc(16)
    .Build();
```

**Expected Output:**
- DispositionCategory: Hostile
- TotalDiceModifier: -2d10
- BlocksSomeInteractions: true

### 17.3 Use Case: Deception With Suspicious Target

**Scenario:** Player attempts to deceive a suspicious NPC.

**Input:**
- Target: paranoid_guard (disposition: 0, suspicious: true)
- Lie complexity: Plausible (DC 14)

**Process:**
```csharp
var context = new SocialContextBuilder()
    .WithInteractionType(SocialInteractionType.Deception)
    .WithTarget("paranoid_guard", DispositionLevel.CreateNeutral())
    .WithBaseDc(14)
    .TargetIsSuspicious()
    .Build();
```

**Expected Output:**
- TotalDiceModifier: 0 (neutral disposition)
- TotalDcModifier: +4 (suspicious)
- EffectiveDc: 18
- HasStressCost: true (deception always incurs stress)

---

## 18. Deliverable Checklist

### 18.1 Domain Layer

| Item | Status | File |
|------|--------|------|
| `SocialInteractionType` enum | [ ] | `Domain/Enums/SocialInteractionType.cs` |
| `SocialInteractionTypeExtensions` | [ ] | `Domain/Extensions/SocialInteractionTypeExtensions.cs` |
| `NpcDisposition` enum | [ ] | `Domain/Enums/NpcDisposition.cs` |
| `NpcDispositionExtensions` | [ ] | `Domain/Extensions/NpcDispositionExtensions.cs` |
| `DispositionLevel` value object | [ ] | `Domain/ValueObjects/DispositionLevel.cs` |
| `SocialContext` value object | [ ] | `Domain/ValueObjects/SocialContext.cs` |
| `SocialResult` value object | [ ] | `Domain/ValueObjects/SocialResult.cs` |
| `SocialModifier` value object | [ ] | `Domain/ValueObjects/SocialModifier.cs` |
| `SocialModifierType` enum | [ ] | `Domain/Enums/SocialModifierType.cs` |
| `FumbleType` extension | [ ] | `Domain/Enums/FumbleType.cs` (add social types) |

### 18.2 Application Layer

| Item | Status | File |
|------|--------|------|
| `ISocialContextBuilder` interface | [ ] | `Application/Interfaces/ISocialContextBuilder.cs` |
| `SocialContextBuilder` service | [ ] | `Application/Services/SocialContextBuilder.cs` |

### 18.3 Infrastructure Layer

| Item | Status | File |
|------|--------|------|
| `social-interactions.json` config | [ ] | `Infrastructure/Configuration/social-interactions.json` |

### 18.4 Tests

| Item | Status | File |
|------|--------|------|
| Disposition modifier tests | [ ] | `Tests/Domain/DispositionLevelTests.cs` |
| Social context tests | [ ] | `Tests/Application/SocialContextBuilderTests.cs` |
| Social result tests | [ ] | `Tests/Domain/SocialResultTests.cs` |

---

## 19. Acceptance Criteria

### 19.1 Functional Requirements

- [ ] `SocialInteractionType` enum defines all 6 interaction types
- [ ] `NpcDisposition` enum maps correctly to dice modifiers
- [ ] `DispositionLevel` calculates category from numeric value
- [ ] `DispositionLevel` modification respects lock state
- [ ] `SocialContext` aggregates all modifier sources correctly
- [ ] `SocialContextBuilder` provides fluent construction API
- [ ] `SocialModifier` filters by applicable interaction types
- [ ] `SocialResult` tracks all outcome effects
- [ ] Fumble consequences integrate with existing `FumbleConsequence` entity
- [ ] Configuration file defines all thresholds and defaults

### 19.2 Non-Functional Requirements

- [ ] All value objects are immutable
- [ ] Extension methods are well-documented
- [ ] Configuration follows established JSON patterns
- [ ] ~4 unit tests pass
- [ ] No breaking changes to existing skill check infrastructure

---

## 20. Future Considerations

### 20.1 Version Dependencies

This framework enables the following subsystems:

| Version | Subsystem | Uses From v0.15.3a |
|---------|-----------|-------------------|
| v0.15.3b | Persuasion | `SocialContext`, disposition modifiers, evidence |
| v0.15.3c | Deception | `SocialContext`, stress costs, suspicion DC |
| v0.15.3d | Intimidation | `SocialContext`, strength comparison, reputation cost |
| v0.15.3e | Negotiation | `SocialContext`, multi-round flag |
| v0.15.3f | Interrogation | `SocialContext`, resistance modifiers, methods |
| v0.15.3g | Protocol | `SocialContext.CultureId`, cultural modifiers |
| v0.15.3h | Extended Influence | `DispositionLevel`, accumulation tracking |
| v0.15.3i | Specialization | `SocialModifier`, archetype bonuses |

### 20.2 Potential Extensions

- **Disposition History**: Track disposition changes over time for relationship visualization
- **Social Combat UI**: Visual representation of negotiation/interrogation progress
- **NPC Memory**: NPCs remember past interactions and adjust behavior
- **Group Dynamics**: Social checks affecting multiple NPCs simultaneously

---

## 21. Implementation Notes

### 21.1 Integration with Existing Systems

The social framework builds on established patterns:

1. **SkillContext Pattern**: `SocialContext` follows the same aggregation pattern as `SkillContext` from v0.15.1a
2. **Fumble System**: Social fumbles use the existing `FumbleConsequence` entity from v0.15.1b
3. **Status Effects**: Social modifiers can reference status effects from v0.10.x
4. **Stress Economy**: Deception stress costs integrate with `ISkillStressService` from v0.15.1e

### 21.2 Extension Points

The framework is designed for extensibility:

1. **New Modifier Types**: Add new `SocialModifierType` values for specialized modifiers
2. **Custom Builders**: Extend `SocialContextBuilder` for domain-specific contexts
3. **Outcome Processors**: Inject custom logic for processing `SocialResult` effects
4. **Cultural Definitions**: Add cultures via configuration without code changes

### 21.3 Performance Considerations

- Value objects are immutable and suitable for caching
- Modifier filtering is lazy (applied at Build time)
- Configuration is loaded once and cached

---

## 22. Document Metadata

| Field | Value |
|-------|-------|
| Version | 0.15.3a |
| Status | Draft |
| Author | Claude |
| Created | 2026-01-17 |
| Updated | 2026-01-17 |
| Review Status | Pending |
| Implementation Status | Not Started |

### 22.1 Change Log

| Date | Version | Changes |
|------|---------|---------|
| 2026-01-17 | 0.15.3a | Initial specification created |

### 22.2 Related Documents

| Document | Relationship |
|----------|-------------|
| [v0.15.3-scope-breakdown.md](v0.15.3-scope-breakdown.md) | Parent scope document |
| [v0.15.1a-design-specification.md](v0.15.1a-design-specification.md) | Skill context pattern reference |
| [v0.15.1b-design-specification.md](v0.15.1b-design-specification.md) | Fumble consequence reference |
| [v0.15.x-overview.md](v0.15.x-overview.md) | Version series overview |
