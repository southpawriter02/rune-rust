# v0.13.2c Changelog

## Prerequisite Lines

**Release Date:** 2026-01-20

---

## Overview

Implemented prerequisite connection lines between ability tree nodes, showing satisfied (solid green) and unsatisfied (dashed gray) dependencies.

---

## Added

### Enums
- **`LineState`** in `Enums/LineState.cs` - Prerequisite line states: `Satisfied`, `Unsatisfied`
- **`LineDirection`** in `Enums/LineDirection.cs` - Line segment directions: `Horizontal`, `Vertical`, corners

### DTOs
- **`PrerequisiteLineDto`** - Line metadata (source, target, state, path)
- **`LineSegmentDto`** - Individual line segment (x, y, direction, index)
- **`LinePoint`** - Coordinate pair for path calculations
- **`NodeBounds`** - Screen bounds for node edge calculations

### Configuration
- **`PrerequisiteLinesConfig`** - Line characters, colors, default node dimensions
- **`config/prerequisite-lines.json`** - Default configuration values
- **`config/schemas/prerequisite-lines.schema.json`** - JSON schema validation

### Renderers
- **`LineRenderer`** - Line formatting, color, and path calculation
  - `GetLineCharacter(direction)` - Character for segment direction
  - `GetLineColor(state)` - Color for line state
  - `CalculatePath(start, end)` - Path segment calculation

### UI Components  
- **`PrerequisiteLines`** - Renders connection lines between nodes
  - `RenderConnections(nodes, unlockedNodeIds)` - Render all prerequisite lines
  - `GetLineState(nodeId, unlockedNodeIds)` - Determine line state
  - `DrawLine(source, target, state)` - Draw individual line
  - `ClearLines()` - Clear rendered lines

---

## Test Results

| Component | Tests | Status |
|-----------|-------|--------|
| `LineRendererTests` | 17 | ✅ Passed |
| `PrerequisiteLinesTests` | 17 | ✅ Passed |
| **Total** | **34** | ✅ **All Passed** |

---

## Build Status

```
Build succeeded.
    0 Warning(s)
    0 Error(s)
```

---

## Files Changed

### New Files
| Path | Description |
|------|-------------|
| `Enums/LineState.cs` | Line state enum |
| `Enums/LineDirection.cs` | Line direction enum |
| `DTOs/PrerequisiteLineDtos.cs` | Line-related DTOs |
| `Configuration/PrerequisiteLinesConfig.cs` | Config class |
| `config/prerequisite-lines.json` | Default config |
| `config/schemas/prerequisite-lines.schema.json` | JSON schema |
| `Renderers/LineRenderer.cs` | Line renderer |
| `UI/PrerequisiteLines.cs` | UI component |
| `tests/.../LineRendererTests.cs` | Unit tests |
| `tests/.../PrerequisiteLinesTests.cs` | Unit tests |
