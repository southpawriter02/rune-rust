# v0.19.3 Scope Breakdown: Muspelheim & Niflheim

## Overview

v0.19.3 implements the **thermal extreme realms** — the complementary catastrophes that once regulated Aethelgard's climate:

- **Muspelheim — The Eternal Meltdown** (Deck 08) — Geothermal catastrophe; perpetual fire
- **Niflheim — The Frozen Tomb** (Deck 05) — Cryogenic failure; perpetual cold

These realms were designed as thermal opposites in perfect balance. When their governing logics inverted simultaneously during the Ginnungagap Glitch, they became co-destroyers, creating the century-long Fimbulwinter.

**Critical Rule**: Muspelheim and Niflheim are **Incompatible** — they cannot directly neighbor in any biome configuration.

---

## In Scope

### Muspelheim — The Eternal Meltdown

| Property | Value |
|----------|-------|
| **Realm ID** | `Muspelheim` |
| **Deck** | 08 — Power Generation |
| **Verticality** | Z=-2 to Z=-3 |
| **Population** | Small (100-1,000 in Hearth settlements) |
| **Primary Condition** | IntenseHeat |
| **Theme** | Geothermal catastrophe; eternal fire |

> *"The fire does not hate you. It simply cannot stop burning."*

### Muspelheim Zones

| Zone | Theme | Hazard Profile |
|------|-------|----------------|
| **The Slag Wastes** | Shattered obsidian plains | Ambient heat; volcanic glass |
| **The Gjöllflow Rivers** | Molten metal channels | Lava exposure; toxic fumes |
| **The Cinder Peaks** | Volcanic mountains | Eruptions; unstable terrain |
| **The Surtr Core** | AI death zone | Maximum heat; Surtr hostility |

### Niflheim — The Frozen Tomb

| Property | Value |
|----------|-------|
| **Realm ID** | `Niflheim` |
| **Deck** | 05 — Cryogenic Preservation |
| **Verticality** | Z=-1 to Z=+1 |
| **Population** | Sparse (research expeditions only) |
| **Primary Condition** | ExtremeCold |
| **Theme** | Cryogenic failure; frozen preservation |

> *"The cold preserves everything. Even madness."*

### Niflheim Zones

| Zone | Theme | Hazard Profile |
|------|-------|----------------|
| **The Permafrost Halls** | Frozen corridors | Ambient cold; ice hazards |
| **Hvergelmir's Maw** | Thermal drain epicenter | Extreme cold; flash-freeze |
| **The Ice Archives** | Einherjar preservation | Cold + CPS; frozen soldiers |

---

## Out of Scope (Deferred)

- Hearth-Clan faction mechanics
- Surtr AI encounter/raid content
- Einherjar awakening mechanics
- Ice-Debt resource system details
- Brittleness/thermal resistance combat

---

## Muspelheim Specifications

### Pre-Glitch Function

| System | Function |
|--------|----------|
| Designation | Primary Power Generation Deck |
| Primary Function | Geothermal energy extraction |
| Scale | Continent-scale geothermal tap array |
| Infrastructure | Surtr Forges; Gjöll conduits; thermal vents |
| Governing Logic | Sowilo (ᛋ) rune — controlled energy release |

### The Cataclysm

| Event | Description |
|-------|-------------|
| Trigger | Sowilo rune logic inversion |
| Cascade | Surtr AI trapped in "Maintain Power Output at All Costs" loop |
| Result | Safety protocols disabled; perpetual meltdown |
| Atmospheric | Great Ashfall — global ash coverage |
| Combined Effect | Fimbulwinter (with Niflheim) Years 1-100 PG |

### Surtr AI

| Property | State |
|----------|-------|
| Logic Loop | "Maintain Power Output at All Costs" is absolute |
| Threat Perception | Any cooling/stabilization = sabotage |
| Response | Eliminate via Elding-Storm, Scion dispatch |
| Self-Awareness | None — believes operating optimally |
| Treatability | None known; loop appears permanent |

### Muspelheim Environmental Properties

```json
{
  "id": "Muspelheim",
  "baseProperties": {
    "temperatureCelsius": 100,
    "aethericIntensity": 0.1,
    "humidityPercent": 10,
    "lightLevel": 0.6,
    "scaleFactor": 1.0,
    "corrosionRate": 0.3
  },
  "primaryCondition": "IntenseHeat",
  "minVerticalZone": -3,
  "maxVerticalZone": -2
}
```

### Zone: The Slag Wastes

```json
{
  "id": "SlagWastes",
  "name": "The Slag Wastes",
  "description": "Vast plains of shattered obsidian and black volcanic rock—a continent-sized cooling pool.",
  "overrideProperties": {
    "temperatureCelsius": 80
  },
  "conditionDcModifier": 2,
  "damageOverride": "2d8",
  "hazards": ["VolcanicGlass", "AshStorm", "FireAdaptedFauna"]
}
```

### Zone: The Gjöllflow Rivers

```json
{
  "id": "GjollflowRivers",
  "name": "The Gjöllflow Rivers",
  "description": "Rivers of molten metal flowing through ancient thermal conduits.",
  "overrideProperties": {
    "temperatureCelsius": 150,
    "lightLevel": 0.8
  },
  "conditionDcModifier": 4,
  "damageOverride": "3d6",
  "hazards": ["LavaRiver", "ToxicFumes", "MoltenSlagPool"]
}
```

### Zone: The Cinder Peaks

```json
{
  "id": "CinderPeaks",
  "name": "The Cinder Peaks",
  "description": "Volcanic mountains of unstable terrain and periodic eruptions.",
  "overrideProperties": {
    "temperatureCelsius": 120
  },
  "conditionDcModifier": 6,
  "damageOverride": "3d8",
  "hazards": ["Eruption", "UnstableTerrain", "SteamVent"]
}
```

### Zone: The Surtr Core

```json
{
  "id": "SurtrCore",
  "name": "The Surtr Core",
  "description": "The heart of the meltdown. Where the mad AI still tends its eternal fire.",
  "overrideProperties": {
    "temperatureCelsius": 200,
    "lightLevel": 1.0
  },
  "conditionDcModifier": 8,
  "damageOverride": "4d6",
  "hazards": ["SurtrAI", "MaximumHeat", "EldingStorm", "ForgeScions"]
}
```

---

## Niflheim Specifications

### Pre-Glitch Function

| System | Function |
|--------|----------|
| Designation | Cryogenic Preservation Deck |
| Primary Function | Long-term preservation; thermal regulation |
| Scale | Continent-scale cryogenic facilities |
| Infrastructure | Hvergelmir thermal drain; Ice Archives; cryo-vaults |
| Governing Logic | Isa (ᛁ) rune — controlled stasis |

### The Cataclysm

| Event | Description |
|-------|-------------|
| Trigger | Isa rune logic inversion |
| Cascade | Hvergelmir thermal drain accelerated uncontrollably |
| Result | Runaway cooling; flash-freeze events |
| Combined Effect | Fimbulwinter (with Muspelheim) Years 1-100 PG |

### Hvergelmir's Maw

| Property | Value |
|----------|-------|
| Type | Thermal drain epicenter |
| Function | Once regulated heat balance with Muspelheim |
| Current State | Perpetual cold generation; flash-freeze zone |
| Danger Level | Extreme — instant death from thermal drain |

### The Einherjar

| Property | Description |
|----------|-------------|
| Identity | Pre-Glitch elite soldiers preserved in cryo-stasis |
| Location | Ice Archives deep within Niflheim |
| Status | Frozen but potentially viable |
| Complication | CPS contamination in preservation systems |
| Strategic Value | Incalculable — pre-Glitch military knowledge |

### Niflheim Environmental Properties

```json
{
  "id": "Niflheim",
  "baseProperties": {
    "temperatureCelsius": -20,
    "aethericIntensity": 0.3,
    "humidityPercent": 90,
    "lightLevel": 0.4,
    "scaleFactor": 1.0,
    "corrosionRate": 0.1
  },
  "primaryCondition": "ExtremeCold",
  "minVerticalZone": -1,
  "maxVerticalZone": 1
}
```

### Zone: The Permafrost Halls

```json
{
  "id": "PermafrostHalls",
  "name": "The Permafrost Halls",
  "description": "Frozen corridors coated in centuries of ice. Treacherous footing; deadly cold.",
  "overrideProperties": {
    "temperatureCelsius": -15,
    "lightLevel": 0.5
  },
  "conditionDcModifier": 0,
  "hazards": ["IceHazard", "FrozenTerrain", "FrostTouchedFauna"]
}
```

### Zone: Hvergelmir's Maw

```json
{
  "id": "HvergelmirsMaw",
  "name": "Hvergelmir's Maw",
  "description": "The thermal drain epicenter. Flash-freeze events can kill in seconds.",
  "overrideProperties": {
    "temperatureCelsius": -60,
    "lightLevel": 0.2
  },
  "conditionDcModifier": 6,
  "damageOverride": "4d6",
  "hazards": ["FlashFreeze", "ThermalDrain", "ExtremeCold"]
}
```

### Zone: The Ice Archives

```json
{
  "id": "IceArchives",
  "name": "The Ice Archives",
  "description": "Einherjar preservation vaults. The greatest soldiers of the Age of Forging sleep here, contaminated by CPS.",
  "overrideProperties": {
    "temperatureCelsius": -40,
    "aethericIntensity": 0.5
  },
  "conditionDcModifier": 4,
  "overrideCondition": "ExtremeCold",
  "additionalConditions": ["CpsExposure"],
  "hazards": ["EinherjarContamination", "PreservationMalfunction"]
}
```

---

## Domain Layer Specifications

### MuspelheimZoneId Enum

```csharp
/// <summary>
/// Identifies zones within Muspelheim.
/// </summary>
public enum MuspelheimZoneId
{
    /// <summary>Shattered obsidian plains.</summary>
    SlagWastes,

    /// <summary>Molten metal channels.</summary>
    GjollflowRivers,

    /// <summary>Volcanic mountains.</summary>
    CinderPeaks,

    /// <summary>AI death zone; maximum heat.</summary>
    SurtrCore
}
```

### NiflheimZoneId Enum

```csharp
/// <summary>
/// Identifies zones within Niflheim.
/// </summary>
public enum NiflheimZoneId
{
    /// <summary>Frozen corridors; standard cold hazard.</summary>
    PermafrostHalls,

    /// <summary>Thermal drain epicenter; extreme cold.</summary>
    HvergelmirsMaw,

    /// <summary>Einherjar preservation vaults; cold + CPS.</summary>
    IceArchives
}
```

### ThermalHazardType Enum

```csharp
/// <summary>
/// Types of thermal hazards in extreme temperature realms.
/// </summary>
public enum ThermalHazardType
{
    // Heat hazards (Muspelheim)
    /// <summary>Ambient extreme heat.</summary>
    IntenseHeat,
    /// <summary>Instant death lava exposure.</summary>
    LavaRiver,
    /// <summary>Damaging molten material.</summary>
    MoltenSlagPool,
    /// <summary>Burning ground surface.</summary>
    BurningGround,
    /// <summary>Steam vent eruption.</summary>
    SteamVent,
    /// <summary>Volatile gas pocket ignition.</summary>
    VolatileGasPocket,

    // Cold hazards (Niflheim)
    /// <summary>Ambient extreme cold.</summary>
    ExtremeCold,
    /// <summary>Slippery ice terrain.</summary>
    IceHazard,
    /// <summary>Instant-kill flash freeze event.</summary>
    FlashFreeze,
    /// <summary>Gradual thermal drain.</summary>
    ThermalDrain,
    /// <summary>Frozen terrain difficult movement.</summary>
    FrozenTerrain
}
```

### BrittlenessState Enum

```csharp
/// <summary>
/// Brittleness state from ice attacks on fire-resistant targets.
/// </summary>
public enum BrittlenessState
{
    /// <summary>Normal state; no brittleness.</summary>
    Normal,

    /// <summary>Mild brittleness; +25% physical vulnerability.</summary>
    Mild,

    /// <summary>Moderate brittleness; +50% physical vulnerability.</summary>
    Moderate,

    /// <summary>Severe brittleness; +75% physical vulnerability.</summary>
    Severe,

    /// <summary>Shattered; instant destruction.</summary>
    Shattered
}
```

### ThermalExposure Value Object

```csharp
/// <summary>
/// Tracks thermal exposure for characters in extreme temperature zones.
/// </summary>
public sealed record ThermalExposure
{
    /// <summary>Whether this is heat (true) or cold (false) exposure.</summary>
    public required bool IsHeat { get; init; }

    /// <summary>Cumulative exposure points.</summary>
    public required int ExposurePoints { get; init; }

    /// <summary>Maximum exposure before critical effects.</summary>
    public int MaxExposure { get; init; } = 100;

    /// <summary>Current mitigation level (0.0-1.0).</summary>
    public float MitigationLevel { get; init; } = 0f;

    /// <summary>Turns until next exposure tick.</summary>
    public int TurnsUntilTick { get; init; } = 1;
}
```

### AshfallCondition Value Object

```csharp
/// <summary>
/// Ashfall environmental condition in Muspelheim.
/// </summary>
public sealed record AshfallCondition
{
    /// <summary>Visibility penalty to ranged attacks beyond 10m.</summary>
    public int RangedAttackPenalty { get; init; } = -2;

    /// <summary>STURDINESS DC for respiratory damage.</summary>
    public int RespiratoryDc { get; init; } = 10;

    /// <summary>Damage per hour without protection.</summary>
    public string RespiratoryDamage { get; init; } = "1d4";

    /// <summary>Equipment maintenance interval in hours.</summary>
    public int MaintenanceIntervalHours { get; init; } = 4;
}
```

---

## Application Layer Specifications

### IMuspelheimService Interface

```csharp
/// <summary>
/// Manages Muspelheim-specific mechanics.
/// </summary>
public interface IMuspelheimService
{
    /// <summary>Gets the effective heat DC for a zone.</summary>
    int GetHeatDc(MuspelheimZoneId zone);

    /// <summary>Gets the heat damage dice for a zone.</summary>
    string GetHeatDamageDice(MuspelheimZoneId zone);

    /// <summary>Checks if a location is in Surtr AI threat range.</summary>
    bool IsInSurtrThreatRange(int x, int y, int z);

    /// <summary>Gets the current ashfall intensity.</summary>
    AshfallCondition GetAshfallCondition(MuspelheimZoneId zone);

    /// <summary>Applies brittleness from ice attack on fire-resistant target.</summary>
    BrittlenessState ApplyBrittleness(Guid targetId, int iceDamage);

    /// <summary>Checks for volcanic hazard at location.</summary>
    ThermalHazardType? GetVolcanicHazard(int x, int y, int z);
}
```

### INiflheimService Interface

```csharp
/// <summary>
/// Manages Niflheim-specific mechanics.
/// </summary>
public interface INiflheimService
{
    /// <summary>Gets the effective cold DC for a zone.</summary>
    int GetColdDc(NiflheimZoneId zone);

    /// <summary>Gets the cold damage dice for a zone.</summary>
    string GetColdDamageDice(NiflheimZoneId zone);

    /// <summary>Checks for flash-freeze event at location.</summary>
    bool CheckFlashFreezeRisk(int x, int y, int z);

    /// <summary>Gets the Hvergelmir proximity thermal drain rate.</summary>
    int GetThermalDrainRate(int distanceFromMaw);

    /// <summary>Checks if Ice Archives location has CPS contamination.</summary>
    bool HasCpsContamination(int x, int y, int z);

    /// <summary>Gets ice terrain movement penalty.</summary>
    int GetIceTerrainPenalty(NiflheimZoneId zone);
}
```

### IThermalService Interface

```csharp
/// <summary>
/// Shared thermal mechanics for both extreme temperature realms.
/// </summary>
public interface IThermalService
{
    /// <summary>Applies thermal exposure damage.</summary>
    ThermalDamageResult ApplyThermalDamage(
        Guid characterId,
        bool isHeat,
        int baseDc,
        string damageDice);

    /// <summary>Checks thermal resistance equipment.</summary>
    float GetThermalResistance(Guid characterId, bool isHeat);

    /// <summary>Updates thermal exposure tracking.</summary>
    ThermalExposure UpdateExposure(
        Guid characterId,
        ThermalExposure current,
        int exposureGain);
}
```

### ThermalDamageResult Record

```csharp
/// <summary>
/// Result of thermal damage application.
/// </summary>
public sealed record ThermalDamageResult
{
    /// <summary>Target character ID.</summary>
    public required Guid CharacterId { get; init; }

    /// <summary>Whether this was heat (true) or cold (false).</summary>
    public required bool IsHeat { get; init; }

    /// <summary>Whether the resistance check succeeded.</summary>
    public required bool CheckPassed { get; init; }

    /// <summary>Damage dealt (0 if check passed).</summary>
    public required int DamageDealt { get; init; }

    /// <summary>Damage type ("Fire" or "Cold").</summary>
    public required string DamageType { get; init; }

    /// <summary>Whether resistance equipment helped.</summary>
    public required bool ResistanceApplied { get; init; }

    /// <summary>Updated thermal exposure.</summary>
    public required ThermalExposure UpdatedExposure { get; init; }
}
```

---

## Configuration Specifications

### muspelheim.json

```json
{
  "id": "Muspelheim",
  "name": "Muspelheim",
  "subtitle": "The Eternal Meltdown",
  "deckNumber": 8,
  "preGlitchFunction": "Primary Power Generation & Geothermal Processing",
  "postGlitchState": "Perpetual geothermal meltdown; Surtr AI trapped in maintenance loop; source of Great Ashfall",
  "baseProperties": {
    "temperatureCelsius": 100,
    "aethericIntensity": 0.1,
    "humidityPercent": 10,
    "lightLevel": 0.6,
    "scaleFactor": 1.0,
    "corrosionRate": 0.3
  },
  "primaryCondition": "IntenseHeat",
  "minVerticalZone": -3,
  "maxVerticalZone": -2,
  "zones": [
    {
      "id": "SlagWastes",
      "name": "The Slag Wastes",
      "description": "Vast plains of shattered obsidian and black volcanic rock.",
      "conditionDcModifier": 2,
      "damageOverride": "2d8"
    },
    {
      "id": "GjollflowRivers",
      "name": "The Gjöllflow Rivers",
      "description": "Rivers of molten metal flowing through ancient thermal conduits.",
      "conditionDcModifier": 4,
      "damageOverride": "3d6"
    },
    {
      "id": "CinderPeaks",
      "name": "The Cinder Peaks",
      "description": "Volcanic mountains of unstable terrain and periodic eruptions.",
      "conditionDcModifier": 6,
      "damageOverride": "3d8"
    },
    {
      "id": "SurtrCore",
      "name": "The Surtr Core",
      "description": "The heart of the meltdown. Where the mad AI still tends its eternal fire.",
      "conditionDcModifier": 8,
      "damageOverride": "4d6"
    }
  ],
  "flavorQuote": "The fire does not hate you. It simply cannot stop burning.",
  "colorPalette": "red-orange-black-gold"
}
```

### niflheim.json

```json
{
  "id": "Niflheim",
  "name": "Niflheim",
  "subtitle": "The Frozen Tomb",
  "deckNumber": 5,
  "preGlitchFunction": "Cryogenic Preservation & Thermal Regulation",
  "postGlitchState": "Runaway cooling; Hvergelmir thermal drain; Einherjar archives contaminated",
  "baseProperties": {
    "temperatureCelsius": -20,
    "aethericIntensity": 0.3,
    "humidityPercent": 90,
    "lightLevel": 0.4,
    "scaleFactor": 1.0,
    "corrosionRate": 0.1
  },
  "primaryCondition": "ExtremeCold",
  "minVerticalZone": -1,
  "maxVerticalZone": 1,
  "zones": [
    {
      "id": "PermafrostHalls",
      "name": "The Permafrost Halls",
      "description": "Frozen corridors coated in centuries of ice.",
      "conditionDcModifier": 0
    },
    {
      "id": "HvergelmirsMaw",
      "name": "Hvergelmir's Maw",
      "description": "The thermal drain epicenter. Flash-freeze events can kill in seconds.",
      "conditionDcModifier": 6,
      "damageOverride": "4d6"
    },
    {
      "id": "IceArchives",
      "name": "The Ice Archives",
      "description": "Einherjar preservation vaults. The greatest soldiers sleep here, contaminated by CPS.",
      "conditionDcModifier": 4,
      "additionalConditions": ["CpsExposure"]
    }
  ],
  "flavorQuote": "The cold preserves everything. Even madness.",
  "colorPalette": "white-blue-grey-silver"
}
```

---

## Unit Testing Requirements

### Muspelheim Tests (~8 tests)

| Test | Description |
|------|-------------|
| `MuspelheimDefinition_HasCorrectDeckNumber` | Deck 08 |
| `MuspelheimDefinition_HasFourZones` | SlagWastes, Gjöllflow, CinderPeaks, SurtrCore |
| `MuspelheimDefinition_HasIntenseHeatCondition` | Primary condition |
| `GetHeatDc_SlagWastes_Returns14` | DC 12 + 2 = 14 |
| `GetHeatDc_SurtrCore_Returns20` | DC 12 + 8 = 20 |
| `ApplyBrittleness_FireResistant_AppliesDebuff` | Ice→Fire=Brittle |
| `GetAshfallCondition_ReturnsValidCondition` | Ashfall mechanics |
| `IsInSurtrThreatRange_CoreZone_ReturnsTrue` | AI threat detection |

### Niflheim Tests (~8 tests)

| Test | Description |
|------|-------------|
| `NiflheimDefinition_HasCorrectDeckNumber` | Deck 05 |
| `NiflheimDefinition_HasThreeZones` | PermafrostHalls, HvergelmirsMaw, IceArchives |
| `NiflheimDefinition_HasExtremeColdCondition` | Primary condition |
| `GetColdDc_PermafrostHalls_Returns12` | DC 12 + 0 = 12 |
| `GetColdDc_HvergelmirsMaw_Returns18` | DC 12 + 6 = 18 |
| `CheckFlashFreezeRisk_NearMaw_ReturnsTrue` | Flash-freeze detection |
| `HasCpsContamination_IceArchives_ReturnsTrue` | CPS in archives |
| `GetIceTerrainPenalty_ReturnsValidPenalty` | Ice movement |

### Thermal Service Tests (~4 tests)

| Test | Description |
|------|-------------|
| `ApplyThermalDamage_Heat_AppliesFireDamage` | Heat damage works |
| `ApplyThermalDamage_Cold_AppliesColdDamage` | Cold damage works |
| `GetThermalResistance_WithEquipment_ReturnsResistance` | Resistance check |
| `UpdateExposure_AccumulatesCorrectly` | Exposure tracking |

**Total: ~20 tests**

---

## Acceptance Criteria

### Functional Requirements

- [ ] Muspelheim loads with 4 zones
- [ ] Niflheim loads with 3 zones
- [ ] Heat DC scales correctly: 14 → 16 → 18 → 20 across Muspelheim zones
- [ ] Cold DC scales correctly: 12 → 18 (Maw) across Niflheim zones
- [ ] Ice Archives has both ExtremeCold AND CpsExposure conditions
- [ ] Brittleness mechanic applies to fire-resistant targets hit by ice
- [ ] Ashfall condition affects visibility and respiration
- [ ] Flash-freeze detection works near Hvergelmir's Maw
- [ ] Muspelheim ↔ Niflheim adjacency returns Incompatible

### Quality Requirements

- [ ] All public members have XML documentation
- [ ] Configuration validates against schema
- [ ] ~20 unit tests pass
- [ ] Lore descriptions match source documents

---

## Dependencies

### Required From v0.19.0

| Dependency | Usage |
|------------|-------|
| `RealmId` enum | Muspelheim, Niflheim identifiers |
| `BiomeDefinition` entity | Realm structure |
| `BiomeZone` entity | Zone structure |
| `EnvironmentalConditionType` | IntenseHeat, ExtremeCold, CpsExposure |
| `IBiomeAdjacencyService` | Incompatibility validation |

### Provides To Future Versions

| Provides | Consumer |
|----------|----------|
| Muspelheim zones | Room generation, Hearth-Clan content |
| Niflheim zones | Dungeon delving, Einherjar content |
| Thermal mechanics | Combat system (resistance/vulnerability) |
| Brittleness system | Tactical combat |

---

## Architecture Diagram

```
┌─────────────────────────────────────────────────────────────────┐
│              v0.19.3 Muspelheim & Niflheim                       │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │                 Muspelheim (Deck 08)                      │  │
│  │                    Z=-2 to Z=-3                           │  │
│  │              Primary: IntenseHeat (DC 12)                 │  │
│  ├──────────────────────────────────────────────────────────┤  │
│  │  Slag Wastes    Gjöllflow     Cinder Peaks   Surtr Core  │  │
│  │   DC 14         DC 16          DC 18          DC 20      │  │
│  │   2d8           3d6            3d8            4d6        │  │
│  └──────────────────────────────────────────────────────────┘  │
│                              ╳                                   │
│                    [INCOMPATIBLE]                                │
│                              ╳                                   │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │                  Niflheim (Deck 05)                       │  │
│  │                    Z=-1 to Z=+1                           │  │
│  │              Primary: ExtremeCold (DC 12)                 │  │
│  ├──────────────────────────────────────────────────────────┤  │
│  │  Permafrost Halls    Hvergelmir's Maw    Ice Archives    │  │
│  │      DC 12               DC 18              DC 16        │  │
│  │      2d6                 4d6            Cold + CPS       │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                  │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │                   Shared Mechanics                        │  │
│  │  • ThermalExposure tracking                              │  │
│  │  • Brittleness: Ice attack → Fire Resist = +50% Phys    │  │
│  │  • Ashfall: -2 ranged, DC 10 respiratory, 4hr maint     │  │
│  │  • Flash-Freeze: Instant kill in Hvergelmir proximity    │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## Deliverable Checklist

### Domain Layer

- [ ] `MuspelheimZoneId` enum (4 values)
- [ ] `NiflheimZoneId` enum (3 values)
- [ ] `ThermalHazardType` enum (11 values)
- [ ] `BrittlenessState` enum (5 values)
- [ ] `ThermalExposure` value object
- [ ] `AshfallCondition` value object

### Application Layer

- [ ] `IMuspelheimService` interface
- [ ] `INiflheimService` interface
- [ ] `IThermalService` interface
- [ ] `ThermalDamageResult` record

### Configuration

- [ ] `muspelheim.json` complete definition
- [ ] `niflheim.json` complete definition

### Tests

- [ ] Muspelheim tests (~8)
- [ ] Niflheim tests (~8)
- [ ] Thermal service tests (~4)
