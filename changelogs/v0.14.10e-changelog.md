# v0.14.10e Changelog - Glossary Schema

**Release Date:** 2026-01-22
**Version:** 0.14.10e
**Parent:** v0.14.10 (Game Systems Configuration Schemas)
**Prerequisites:** None (Glossary Schema is independent)

---

## Overview

This version introduces the **Glossary Schema** (`glossary.schema.json`), a comprehensive JSON Schema Draft-07 specification for validating game terminology, tooltips, and help text definitions. The schema enables definition of game terms with their full and short definitions, cross-references, category organization, display rules, and abbreviation mappings.

The Glossary Schema supports:
- **Term Definitions**: Full and tooltip-length definitions for game terms
- **8 Categories**: Combat, Magic, Lore, Items, Interface, Mechanics, Status Effects, Attributes
- **4 Relationship Types**: SeeAlso, Contrast, Prerequisite, Related
- **5 Display Contexts**: Tooltip, Help, Codex, Combat, Inventory
- **Cross-References**: Typed relationships between related terms
- **Abbreviation Mapping**: Short forms like "HP", "ATK", "Crit"
- **Localization Ready**: Keys for future i18n support

---

## Added

### Schema File
- `config/schemas/glossary.schema.json` - JSON Schema Draft-07 with 7 definitions

### Schema Definitions

| Definition | Description |
|------------|-------------|
| **TermCategory** | Category for organizing glossary terms |
| **GlossaryTerm** | Complete term with definition, cross-references, and metadata |
| **CrossReference** | Typed relationship to another term |
| **CrossReferenceType** | 4 relationship types: SeeAlso, Contrast, Prerequisite, Related |
| **DisplayContext** | 5 display contexts for context-sensitive formatting |
| **DisplayRule** | Context-specific display configuration |

### Standard Categories (8 Categories)

| Category ID | Name | Color | Description |
|-------------|------|-------|-------------|
| `combat` | Combat | #CC3333 | Battle mechanics and combat terms |
| `magic` | Magic | #6633CC | Galdr, runes, and magical systems |
| `lore` | Lore | #996633 | World terminology and history |
| `items` | Items | #339933 | Equipment, artifacts, consumables |
| `ui` | Interface | #336699 | UI elements and controls |
| `mechanics` | Mechanics | #666666 | Game systems and rules |
| `status` | Status Effects | #CC6633 | Conditions, buffs, debuffs |
| `attributes` | Attributes | #3399CC | Character statistics |

### Cross-Reference Types (4 Types)

| Relationship | Description | UI Presentation |
|--------------|-------------|-----------------|
| `SeeAlso` | General related content | "See also: X, Y" |
| `Contrast` | Opposite or contrasting concept | "Compare with: X" |
| `Prerequisite` | Should understand first | "Requires knowledge of: X" |
| `Related` | Same topic or system | "Related terms: X, Y" |

### Display Contexts (5 Contexts)

| Context | Description | Typical Settings |
|---------|-------------|------------------|
| `Tooltip` | Hover/popup display | shortDefinition, maxLength: 100-150 |
| `Help` | Help system/manual | Full definition, examples, cross-refs |
| `Codex` | Journal/codex entries | Full content, cross-references |
| `Combat` | Battle UI | Abbreviation, maxLength: 50-80 |
| `Inventory` | Item/equipment screens | Short definition, no examples |

### Configuration File
- `config/glossary.json` - 20 terms across 8 categories with:
  - Combat terms (5): attack, defense, damage, critical-hit, evasion
  - Magic terms (2): galdr, rune
  - Lore terms (2): runic-blight, the-glitch
  - Mechanics terms (4): stress, health, rest, resolve
  - Attributes terms (3): might, finesse, will
  - Status Effects terms (2): burning, frozen
  - Items terms (1): rarity
  - Default display rules for all 5 contexts
  - Cross-references between related terms

### Unit Tests
- `tests/RuneAndRust.Infrastructure.IntegrationTests/Schemas/GlossarySchemaTests.cs`
- 49 unit tests covering:
  - GLO-001: Schema loads and contains 7 definitions
  - GLO-002: Term identity validation (ID pattern, term, definition)
  - GLO-003: Category validation with color patterns
  - GLO-004: Cross-reference validation (4 relationship types)
  - GLO-005: Display rule validation (5 contexts)
  - GLO-006: Abbreviation and alias handling

---

## Technical Details

### Schema Patterns

| Pattern | Convention | Example |
|---------|------------|---------|
| Term ID | `[a-z][a-z0-9-]*` | `critical-hit`, `runic-blight` |
| Category ID | `[a-z][a-z0-9-]*` | `combat`, `magic` |
| Color | `#[0-9A-Fa-f]{6}` | `#CC3333`, `#6633CC` |
| Localization Key | `[a-z][a-z0-9_.]*` | `glossary.combat.critical_hit` |

### Schema Constraints

| Field | Constraint |
|-------|------------|
| `term.id` | Pattern: `^[a-z][a-z0-9-]*$` |
| `term.term` | minLength: 1, maxLength: 100 |
| `term.definition` | minLength: 1 |
| `term.shortDefinition` | maxLength: 150 |
| `term.abbreviation` | maxLength: 10 |
| `displayRule.maxLength` | minimum: 10 |
| `terms` | minItems: 1 |
| `crossReference.note` | maxLength: 100 |

### GlossaryTerm Properties

| Property | Type | Required | Description |
|----------|------|----------|-------------|
| `id` | string | Yes | Unique identifier (kebab-case) |
| `term` | string | Yes | Display term (1-100 chars) |
| `definition` | string | Yes | Full explanation |
| `shortDefinition` | string | No | Tooltip version (max 150 chars) |
| `categoryId` | string | Yes | Parent category reference |
| `aliases` | array | No | Alternative terms |
| `abbreviation` | string | No | Short form (max 10 chars) |
| `crossReferences` | array | No | Related term references |
| `displayRules` | array | No | Context display configuration |
| `examples` | array | No | Usage examples |
| `localizationKey` | string | No | i18n lookup key |
| `sortOrder` | integer | No | Category sort order |
| `tags` | array | No | Searchable tags |
| `isGameMechanics` | boolean | No | Mechanics vs lore |
| `firstAppearance` | string | No | Where player first sees term |

---

## Test Results

```
Test summary: total: 49, failed: 0, succeeded: 49, skipped: 0
Build succeeded with 0 errors
```

---

## Files Changed

| File | Change Type | Description |
|------|-------------|-------------|
| `config/schemas/glossary.schema.json` | Added | Glossary schema with 7 definitions |
| `config/glossary.json` | Added | 20 terms, 8 categories, 5 default rules |
| `tests/.../Schemas/GlossarySchemaTests.cs` | Added | 49 unit tests |
| `docs/design/v0.14.x/v0.14.10-scope-breakdown.md` | To Update | Mark v0.14.10e criteria |
| `docs/design/v0.14.x/v0.14.x-overview.md` | To Update | Mark glossary schema complete |
| `changelogs/v0.14.10e-changelog.md` | Added | This changelog |

---

## Integration Points

The Glossary Schema provides configuration for future runtime systems:

```
Glossary Schema (v0.14.10e)
├── Provides To v0.15.x:
│   ├── Tooltip System - Hover display with term definitions
│   ├── Help System - Term lookup and search
│   ├── Codex System - Journal term linking (v0.14.10c)
│   └── Combat UI - Status effect and stat displays
```

---

## Next Steps

- **v0.14.10f** - Stances Schema (combat stances and modifiers)

---

*End of v0.14.10e Changelog*
