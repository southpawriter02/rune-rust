# v0.14.0a Design Specification: Race Schema

**Version:** 0.14.0a
**Parent:** v0.14.0 (Character Configuration Schemas)
**Prerequisites:** v0.13.5 Complete (UI Standardization)
**Status:** Design Complete

---

## Table of Contents

1. [Executive Summary](#1-executive-summary)
2. [Feature Overview](#2-feature-overview)
3. [Architecture Diagrams](#3-architecture-diagrams)
4. [Race Schema Definition](#4-race-schema-definition)
   - 4.1 [Schema Structure](#41-schema-structure)
   - 4.2 [RaceDefinition Object](#42-racedefinition-object)
   - 4.3 [AttributeModifiers Object](#43-attributemodifiers-object)
5. [Validation Rules](#5-validation-rules)
   - 5.1 [ID Pattern Validation](#51-id-pattern-validation)
   - 5.2 [Attribute Modifier Range](#52-attribute-modifier-range)
   - 5.3 [Required Fields](#53-required-fields)
6. [Configuration Schema](#6-configuration-schema)
7. [Configuration File Updates](#7-configuration-file-updates)
8. [Data Model Changes](#8-data-model-changes)
9. [Logging Specifications](#9-logging-specifications)
10. [Unit Testing Requirements](#10-unit-testing-requirements)
11. [Use Cases](#11-use-cases)
12. [Deliverable Checklist](#12-deliverable-checklist)
13. [Acceptance Criteria](#13-acceptance-criteria)
14. [Dependencies](#14-dependencies)
15. [Future Considerations](#15-future-considerations)

---

## 1. Executive Summary

Version 0.14.0a introduces the Race Schema (`races.schema.json`), a comprehensive JSON Schema Draft-07 specification that validates race configuration files. This schema establishes the validation foundation for all character configuration schemas in the v0.14.0 series.

The Race Schema enables IDE autocomplete and validation for race definitions, ensuring attribute modifiers remain within the -3 to +3 range, IDs follow kebab-case conventions, and all required fields are present. This supports modding scenarios where users create custom races while maintaining data integrity.

### Key Deliverables

| Category | Items |
|----------|-------|
| **Schema Files** | `races.schema.json` |
| **Schema Definitions** | `RaceDefinition`, `AttributeModifiers` |
| **Configuration Updates** | Update `races.json` schema reference |
| **Tests** | ~5 new unit tests |

### Architectural Significance

This version establishes the **JSON Schema validation pattern** that will be used throughout the v0.14.x series:
- Draft-07 schema format
- Definitions section for reusable types
- Pattern validation for IDs (`^[a-z][a-z0-9-]*$`)
- Range validation for numeric fields
- Optional fields with sensible defaults

---

## 2. Feature Overview

```
v0.14.0a Race Schema Features
├── races.schema.json
│   ├── Root Object Properties
│   │   ├── $schema (string, optional)
│   │   ├── version (string, optional)
│   │   └── races (array of RaceDefinition, required)
│   └── Definitions
│       ├── RaceDefinition
│       │   ├── id (string, kebab-case pattern)
│       │   ├── name (string, minLength: 1)
│       │   ├── description (string)
│       │   ├── lore (string, optional)
│       │   ├── attributeModifiers (AttributeModifiers)
│       │   ├── traitId (string, kebab-case)
│       │   ├── traitName (string)
│       │   ├── traitDescription (string)
│       │   ├── startingItems (array of string, optional)
│       │   ├── isPlayable (boolean, default: true)
│       │   └── sortOrder (integer, minimum: 0)
│       └── AttributeModifiers
│           ├── might (integer, -3 to +3)
│           ├── fortitude (integer, -3 to +3)
│           ├── will (integer, -3 to +3)
│           ├── wits (integer, -3 to +3)
│           └── finesse (integer, -3 to +3)
├── Validation Rules
│   ├── ID Pattern Enforcement
│   ├── Attribute Range Validation
│   └── Required Field Enforcement
└── Configuration Updates
    └── races.json $schema reference update
```

---

## 3. Architecture Diagrams

### 3.1 Schema Validation Flow

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         SCHEMA VALIDATION FLOW                               │
└─────────────────────────────────────────────────────────────────────────────┘

    User edits races.json
           │
           ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                          IDE/EDITOR                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│  1. Reads $schema property from races.json                                   │
│  2. Loads config/schemas/races.schema.json                                   │
│  3. Validates content against schema                                         │
└─────────────────────────────────────────────────────────────────────────────┘
           │
           ├─── Valid ───▶ Green checkmark, autocomplete works
           │
           └─── Invalid ─▶ Error underlines with messages:
                           • "id must match pattern ^[a-z][a-z0-9-]*$"
                           • "attributeModifiers.might must be >= -3"
                           • "missing required property 'name'"
```

### 3.2 Schema Structure Diagram

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         races.schema.json                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│  $schema: "http://json-schema.org/draft-07/schema#"                         │
│  title: "Race Configuration"                                                 │
│  type: object                                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│  properties:                                                                 │
│  ┌─────────────────┬───────────────────────────────────────────────────┐    │
│  │ $schema         │ type: string (optional)                           │    │
│  ├─────────────────┼───────────────────────────────────────────────────┤    │
│  │ version         │ type: string (optional)                           │    │
│  ├─────────────────┼───────────────────────────────────────────────────┤    │
│  │ races           │ type: array, items: $ref RaceDefinition           │    │
│  └─────────────────┴───────────────────────────────────────────────────┘    │
├─────────────────────────────────────────────────────────────────────────────┤
│  definitions:                                                                │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ RaceDefinition                                                       │    │
│  │ ┌─────────────────────┬─────────────────────────────────────────┐   │    │
│  │ │ id                  │ string, pattern: ^[a-z][a-z0-9-]*$      │   │    │
│  │ │ name                │ string, minLength: 1                    │   │    │
│  │ │ description         │ string                                  │   │    │
│  │ │ lore                │ string (optional)                       │   │    │
│  │ │ attributeModifiers  │ $ref AttributeModifiers                 │   │    │
│  │ │ traitId             │ string, pattern: ^[a-z][a-z0-9_]*$      │   │    │
│  │ │ traitName           │ string                                  │   │    │
│  │ │ traitDescription    │ string                                  │   │    │
│  │ │ startingItems       │ array of string (optional)              │   │    │
│  │ │ isPlayable          │ boolean, default: true                  │   │    │
│  │ │ sortOrder           │ integer, minimum: 0                     │   │    │
│  │ └─────────────────────┴─────────────────────────────────────────┘   │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ AttributeModifiers                                                   │    │
│  │ ┌─────────────────────┬─────────────────────────────────────────┐   │    │
│  │ │ might               │ integer, minimum: -3, maximum: 3        │   │    │
│  │ │ fortitude           │ integer, minimum: -3, maximum: 3        │   │    │
│  │ │ will                │ integer, minimum: -3, maximum: 3        │   │    │
│  │ │ wits                │ integer, minimum: -3, maximum: 3        │   │    │
│  │ │ finesse             │ integer, minimum: -3, maximum: 3        │   │    │
│  │ └─────────────────────┴─────────────────────────────────────────┘   │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.3 File Layer Diagram

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                            CONFIG LAYER                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  config/                                                                     │
│  ├── races.json ◀──────────────────────────┐                                │
│  │   {                                      │ references                     │
│  │     "$schema": "./schemas/races.schema.json",                            │
│  │     "version": "1.0",                    │                                │
│  │     "races": [...]                       │                                │
│  │   }                                      │                                │
│  │                                          │                                │
│  └── schemas/                               │                                │
│      └── races.schema.json ─────────────────┘                                │
│          {                                                                   │
│            "$schema": "http://json-schema.org/draft-07/schema#",            │
│            "definitions": {...}                                              │
│          }                                                                   │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 4. Race Schema Definition

### 4.1 Schema Structure

**File:** `config/schemas/races.schema.json`

The race schema follows JSON Schema Draft-07 specification, providing comprehensive validation for race configuration files.

```json
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Race Configuration",
    "description": "Schema for playable race definitions in the game. Validates race attributes, traits, and metadata.",
    "type": "object",
    "properties": {
        "$schema": {
            "type": "string",
            "description": "Reference to the JSON schema file for validation"
        },
        "version": {
            "type": "string",
            "description": "Configuration file version for compatibility tracking",
            "pattern": "^[0-9]+\\.[0-9]+$"
        },
        "races": {
            "type": "array",
            "description": "List of race definitions",
            "items": {
                "$ref": "#/definitions/RaceDefinition"
            },
            "minItems": 1
        }
    },
    "required": ["races"],
    "additionalProperties": false,
    "definitions": {
        "RaceDefinition": { ... },
        "AttributeModifiers": { ... }
    }
}
```

### 4.2 RaceDefinition Object

The `RaceDefinition` object represents a single playable or non-playable race with all associated properties.

```json
"RaceDefinition": {
    "type": "object",
    "description": "A single race definition with attributes, traits, and metadata",
    "properties": {
        "id": {
            "type": "string",
            "description": "Unique identifier for the race (lowercase kebab-case)",
            "pattern": "^[a-z][a-z0-9-]*$",
            "minLength": 1,
            "maxLength": 50
        },
        "name": {
            "type": "string",
            "description": "Display name for the race shown to players",
            "minLength": 1,
            "maxLength": 100
        },
        "description": {
            "type": "string",
            "description": "Short description of the race for character creation",
            "minLength": 1,
            "maxLength": 500
        },
        "lore": {
            "type": "string",
            "description": "Extended lore and background information about the race",
            "maxLength": 2000
        },
        "attributeModifiers": {
            "$ref": "#/definitions/AttributeModifiers",
            "description": "Attribute bonuses and penalties applied to this race"
        },
        "traitId": {
            "type": "string",
            "description": "Unique identifier for the racial trait (lowercase with underscores)",
            "pattern": "^[a-z][a-z0-9_]*$",
            "minLength": 1,
            "maxLength": 50
        },
        "traitName": {
            "type": "string",
            "description": "Display name for the racial trait",
            "minLength": 1,
            "maxLength": 100
        },
        "traitDescription": {
            "type": "string",
            "description": "Description of the racial trait's mechanical effect",
            "minLength": 1,
            "maxLength": 500
        },
        "startingItems": {
            "type": "array",
            "description": "Item IDs granted to characters of this race at creation",
            "items": {
                "type": "string",
                "pattern": "^[a-z][a-z0-9-]*$"
            },
            "uniqueItems": true
        },
        "isPlayable": {
            "type": "boolean",
            "description": "Whether this race can be selected during character creation",
            "default": true
        },
        "sortOrder": {
            "type": "integer",
            "description": "Display order in character creation UI (lower = earlier)",
            "minimum": 0,
            "default": 0
        }
    },
    "required": [
        "id",
        "name",
        "description",
        "attributeModifiers",
        "traitId",
        "traitName",
        "traitDescription"
    ],
    "additionalProperties": false
}
```

### 4.3 AttributeModifiers Object

The `AttributeModifiers` object defines the five core attribute bonuses/penalties for a race.

```json
"AttributeModifiers": {
    "type": "object",
    "description": "Attribute modifiers applied to characters of this race",
    "properties": {
        "might": {
            "type": "integer",
            "description": "Physical power modifier affecting melee damage and carry capacity",
            "minimum": -3,
            "maximum": 3,
            "default": 0
        },
        "fortitude": {
            "type": "integer",
            "description": "Physical resilience modifier affecting health and resistances",
            "minimum": -3,
            "maximum": 3,
            "default": 0
        },
        "will": {
            "type": "integer",
            "description": "Mental fortitude modifier affecting magical resistance and focus",
            "minimum": -3,
            "maximum": 3,
            "default": 0
        },
        "wits": {
            "type": "integer",
            "description": "Mental acuity modifier affecting initiative and perception",
            "minimum": -3,
            "maximum": 3,
            "default": 0
        },
        "finesse": {
            "type": "integer",
            "description": "Dexterity modifier affecting accuracy and evasion",
            "minimum": -3,
            "maximum": 3,
            "default": 0
        }
    },
    "required": ["might", "fortitude", "will", "wits", "finesse"],
    "additionalProperties": false
}
```

---

## 5. Validation Rules

### 5.1 ID Pattern Validation

All identifier fields use kebab-case pattern validation to ensure consistency across configuration files.

| Field | Pattern | Valid Examples | Invalid Examples |
|-------|---------|----------------|------------------|
| `id` | `^[a-z][a-z0-9-]*$` | `human`, `high-elf`, `half-orc` | `Human`, `high_elf`, `123race` |
| `traitId` | `^[a-z][a-z0-9_]*$` | `adaptable`, `keen_senses`, `stout` | `Adaptable`, `keen-senses` |
| `startingItems[]` | `^[a-z][a-z0-9-]*$` | `iron-sword`, `leather-armor` | `Iron_Sword`, `LeatherArmor` |

### 5.2 Attribute Modifier Range

Attribute modifiers are constrained to maintain game balance:

| Constraint | Value | Rationale |
|------------|-------|-----------|
| Minimum | -3 | Prevents crippling penalties that make races unplayable |
| Maximum | +3 | Prevents overpowered races that trivialize content |
| Default | 0 | Neutral modifier when not specified |

**Validation Error Examples:**
```
Error: races[0].attributeModifiers.might must be >= -3
Error: races[1].attributeModifiers.finesse must be <= 3
```

### 5.3 Required Fields

The following fields are required for each race definition:

| Field | Requirement | Error on Missing |
|-------|-------------|------------------|
| `id` | Must be present and non-empty | "missing required property 'id'" |
| `name` | Must be present with minLength 1 | "missing required property 'name'" |
| `description` | Must be present with minLength 1 | "missing required property 'description'" |
| `attributeModifiers` | Must be present with all 5 attributes | "missing required property 'attributeModifiers'" |
| `traitId` | Must be present | "missing required property 'traitId'" |
| `traitName` | Must be present | "missing required property 'traitName'" |
| `traitDescription` | Must be present | "missing required property 'traitDescription'" |

**Optional Fields:**
- `lore` - Extended background text
- `startingItems` - Array of item IDs
- `isPlayable` - Defaults to `true`
- `sortOrder` - Defaults to `0`

---

## 6. Configuration Schema

### Complete Schema File

**File:** `config/schemas/races.schema.json`

```json
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Race Configuration",
    "description": "Schema for playable race definitions in the game. Validates race attributes, traits, and metadata.",
    "type": "object",
    "properties": {
        "$schema": {
            "type": "string",
            "description": "Reference to the JSON schema file for validation"
        },
        "version": {
            "type": "string",
            "description": "Configuration file version for compatibility tracking",
            "pattern": "^[0-9]+\\.[0-9]+$"
        },
        "races": {
            "type": "array",
            "description": "List of race definitions",
            "items": {
                "$ref": "#/definitions/RaceDefinition"
            },
            "minItems": 1
        }
    },
    "required": ["races"],
    "additionalProperties": false,
    "definitions": {
        "RaceDefinition": {
            "type": "object",
            "description": "A single race definition with attributes, traits, and metadata",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Unique identifier for the race (lowercase kebab-case)",
                    "pattern": "^[a-z][a-z0-9-]*$",
                    "minLength": 1,
                    "maxLength": 50
                },
                "name": {
                    "type": "string",
                    "description": "Display name for the race shown to players",
                    "minLength": 1,
                    "maxLength": 100
                },
                "description": {
                    "type": "string",
                    "description": "Short description of the race for character creation",
                    "minLength": 1,
                    "maxLength": 500
                },
                "lore": {
                    "type": "string",
                    "description": "Extended lore and background information about the race",
                    "maxLength": 2000
                },
                "attributeModifiers": {
                    "$ref": "#/definitions/AttributeModifiers",
                    "description": "Attribute bonuses and penalties applied to this race"
                },
                "traitId": {
                    "type": "string",
                    "description": "Unique identifier for the racial trait (lowercase with underscores)",
                    "pattern": "^[a-z][a-z0-9_]*$",
                    "minLength": 1,
                    "maxLength": 50
                },
                "traitName": {
                    "type": "string",
                    "description": "Display name for the racial trait",
                    "minLength": 1,
                    "maxLength": 100
                },
                "traitDescription": {
                    "type": "string",
                    "description": "Description of the racial trait's mechanical effect",
                    "minLength": 1,
                    "maxLength": 500
                },
                "startingItems": {
                    "type": "array",
                    "description": "Item IDs granted to characters of this race at creation",
                    "items": {
                        "type": "string",
                        "pattern": "^[a-z][a-z0-9-]*$"
                    },
                    "uniqueItems": true
                },
                "isPlayable": {
                    "type": "boolean",
                    "description": "Whether this race can be selected during character creation",
                    "default": true
                },
                "sortOrder": {
                    "type": "integer",
                    "description": "Display order in character creation UI (lower = earlier)",
                    "minimum": 0,
                    "default": 0
                }
            },
            "required": [
                "id",
                "name",
                "description",
                "attributeModifiers",
                "traitId",
                "traitName",
                "traitDescription"
            ],
            "additionalProperties": false
        },
        "AttributeModifiers": {
            "type": "object",
            "description": "Attribute modifiers applied to characters of this race",
            "properties": {
                "might": {
                    "type": "integer",
                    "description": "Physical power modifier affecting melee damage and carry capacity",
                    "minimum": -3,
                    "maximum": 3,
                    "default": 0
                },
                "fortitude": {
                    "type": "integer",
                    "description": "Physical resilience modifier affecting health and resistances",
                    "minimum": -3,
                    "maximum": 3,
                    "default": 0
                },
                "will": {
                    "type": "integer",
                    "description": "Mental fortitude modifier affecting magical resistance and focus",
                    "minimum": -3,
                    "maximum": 3,
                    "default": 0
                },
                "wits": {
                    "type": "integer",
                    "description": "Mental acuity modifier affecting initiative and perception",
                    "minimum": -3,
                    "maximum": 3,
                    "default": 0
                },
                "finesse": {
                    "type": "integer",
                    "description": "Dexterity modifier affecting accuracy and evasion",
                    "minimum": -3,
                    "maximum": 3,
                    "default": 0
                }
            },
            "required": ["might", "fortitude", "will", "wits", "finesse"],
            "additionalProperties": false
        }
    }
}
```

---

## 7. Configuration File Updates

### Updated races.json

The existing `races.json` already references the schema. No content changes are required as all existing races validate against the new schema.

**File:** `config/races.json`

Current `$schema` reference:
```json
{
    "$schema": "./schemas/races.schema.json",
    "version": "1.0",
    "races": [...]
}
```

### Validation Confirmation

The existing four races validate successfully:

| Race | ID Pattern | Attribute Range | Required Fields |
|------|------------|-----------------|-----------------|
| Human | `human` ✓ | All in -3 to +3 range ✓ | All present ✓ |
| Elf | `elf` ✓ | All in -3 to +3 range ✓ | All present ✓ |
| Dwarf | `dwarf` ✓ | All in -3 to +3 range ✓ | All present ✓ |
| Halfling | `halfling` ✓ | All in -3 to +3 range ✓ | All present ✓ |

---

## 8. Data Model Changes

### No Domain Changes Required

This phase creates only a JSON Schema file for validation. No changes to domain entities, services, or application layer are required.

| Layer | Changes |
|-------|---------|
| Domain | None |
| Application | None |
| Infrastructure | None |
| Configuration | Schema file added |

### Schema as Documentation

The schema serves as:
- **Validation contract** for configuration files
- **IDE documentation** via description fields
- **Modding reference** for custom race creation

---

## 9. Logging Specifications

### No Runtime Logging Required

Schema validation occurs at design-time in IDE/editors, not at runtime. No logging infrastructure changes are needed for this phase.

| Component | Level | Events |
|-----------|-------|--------|
| N/A | N/A | Schema validation is IDE-based |

---

## 10. Unit Testing Requirements

### Test Count by Feature

| Feature | Test Count |
|---------|------------|
| Schema Valid Structure | ~1 |
| ID Pattern Validation | ~1 |
| Attribute Range Validation | ~1 |
| Required Fields Validation | ~1 |
| Optional Fields Validation | ~1 |
| **Total** | **~5** |

### Test Descriptions

#### RaceSchemaTests.cs

```csharp
[TestFixture]
public class RaceSchemaTests
{
    /// <summary>
    /// Verifies the schema file is valid JSON Schema Draft-07.
    /// </summary>
    [Test]
    public void Schema_IsValidJsonSchemaDraft07();

    /// <summary>
    /// Verifies the existing races.json validates against the schema without errors.
    /// </summary>
    [Test]
    public void ExistingRacesJson_ValidatesAgainstSchema();

    /// <summary>
    /// Verifies race IDs must follow the kebab-case pattern.
    /// </summary>
    [Test]
    public void RaceId_InvalidPattern_FailsValidation();

    /// <summary>
    /// Verifies attribute modifiers must be within -3 to +3 range.
    /// </summary>
    [Test]
    public void AttributeModifiers_OutOfRange_FailsValidation();

    /// <summary>
    /// Verifies all required fields must be present for a valid race.
    /// </summary>
    [Test]
    public void Race_MissingRequiredFields_FailsValidation();
}
```

### Test Implementation Notes

Tests should use a JSON Schema validation library (e.g., `NJsonSchema` for C#) to:
1. Load the schema file
2. Validate test JSON documents
3. Assert expected validation results

---

## 11. Use Cases

### UC-001: Load Race Configuration

**Actor:** Game System
**Flow:** System starts → Loads `races.json` → Schema validates content → Races available for character creation

### UC-002: Edit Race in IDE

**Actor:** Developer/Modder
**Flow:** Opens `races.json` in VS Code → IDE loads schema → Autocomplete suggests properties → Validation errors shown inline

### UC-003: Create Custom Race

**Actor:** Modder
**Flow:** Adds new race object to `races.json` → IDE validates against schema → Errors shown for missing fields → Modder corrects errors → Race validates successfully

### UC-004: Invalid Attribute Range

**Actor:** Modder
**Flow:** Sets `might: 5` in race definition → IDE shows error "must be <= 3" → Modder corrects to valid value

### UC-005: Invalid ID Pattern

**Actor:** Modder
**Flow:** Sets `id: "High Elf"` in race definition → IDE shows error "must match pattern" → Modder corrects to `id: "high-elf"`

---

## 12. Deliverable Checklist

### Schema Files
- [ ] `config/schemas/races.schema.json` created
- [ ] Schema follows JSON Schema Draft-07 format
- [ ] Schema includes all defined properties
- [ ] Schema includes definitions section

### Validation Rules
- [ ] ID pattern validation: `^[a-z][a-z0-9-]*$`
- [ ] Trait ID pattern validation: `^[a-z][a-z0-9_]*$`
- [ ] Attribute modifier range: -3 to +3
- [ ] Required fields enforced
- [ ] Optional fields have defaults

### Configuration Updates
- [ ] Existing `races.json` validates against schema
- [ ] No changes required to race data

### Testing
- [ ] ~5 unit tests implemented
- [ ] All tests passing
- [ ] Tests cover happy path and error cases

### Documentation
- [ ] Schema properties have descriptions
- [ ] This design specification complete

---

## 13. Acceptance Criteria

### Functional
- [ ] `races.schema.json` created in `config/schemas/` directory
- [ ] Schema validates existing `races.json` without errors
- [ ] Attribute modifier range validated (-3 to +3)
- [ ] ID pattern enforced (lowercase kebab-case)
- [ ] Required fields enforced (id, name, description, attributeModifiers, traitId, traitName, traitDescription)
- [ ] Optional fields allow null/missing (lore, startingItems)
- [ ] VS Code provides autocomplete when schema linked

### Quality
- [ ] Build succeeds with 0 errors
- [ ] Build succeeds with 0 warnings
- [ ] ~5 unit tests pass
- [ ] Schema file is valid JSON
- [ ] All schema properties have descriptions

---

## 14. Dependencies

### Required from Prior Versions

| Type | Location | Usage in this phase |
|------|----------|---------------------|
| `races.json` | `config/races.json` | Validated by new schema |
| Schema patterns | `config/schemas/terrain.schema.json` | Reference for schema structure |

### Provides to v0.14.0b

| Type | Usage |
|------|-------|
| Schema pattern | Class schema will follow same Draft-07 structure |
| ID validation | Same `^[a-z][a-z0-9-]*$` pattern reused |
| Attribute names | Same attribute names (might, fortitude, will, wits, finesse) |

---

## 15. Future Considerations

### Deferred to v0.14.2 (Cross-Reference Validation)

- **startingItems validation**: Cross-reference to items.json to verify item IDs exist
- **traitId validation**: Cross-reference to a future traits registry

### Out of Scope

- **Runtime schema validation**: Application-level validation at load time (handled by existing provider patterns)
- **Schema versioning migration**: Automatic migration between schema versions
- **Custom trait definitions**: Separate traits.json with full trait mechanics

---

*Document Version: 1.0*
*Last Updated: 2026-01-17*
*Author: Claude*
