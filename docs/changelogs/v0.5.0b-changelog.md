# v0.5.0b Changelog: Movement System

**Version:** 0.5.0b  
**Phase:** Movement System  
**Date:** 2026-01-14  
**Status:** ✅ Complete

---

## Summary

Implements movement mechanics for the combat grid, enabling players and monsters to move using a movement point system with differential costs for cardinal vs diagonal movement.

---

## Added

### Domain Layer

| Component | File | Description |
|-----------|------|-------------|
| `MovementCosts` | Constants/MovementCosts.cs | Movement point costs (cardinal=2, diagonal=3) |
| `MovementFailureReason` | Enums/MovementFailureReason.cs | Validation failure reasons (7 types) |

### Domain - Entity Modifications

| Entity | Properties Added |
|--------|------------------|
| `Player` | `BaseMovementSpeed`, `MovementSpeed`, `CombatGridPosition`, `MovementPointsRemaining` |
| `Monster` | `MovementSpeed`, `CombatGridPosition`, `MovementPointsRemaining` |

### Application Layer

| Component | File | Description |
|-----------|------|-------------|
| `IMovementService` | Interfaces/IMovementService.cs | Movement service interface |
| `MovementService` | Services/MovementService.cs | Movement validation and execution |
| `MovementResult` | Interfaces/IMovementService.cs | Result record for move operations |

### Configuration

| File | Change |
|------|--------|
| config/grid.json | Added `movementSettings` section |

---

## Movement Point System

| Stat | Points | Description |
|------|--------|-------------|
| Speed 4 (Player) | 8 points | Default player speed |
| Speed 3 (Monster) | 6 points | Default monster speed |
| Cardinal Move | 2 points | North, South, East, West |
| Diagonal Move | 3 points | NE, NW, SE, SW |

---

## Test Results

```
Domain Tests:       1,344 passed (+40 from v0.5.0a)
Application Tests:    496 passed (+14 from v0.5.0a)
Architecture Tests:     8 passed
─────────────────────────────────────────────────
Total:              1,848 passed
```

### New v0.5.0b Tests (54 tests)

| Test File | Tests |
|-----------|-------|
| MovementCostsTests.cs | 12 |
| PlayerMovementTests.cs | 12 |
| MonsterMovementTests.cs | 8 |
| MovementServiceTests.cs | 14 |

---

## Logging Strategy

| Level | Template |
|-------|----------|
| Information | `Entity {EntityId} moved {Direction} from {OldPos} to {NewPos}` |
| Information | `Reset movement for all entities ({MonsterCount} monsters)` |
| Debug | `Movement validation: bounds={Bounds}, cost={Cost}` |
| Warning | `Move failed: {Reason} for entity {EntityId}` |

---

## Next Steps

- **v0.5.0c** — Grid Display & Integration (ASCII renderer, combat loop integration)
