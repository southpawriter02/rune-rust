# v0.19.0a Changelog – Core Biome Infrastructure

**Version**: 0.19.0a  
**Date**: 2026-02-02  
**Focus**: Nine Realms Biome System Foundation

---

## Summary

This release establishes the foundational infrastructure for the Nine Realms biome system. It implements the core domain entities, application layer interfaces, and infrastructure services required for realm-based environmental gameplay.

---

## Added

### Domain Layer - Enums

- **`RealmId`** – 9 canonical realms (Asgard through Helheim) matching YGGDRASIL deck numbers
- **`BiomeCompatibility`** – Compatible, RequiresTransition, Incompatible adjacency levels
- **`EnvironmentalConditionType`** – 9 environmental hazards (IntenseHeat, ExtremeCold, ToxicAtmosphere, etc.)
- **`VerticalZone`** – 8 vertical layers from DeepRoots (-3) to Orbital (+4)

### Domain Layer - Value Objects

- **`RealmBiomeProperties`** – Environmental baselines (temperature, aetheric intensity, humidity, light, scale, corrosion)
- **`AdjacencyRule`** – Realm relationship definitions with transition requirements

### Domain Layer - Entities

- **`RealmBiomeDefinition`** – Complete realm configuration with zones, lore, and environmental data
- **`RealmBiomeZone`** – Sub-biomes with property overrides and DC modifiers
- **`EnvironmentalCondition`** – Hazard definitions with damage, checks, and mitigations

### Application Layer

- **`IRealmBiomeProvider`** – Interface for accessing realm biome data
- **`IBiomeAdjacencyService`** – Interface for realm adjacency validation
- **`IEnvironmentalConditionService`** – Interface for hazard application
- **`EnvironmentalDamageResult`** – DTO for environmental damage outcomes

### Infrastructure Layer

- **`RealmBiomeProvider`** – JSON-based realm data provider with lazy loading
- **`BiomeAdjacencyService`** – Adjacency rule enforcement with pre-computed incompatibilities

### Configuration Files

- **`config/realm-biomes.json`** – Realm definitions and environmental conditions
- **`config/schemas/realm-biomes.schema.json`** – JSON schema for validation
- **`config/adjacency-matrix.json`** – Realm adjacency rules

### Unit Tests

- `RealmBiomeProviderTests` – 7 tests
- `BiomeAdjacencyServiceTests` – 14 tests
- `RealmBiomeDefinitionTests` – 12 tests

---

## Technical Notes

- Services follow the existing provider pattern with private `LoadConfiguration()` methods
- Added `InternalsVisibleTo` attribute to Infrastructure project for test access
- All services support test constructors for direct data injection
- Realm names prefixed with `Realm` (e.g., `RealmBiomeDefinition`) to distinguish from existing generic biome system

---

## Dependencies

- No new external dependencies
- Uses existing Serilog logging infrastructure

---

## Next Steps

- v0.19.0b: Complete realm definitions for all 9 realms
- v0.19.0c: Implement `IEnvironmentalConditionService` with dice integration
- v0.19.1: Environmental hazard mechanics and combat integration
