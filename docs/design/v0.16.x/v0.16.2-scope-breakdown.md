# v0.16.2 Armor Proficiency System - Scope Breakdown

**Version:** 0.16.2  
**Theme:** Armor Proficiency System  
**Prerequisites:** v0.16.1 Complete (Weapon Proficiency System)  
**Total Estimated Tests:** ~15 new tests

---

## Executive Summary

This version implements the armor proficiency system that determines how effectively characters can wear different armor types. Wearing armor without proficiency doubles all penalties and blocks special properties. Mystics face special restrictions as medium and heavy armor interfere with Galdr channeling.

The work is divided into **6 sub-phases**:

| Phase    | Name                         | Focus                                                           | Est. Tests |
| -------- | ---------------------------- | --------------------------------------------------------------- | ---------- |
| v0.16.2a | Armor Proficiency Level Enum | ArmorProficiencyLevel, ArmorProficiencyEffect                   | ~3         |
| v0.16.2b | Armor Category System        | ArmorCategory enum, ArmorCategoryDefinition, ArmorPenalties     | ~2         |
| v0.16.2c | Archetype Armor Matrix       | ArchetypeArmorProficiencySet, ArmorRestriction, Galdr rules     | ~3         |
| v0.16.2d | Non-Proficiency Penalties    | IArmorPenaltyService, EffectiveArmorPenalties, GaldrRestriction | ~3         |
| v0.16.2e | Proficiency Acquisition      | ArmorProficiencyAcquisition, training costs                     | ~2         |
| v0.16.2f | Combat Integration           | IArmorCombatIntegration, stamina/agility modifiers              | ~2         |

---

## Feature Analysis & Categorization

### Proficiency Levels

| Feature                    | Complexity | Dependencies          | Assigned Phase |
| -------------------------- | ---------- | --------------------- | -------------- |
| ArmorProficiencyLevel enum | Low        | None                  | **v0.16.2a**   |
| ArmorProficiencyEffect VO  | Low        | ArmorProficiencyLevel | **v0.16.2a**   |

### Armor Categories

| Feature                           | Complexity | Dependencies  | Assigned Phase |
| --------------------------------- | ---------- | ------------- | -------------- |
| ArmorCategory enum (5 categories) | Low        | None          | **v0.16.2b**   |
| ArmorCategoryDefinition VO        | Medium     | ArmorCategory | **v0.16.2b**   |
| ArmorPenalties VO                 | Medium     | ArmorCategory | **v0.16.2b**   |

### Archetype Matrix

| Feature                         | Complexity | Dependencies     | Assigned Phase |
| ------------------------------- | ---------- | ---------------- | -------------- |
| ArchetypeArmorProficiencySet VO | Medium     | ArmorCategory    | **v0.16.2c**   |
| ArmorRestriction VO             | Medium     | ArmorCategory    | **v0.16.2c**   |
| ArmorRestrictionType enum       | Low        | None             | **v0.16.2c**   |
| Galdr interference rules        | High       | ArmorRestriction | **v0.16.2c**   |

### Penalty Calculation

| Feature                    | Complexity | Dependencies         | Assigned Phase |
| -------------------------- | ---------- | -------------------- | -------------- |
| IArmorPenaltyService       | Medium     | All v0.16.2a-c       | **v0.16.2d**   |
| EffectiveArmorPenalties VO | Medium     | IArmorPenaltyService | **v0.16.2d**   |
| GaldrRestriction VO        | Medium     | IArmorPenaltyService | **v0.16.2d**   |

### Acquisition

| Feature                        | Complexity | Dependencies                | Assigned Phase |
| ------------------------------ | ---------- | --------------------------- | -------------- |
| ArmorProficiencyAcquisition VO | Low        | All prior                   | **v0.16.2e**   |
| 15 combat threshold            | Low        | ArmorProficiencyAcquisition | **v0.16.2e**   |
| 3 PP cost                      | Low        | ArmorProficiencyAcquisition | **v0.16.2e**   |

### Combat Integration

| Feature                   | Complexity | Dependencies            | Assigned Phase |
| ------------------------- | ---------- | ----------------------- | -------------- |
| IArmorCombatIntegration   | Medium     | All v0.16.2a-e          | **v0.16.2f**   |
| Stamina/agility modifiers | Medium     | IArmorCombatIntegration | **v0.16.2f**   |

---

## Phase Definitions

---

## v0.16.2a: Armor Proficiency Level Enum

[v0.16.2a Design Specification](v0.16.2a-design-specification.md)

### Overview

Defines armor proficiency levels and their effects on penalties and bonuses.

### Scope

**In Scope:**

- ArmorProficiencyLevel enum (NonProficient, Proficient, Expert, Master)
- ArmorProficiencyEffect value object
- Penalty multipliers and tier reduction

**Out of Scope:**

- Armor categories (v0.16.2b)
- Galdr restrictions (v0.16.2c)

### Key Deliverables

| Type                 | Count | Details                  |
| -------------------- | ----- | ------------------------ |
| Domain Enums         | 1     | `ArmorProficiencyLevel`  |
| Domain Value Objects | 1     | `ArmorProficiencyEffect` |
| Unit Tests           | ~3    |                          |

### Proficiency Effects

| Level         | Penalty Mult | Attack | Defense | Tier Reduction   |
| ------------- | ------------ | ------ | ------- | ---------------- |
| NonProficient | 2.0x         | -2     | 0       | 0                |
| Proficient    | 1.0x         | 0      | 0       | 0                |
| Expert        | 1.0x         | 0      | 0       | 1 (Heavy→Medium) |
| Master        | 1.0x         | 0      | +1      | 1 (Heavy→Medium) |

### Acceptance Criteria

- [ ] NonProficient doubles penalties
- [ ] Expert reduces tier by 1
- [ ] Master grants +1 Defense
- [ ] ~3 unit tests pass

---

## v0.16.2b: Armor Category System

[v0.16.2b Design Specification](v0.16.2b-design-specification.md)

### Overview

Defines the 5 armor categories and their base penalties.

### Scope

**In Scope:**

- ArmorCategory enum (Light, Medium, Heavy, Shields, Specialized)
- ArmorCategoryDefinition value object
- ArmorPenalties value object
- armor-categories.json configuration

**Out of Scope:**

- Archetype restrictions (v0.16.2c)
- Galdr interference (v0.16.2c)

### Key Deliverables

| Type                 | Count | Details                                     |
| -------------------- | ----- | ------------------------------------------- |
| Domain Enums         | 1     | `ArmorCategory`                             |
| Domain Value Objects | 2     | `ArmorCategoryDefinition`, `ArmorPenalties` |
| Configuration        | 1     | `armor-categories.json`                     |
| Unit Tests           | ~2    |                                             |

### Category Penalties

| Category | Agility | Stamina | Movement | Stealth |
| -------- | ------- | ------- | -------- | ------- |
| Light    | 0       | 0       | 0        | No      |
| Medium   | -1d10   | +2      | -5 ft    | Yes     |
| Heavy    | -2d10   | +5      | -10 ft   | Yes     |
| Shields  | 0       | +1      | 0        | No      |

### Acceptance Criteria

- [x] Light armor has no penalties
- [x] Heavy armor has -2d10 Agility, +5 Stamina
- [x] ~2 unit tests pass

---

## v0.16.2c: Archetype Armor Matrix

[v0.16.2c Design Specification](v0.16.2c-design-specification.md)

### Overview

Defines archetype-specific armor restrictions including Galdr interference for Mystics.

### Scope

**In Scope:**

- ArchetypeArmorProficiencySet value object
- ArmorRestriction value object
- ArmorRestrictionType enum
- Galdr channeling interference rules
- archetype-armor-proficiencies.json configuration

**Out of Scope:**

- Penalty calculation (v0.16.2d)

### Key Deliverables

| Type                 | Count | Details                                            |
| -------------------- | ----- | -------------------------------------------------- |
| Domain Enums         | 1     | `ArmorRestrictionType`                             |
| Domain Value Objects | 2     | `ArchetypeArmorProficiencySet`, `ArmorRestriction` |
| Configuration        | 1     | `archetype-armor-proficiencies.json`               |
| Unit Tests           | ~3    |                                                    |

### Galdr Channeling Interference

| Armor  | Effect                      |
| ------ | --------------------------- |
| Light  | No interference             |
| Medium | -2 to all Galdr checks      |
| Heavy  | Cannot cast Galdr abilities |

### Archetype Matrix

| Archetype  | Proficient                    | Restriction        |
| ---------- | ----------------------------- | ------------------ |
| Warrior    | Light, Medium, Heavy, Shields | None               |
| Skirmisher | Light, Medium                 | —                  |
| Mystic     | Light only                    | Galdr interference |
| Adept      | Light only                    | WITS impairment    |

### Acceptance Criteria

- [ ] Warrior proficient with all armor
- [ ] Mystic gets -2 Galdr in Medium armor
- [ ] Mystic cannot cast Galdr in Heavy armor
- [ ] ~3 unit tests pass

---

## v0.16.2d: Non-Proficiency Penalty Calculation

[v0.16.2d Design Specification](v0.16.2d-design-specification.md)

### Overview

Implements penalty calculation service including non-proficiency doubling and Galdr restriction checking.

### Scope

**In Scope:**

- IArmorPenaltyService interface
- EffectiveArmorPenalties value object
- GaldrRestriction value object
- Penalty doubling for NonProficient

**Out of Scope:**

- Acquisition methods (v0.16.2e)
- Combat integration (v0.16.2f)

### Key Deliverables

| Type                   | Count | Details                                       |
| ---------------------- | ----- | --------------------------------------------- |
| Application Interfaces | 1     | `IArmorPenaltyService`                        |
| Domain Value Objects   | 2     | `EffectiveArmorPenalties`, `GaldrRestriction` |
| Unit Tests             | ~3    |                                               |

### Non-Proficiency Examples

| Situation           | Normal            | Non-Proficient     |
| ------------------- | ----------------- | ------------------ |
| Mystic in Medium    | -1d10, +2 Stamina | -2d10, +4 Stamina  |
| Skirmisher in Heavy | -2d10, +5 Stamina | -4d10, +10 Stamina |

### Acceptance Criteria

- [ ] NonProficient doubles penalties correctly
- [ ] Expert applies Heavy as Medium penalties
- [ ] Attack penalty of -2 applied for NonProficient
- [ ] ~3 unit tests pass

---

## v0.16.2e: Proficiency Acquisition

[v0.16.2e Design Specification](v0.16.2e-design-specification.md)

### Overview

Defines armor proficiency acquisition methods (higher costs than weapons).

### Scope

**In Scope:**

- ArmorProficiencyAcquisition value object
- 15 combat threshold (vs 10 for weapons)
- 3 PP cost (vs 2 PP for weapons)
- 100-400 PS training cost

**Out of Scope:**

- Combat integration (v0.16.2f)

### Key Deliverables

| Type                 | Count | Details                       |
| -------------------- | ----- | ----------------------------- |
| Domain Value Objects | 1     | `ArmorProficiencyAcquisition` |
| Unit Tests           | ~2    |                               |

### Acquisition Methods

| Method            | PS Cost | PP Cost | Time      | Combats |
| ----------------- | ------- | ------- | --------- | ------- |
| Archetype         | Free    | —       | Instant   | —       |
| NPC Training      | 100-400 | —       | 2-6 weeks | —       |
| Combat Experience | —       | —       | —         | 15      |
| Progression Point | —       | 3       | Instant   | —       |

### Acceptance Criteria

- [ ] 15 combats grants proficiency
- [ ] PP cost is 3 (higher than weapons)
- [ ] ~2 unit tests pass

---

## v0.16.2f: Combat Integration

[v0.16.2f Design Specification](v0.16.2f-design-specification.md)

### Overview

Integrates armor penalties into combat actions and Galdr casting.

### Scope

**In Scope:**

- IArmorCombatIntegration interface
- Stamina cost modifiers
- Agility dice reduction
- Galdr blocking for Heavy armor

**Out of Scope:**

- Future armor specialization abilities

### Key Deliverables

| Type                   | Count | Details                   |
| ---------------------- | ----- | ------------------------- |
| Application Interfaces | 1     | `IArmorCombatIntegration` |
| Unit Tests             | ~2    |                           |

### Acceptance Criteria

- [ ] Stamina cost modified by armor
- [ ] Galdr blocked in Heavy armor for Mystic
- [ ] ~2 unit tests pass

---

## Dependencies & Prerequisites

```
v0.16.1 (Weapon Proficiency System) - REQUIRED
    │
    └── Complete (provides proficiency pattern)
            │
            ▼
v0.16.2 (Armor Proficiency System)
    │
    ├── v0.16.2a: Armor Proficiency Level ────────┐
    │       Dependencies: None                     │
    │                                              │
    ├── v0.16.2b: Armor Category System ──────────┤
    │       Dependencies: None                     │
    │                                              │
    ├── v0.16.2c: Archetype Armor Matrix ─────────┤
    │       Dependencies: v0.16.2a, v0.16.2b       │
    │                                              │
    ├── v0.16.2d: Non-Proficiency Penalties ──────┤
    │       Dependencies: v0.16.2a-c               │
    │                                              │
    ├── v0.16.2e: Proficiency Acquisition ────────┤
    │       Dependencies: v0.16.2a-d               │
    │                                              │
    └── v0.16.2f: Combat Integration ─────────────┘
            Dependencies: v0.16.2a-e
```

---

## Configuration Files

| File                                 | Purpose                                  | Phase    |
| ------------------------------------ | ---------------------------------------- | -------- |
| `armor-categories.json`              | Category definitions with base penalties | v0.16.2b |
| `archetype-armor-proficiencies.json` | Starting proficiency matrix              | v0.16.2c |
| `armor-restrictions.json`            | Galdr/WITS interference rules            | v0.16.2c |
| `armor-training.json`                | NPC training costs/times                 | v0.16.2e |

---

## Estimated Effort Summary

| Phase     | New Files | Modified Files | Est. Tests | Complexity |
| --------- | --------- | -------------- | ---------- | ---------- |
| v0.16.2a  | ~2        | 0              | ~3         | Low        |
| v0.16.2b  | ~3        | 0              | ~2         | Low        |
| v0.16.2c  | ~4        | 0              | ~3         | Medium     |
| v0.16.2d  | ~3        | 0              | ~3         | Medium     |
| v0.16.2e  | ~2        | 0              | ~2         | Low        |
| v0.16.2f  | ~2        | ~2             | ~2         | Medium     |
| **Total** | **~16**   | **~2**         | **~15**    |            |

---

## Risk Assessment

| Risk                       | Impact | Probability | Mitigation                               |
| -------------------------- | ------ | ----------- | ---------------------------------------- |
| Galdr blocking complexity  | High   | Low         | Clear state checks for Mystic            |
| Penalty stacking confusion | Medium | Medium      | Clear UI feedback on effective penalties |

---

_This scope breakdown provides a structured approach to implementing v0.16.2 Armor Proficiency System. Each sub-phase builds on the previous, allowing for incremental development and testing._
