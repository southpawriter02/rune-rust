{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "archetypes.schema.json",
    "title": "Archetypes Configuration",
    "description": "Configuration for character archetypes defining combat roles, primary resources, display metadata, and resource pool bonuses. Archetypes are permanent choices made during character creation that determine a character's fundamental combat identity.",
    "type": "object",
    "required": ["archetypes"],
    "properties": {
        "$schema": {
            "type": "string",
            "description": "Reference to the JSON schema file for validation"
        },
        "archetypes": {
            "type": "array",
            "description": "List of archetype definitions. Exactly 4 archetypes are required.",
            "items": { "$ref": "#/definitions/archetypeDefinition" },
            "minItems": 4,
            "maxItems": 4
        }
    },
    "additionalProperties": false,
    "definitions": {
        "archetypeDefinition": {
            "type": "object",
            "description": "Core definition for a single archetype including display metadata, combat role, resource type, and resource pool bonuses.",
            "required": [
                "archetypeId",
                "displayName",
                "tagline",
                "description",
                "selectionText",
                "combatRole",
                "primaryResource",
                "playstyleDescription",
                "isPermanent",
                "resourceBonuses"
            ],
            "properties": {
                "archetypeId": {
                    "type": "string",
                    "description": "The archetype enum value. Must be one of the four defined archetypes.",
                    "enum": ["Warrior", "Skirmisher", "Mystic", "Adept"]
                },
                "displayName": {
                    "type": "string",
                    "description": "Display name shown in UI (e.g., 'Warrior')",
                    "minLength": 1,
                    "maxLength": 50
                },
                "tagline": {
                    "type": "string",
                    "description": "Thematic tagline for the archetype (e.g., 'The Unyielding Bulwark')",
                    "minLength": 1,
                    "maxLength": 100
                },
                "description": {
                    "type": "string",
                    "description": "Full description of the archetype's role and characteristics",
                    "minLength": 1,
                    "maxLength": 500
                },
                "selectionText": {
                    "type": "string",
                    "description": "Flavor text for character creation selection in second-person perspective",
                    "minLength": 1,
                    "maxLength": 500
                },
                "combatRole": {
                    "type": "string",
                    "description": "Combat role descriptor (e.g., 'Tank / Melee DPS')",
                    "minLength": 1,
                    "maxLength": 50
                },
                "primaryResource": {
                    "type": "string",
                    "description": "Primary resource type used by this archetype",
                    "enum": ["Stamina", "AetherPool"]
                },
                "playstyleDescription": {
                    "type": "string",
                    "description": "Brief playstyle guidance for the player",
                    "minLength": 1,
                    "maxLength": 200
                },
                "isPermanent": {
                    "type": "boolean",
                    "description": "Whether the archetype choice is permanent. Must always be true.",
                    "const": true
                },
                "resourceBonuses": {
                    "$ref": "#/definitions/resourceBonuses"
                }
            },
            "additionalProperties": false
        },
        "resourceBonuses": {
            "type": "object",
            "description": "Resource pool bonuses provided by the archetype. These bonuses are applied during character creation and affect derived statistics.",
            "required": [
                "maxHpBonus",
                "maxStaminaBonus",
                "maxAetherPoolBonus",
                "movementBonus"
            ],
            "properties": {
                "maxHpBonus": {
                    "type": "integer",
                    "description": "Bonus to maximum HP. Warrior: +49, Skirmisher: +30, Mystic: +20, Adept: +30.",
                    "minimum": 0,
                    "maximum": 100
                },
                "maxStaminaBonus": {
                    "type": "integer",
                    "description": "Bonus to maximum Stamina. Warrior: +5, Skirmisher: +5, Mystic: 0, Adept: 0.",
                    "minimum": 0,
                    "maximum": 50
                },
                "maxAetherPoolBonus": {
                    "type": "integer",
                    "description": "Bonus to maximum Aether Pool. Only Mystic receives +20.",
                    "minimum": 0,
                    "maximum": 50
                },
                "movementBonus": {
                    "type": "integer",
                    "description": "Bonus to movement speed in tiles per turn. Only Skirmisher receives +1.",
                    "minimum": 0,
                    "maximum": 5
                },
                "specialBonus": {
                    "oneOf": [
                        { "type": "null" },
                        { "$ref": "#/definitions/specialBonus" }
                    ],
                    "description": "Optional unique bonus for special effects. Only Adept uses this (+20% ConsumableEffectiveness)."
                }
            },
            "additionalProperties": false
        },
        "specialBonus": {
            "type": "object",
            "description": "A unique special bonus effect that cannot be expressed as a simple numeric resource bonus.",
            "required": ["bonusType", "bonusValue", "description"],
            "properties": {
                "bonusType": {
                    "type": "string",
                    "description": "Type identifier for the bonus. Currently only 'ConsumableEffectiveness' is supported.",
                    "enum": ["ConsumableEffectiveness"]
                },
                "bonusValue": {
                    "type": "number",
                    "description": "Numeric value as a decimal fraction (e.g., 0.20 for +20%). Combined with base 1.0 to produce multiplier.",
                    "minimum": 0,
                    "maximum": 1
                },
                "description": {
                    "type": "string",
                    "description": "Human-readable description for UI display",
                    "minLength": 1,
                    "maxLength": 200
                }
            },
            "additionalProperties": false
        }
    }
}
