# v0.20.5 Scope Breakdown: Berserkr

**Version:** 0.20.5
**Theme:** Berserkr Specialization Implementation
**Prerequisites:** v0.20.4 Complete (Myrk-gengr Specialization)
**Total Estimated Tests:** ~25 new tests

---

## Executive Summary

v0.20.5 implements the **Berserkr** specialization — the fury-powered damage dealer for the Warrior archetype. The Berserkr is the **second Heretical path specialization** in the v0.20.x series, building upon the Corruption risk patterns established by Myrk-gengr (v0.20.4). These berserkers channel destructive rage drawn from dark sources, trading self-preservation for devastating combat prowess. Their rage grows through combat, feeding on pain and bloodshed until they become unstoppable avatars of destruction.

> *"The rage is not madness. The rage is clarity."*

The work is divided into **3 sub-phases**:

| Phase | Name | Focus | Est. Tests |
|-------|------|-------|------------|
| v0.20.5a | Framework & Tier 1 Abilities | Rage resource, Fury Strike, Blood Scent, Pain is Fuel | ~10 |
| v0.20.5b | Tier 2 Abilities | Reckless Assault, Unstoppable, Intimidating Presence | ~8 |
| v0.20.5c | Tier 3 Abilities & Capstone | Fury of the Forlorn, Death Defiance, Avatar of Destruction | ~7 |

---

## Specialization Profile

### Berserkr Identity

| Attribute | Value |
|-----------|-------|
| **Display Name** | Berserkr |
| **Pronunciation** | ber-SERK-ur |
| **Translation** | Bear-Shirt / Berserker |
| **Archetype** | Warrior |
| **Path Type** | Heretical |
| **Role** | Fury-Powered Damage / Risk-Reward |
| **Special Resource** | Rage (Max 100) |
| **Tagline** | "Clarity Through Fury" |

### Thematic Elements

The Berserkr has surrendered to the primal fury that lurks within every survivor of Aethelgard. Where others fight for hope or duty, the Berserkr fights because the rage demands it. Their power is drawn from a dark wellspring — the collective anguish of the World-Machine's victims, the desperate fury of those who refuse to accept extinction. This connection grants tremendous destructive capability but risks consuming the berserker entirely.

**Design Principles:**
1. **Heretical Risk**: High Rage levels and Capstone use trigger Corruption
2. **Combat Escalation**: Power grows as combat continues through damage taken and dealt
3. **Offense Over Defense**: Trading protection for overwhelming attack capability
4. **Risk-Reward Mechanics**: Maximum power requires accepting vulnerability
5. **Second Heretical Specialization**: Builds upon v0.20.4 Corruption patterns with combat focus

### Heretical Path — Corruption Mechanics

As the second Heretical specialization, the Berserkr expands Corruption patterns with combat-focused triggers:

| Trigger | Corruption Risk |
|---------|-----------------|
| Entering combat at 80+ Rage | +1 Corruption |
| Using abilities while at 80+ Rage | +1 Corruption per ability |
| Using Capstone (Avatar of Destruction) | +2 Corruption |
| Killing a Coherent-aligned creature while enraged | +1 Corruption |

---

## Feature Analysis & Categorization

### From v0.20.x-overview.md — Ability Tier Structure

| Ability | Tier | Type | Complexity | Assigned Phase |
|---------|------|------|------------|----------------|
| Fury Strike | T1 | Attack | Medium | **v0.20.5a** |
| Blood Scent | T1 | Passive | Low | **v0.20.5a** |
| Pain is Fuel | T1 | Passive | Low | **v0.20.5a** |
| Reckless Assault | T2 | Stance | Medium | **v0.20.5b** |
| Unstoppable | T2 | Active | Medium | **v0.20.5b** |
| Intimidating Presence | T2 | Active | Medium | **v0.20.5b** |
| Fury of the Forlorn | T3 | Active | High | **v0.20.5c** |
| Death Defiance | T3 | Passive | Medium | **v0.20.5c** |
| Avatar of Destruction | Cap | Ultimate | High | **v0.20.5c** |

### From v0.20.x-overview.md — Special Resource

| Feature | Complexity | Dependencies | Assigned Phase |
|---------|------------|--------------|----------------|
| Rage (Max 100) | Medium | Resource System (Core) | **v0.20.5a** |
| Rage generation (combat) | Medium | Combat System | **v0.20.5a** |
| Rage spending | Low | Ability execution | **v0.20.5a** |
| Rage threshold effects (80+) | High | Combat System | **v0.20.5a** |
| Corruption risk integration | Medium | CorruptionService (v0.18.x), v0.20.4 patterns | **v0.20.5a** |

---

## Phase Definitions

---

## v0.20.5a: Framework & Tier 1 Abilities

[v0.20.5a Design Specification](v0.20.5a-design-specification.md)

### Overview

This phase establishes the Berserkr specialization framework including the Rage special resource, high-Rage Corruption risk integration, and implements the three Tier 1 abilities that define the core berserker identity of escalating combat fury.

### Scope

**In Scope:**
- `BerserkrSpecialization` registration with v0.17.4 framework
- `RageResource` special resource implementation
- Rage generation from combat (damage taken, enemies bloodied)
- Rage threshold mechanics (80+ Rage triggers)
- Corruption risk integration (building on v0.20.4 patterns)
- Fury Strike attack ability (+3d6 damage for 20 Rage)
- Blood Scent passive ability (gain Rage when enemy bloodied)
- Pain is Fuel passive ability (gain Rage when taking damage)
- Ability slot initialization for Berserkr
- Configuration entries in `specializations.json` and `abilities.json`

**Out of Scope:**
- Tier 2 abilities (v0.20.5b)
- Tier 3 abilities and Capstone (v0.20.5c)
- Other specialization implementations (v0.20.6+)

### Key Deliverables

| Type | Count | Details |
|------|-------|---------|
| Domain Value Objects | 4 | `RageResource`, `RageThreshold`, `BloodiedState`, `FuryStrikeResult` |
| Domain Enums | 3 | `BerserkrAbilityId`, `RageLevel`, `BerserkrCorruptionTrigger` |
| Application Services | 3 | `RageService`, `BerserkrAbilityService`, `BerserkrCorruptionService` |
| Ability Implementations | 3 | Fury Strike, Blood Scent, Pain is Fuel |
| Configuration | 2 | `specializations.json` updates, `abilities.json` updates |
| Unit Tests | ~10 | |

### Data Model Changes

```
NEW: RageResource (Value Object)
├── CurrentRage: int (0-100)
├── MaxRage: int (default 100)
├── LastGainedAt: DateTime?
├── GainSource: string?
├── IsEnraged: bool (computed: CurrentRage >= 80)
└── Methods:
    ├── Spend(int amount): bool
    ├── Gain(int amount, string source): void
    ├── GainFromDamage(int damageReceived): void
    ├── GainFromBloodied(): void
    ├── GetCurrentValue(): int
    ├── IsAtThreshold(RageLevel level): bool
    └── DecayOutOfCombat(): void

NEW: RageThreshold (Value Object)
├── Level: RageLevel
├── MinimumRage: int
├── EffectDescription: string
├── CorruptionRisk: int
└── Methods:
    ├── IsMet(int currentRage): bool
    ├── GetDescription(): string
    └── GetCorruptionWarning(): string

NEW: BloodiedState (Value Object)
├── TargetId: Guid
├── TargetName: string
├── CurrentHp: int
├── MaxHp: int
├── IsBloodied: bool (computed: CurrentHp <= MaxHp / 2)
├── BloodiedAt: DateTime?
└── Methods:
    ├── CheckBloodied(): bool
    ├── WasJustBloodied(int previousHp): bool
    └── GetBloodiedPercentage(): float

NEW: FuryStrikeResult (Value Object)
├── AttackRoll: int
├── BaseDamage: int
├── FuryDamage: int (3d6)
├── TotalDamage: int
├── RageSpent: int (20)
├── WasCritical: bool
├── CorruptionTriggered: bool
├── CorruptionReason: string?
└── Methods:
    ├── GetDamageBreakdown(): string
    └── IsCritical(): bool

NEW: RageLevel (Enum)
├── Calm - 0-19 Rage, no special effects
├── Irritated - 20-39 Rage, minor bonuses
├── Angry - 40-59 Rage, moderate bonuses
├── Furious - 60-79 Rage, significant bonuses
├── Enraged - 80-99 Rage, maximum power, Corruption risk
└── Berserk - 100 Rage, Capstone available

NEW: BerserkrAbilityId (Enum)
├── FuryStrike
├── BloodScent
├── PainIsFuel
├── RecklessAssault
├── Unstoppable
├── IntimidatingPresence
├── FuryOfTheForlorn
├── DeathDefiance
└── AvatarOfDestruction

NEW: BerserkrCorruptionTrigger (Enum)
├── EnterCombatEnraged - Starting combat at 80+ Rage
├── AbilityWhileEnraged - Using ability at 80+ Rage
├── CapstoneActivation - Using Avatar of Destruction
├── KillCoherentEnraged - Killing Coherent target while at 80+ Rage
└── SustainedRage - Remaining at 100 Rage for extended period

MODIFY: Character (Entity)
├── ADD: Rage: RageResource?
├── ADD: IsEnraged: bool (computed from Rage)
├── ADD: RageLevel: RageLevel (computed from Rage)
├── ADD: BerserkrState: BerserkrState?
└── ADD: HasDeathDefianceTriggered: bool
```

### Tier 1 Ability Specifications

#### Fury Strike (Attack)

| Property | Value |
|----------|-------|
| **ID** | `fury-strike` |
| **Type** | Attack |
| **AP Cost** | 2 AP |
| **Rage Cost** | 20 |
| **Effect** | Attack deals +3d6 damage |
| **Corruption Risk** | +1 if at 80+ Rage |

**Mechanics:**
- Make a melee weapon attack
- Deals weapon damage + 3d6 fury damage
- Fury damage is untyped (raw physical force)
- Cannot be used if Rage is below 20
- On critical hit, additional +1d6 fury damage
- If used while at 80+ Rage, triggers Corruption check

**Damage Calculation:**
| Component | Damage |
|-----------|--------|
| Base Weapon | Weapon damage |
| Fury Bonus | +3d6 |
| Critical Bonus | +1d6 |
| Total | Weapon + 3d6 (+ 1d6 on crit) |

**Rage Level Effects on Fury Strike:**
| Rage Level | Bonus Effect |
|------------|--------------|
| Calm (0-19) | Cannot use (insufficient Rage) |
| Irritated (20-39) | Standard effect |
| Angry (40-59) | Standard effect |
| Furious (60-79) | Standard effect |
| Enraged (80-99) | Standard effect + Corruption risk |
| Berserk (100) | Standard effect + Corruption risk |

#### Blood Scent (Passive)

| Property | Value |
|----------|-------|
| **ID** | `blood-scent` |
| **Type** | Passive |
| **Effect** | Gain 10 Rage when enemy is bloodied |
| **Corruption Risk** | None (passive ability) |

**Mechanics:**
- When any enemy within line of sight becomes bloodied (drops to 50% HP or below)
- Automatically gain 10 Rage
- Can trigger multiple times per combat (once per enemy bloodied)
- Triggers on any damage source (not just Berserkr's attacks)
- Also grants +1 to next attack roll against bloodied target

**Trigger Conditions:**
| Condition | Triggers? |
|-----------|-----------|
| Enemy drops to exactly 50% HP | Yes |
| Enemy drops below 50% HP | Yes |
| Enemy already bloodied takes more damage | No (already triggered) |
| Ally bloodies an enemy | Yes (within line of sight) |
| Enemy heals above 50% then drops again | Yes (new trigger) |

#### Pain is Fuel (Passive)

| Property | Value |
|----------|-------|
| **ID** | `pain-is-fuel` |
| **Type** | Passive |
| **Effect** | Gain 5 Rage when taking damage |
| **Corruption Risk** | None (passive ability) |

**Mechanics:**
- When the Berserkr takes damage from any source
- Gain 5 Rage per instance of damage (not per point of damage)
- Triggers even on 0 damage if attack hit (absorbed by armor)
- Does not trigger on self-inflicted damage
- Has no cap on triggers per turn

**Rage Gain by Damage:**
| Damage Taken | Rage Gained |
|--------------|-------------|
| 1-10 | 5 |
| 11-20 | 5 |
| 21+ | 5 |
| Self-inflicted | 0 |
| Absorbed (0 damage) | 5 (attack still hit) |

### User-Facing Changes

**Commands:**
```
> ability fury-strike <target>   # Powerful melee attack
> status                         # Shows Rage: 45/100
> rage                           # Show detailed Rage status
```

**Output Example:**
```
╔══════════════════════════════════════════════════════════════╗
║  BERSERKR - Bjorn Ironhide                                   ║
╠══════════════════════════════════════════════════════════════╣
║  HP: 35/45    Defense: 12    AP: 6/6                         ║
║  Rage: ████████████████████████░░░░░░░░░░░░░░░░░░ 45/100     ║
║  Rage Level: [ANGRY]                                         ║
║  Corruption: ░░░░░░░░░░ 0/10                                 ║
║                                                              ║
║  [Blood Scent] Ready - Watching for bloodied enemies         ║
║  [Pain is Fuel] Active - Rage grows with each wound          ║
║                                                              ║
║  [HERETICAL] High Rage (80+) risks Corruption                ║
╚══════════════════════════════════════════════════════════════╝

You take 8 damage from Draugr Warrior!
[Pain is Fuel] The pain feeds your fury. Rage: 45 → 50/100

> fury-strike Draugr Warrior

You channel your rage into a devastating blow!
Attack Roll: 18 (Hit!)
Damage: 7 (weapon) + 12 (3d6 fury) = 19 total damage
Rage: 50 → 30/100 (-20)

The Draugr Warrior is bloodied!
[Blood Scent] The scent of blood drives you onward. Rage: 30 → 40/100
```

### Acceptance Criteria

- [ ] Berserkr specialization registered in SpecializationDefinition
- [ ] Rage initializes to 0/100 on character creation/selection
- [ ] Rage generates when taking damage (5 per hit via Pain is Fuel)
- [ ] Rage generates when enemies are bloodied (10 via Blood Scent)
- [ ] Fury Strike costs 20 Rage and deals +3d6 damage
- [ ] Fury Strike fails if Rage < 20
- [ ] Corruption check triggered when using abilities at 80+ Rage
- [ ] Rage level correctly computed from current Rage
- [ ] Heretical path Corruption integration functional (using v0.20.4 patterns)
- [ ] Ability slots correctly show Tier 1 abilities as unlocked
- [ ] ~10 unit tests pass

---

## v0.20.5b: Tier 2 Abilities

[v0.20.5b Design Specification](v0.20.5b-design-specification.md)

### Overview

This phase implements the three Tier 2 abilities that expand the Berserkr's combat options with an offensive stance, movement enhancement, and battlefield intimidation.

### Scope

**In Scope:**
- Reckless Assault stance ability (+4 Attack, -2 Defense)
- Unstoppable active ability (ignore movement penalties)
- Intimidating Presence active ability (enemies -2 Attack)
- Tier 2 unlock validation (requires 8 PP invested in tree)
- PP cost enforcement (4 PP per Tier 2 ability)
- Enhanced Corruption mechanics for high-Rage combat

**Out of Scope:**
- Tier 3 abilities and Capstone (v0.20.5c)
- Rage mechanics modifications (established in v0.20.5a)

### Key Deliverables

| Type | Count | Details |
|------|-------|---------|
| Domain Value Objects | 3 | `RecklessAssaultState`, `UnstoppableEffect`, `IntimidationEffect` |
| Domain Enums | 1 | `MovementPenaltyType` |
| Ability Implementations | 3 | Reckless Assault, Unstoppable, Intimidating Presence |
| Combat Integration | 2 | Attack/Defense modifiers, Fear effects |
| Unit Tests | ~8 | |

### Tier 2 Ability Specifications

#### Reckless Assault (Stance)

| Property | Value |
|----------|-------|
| **ID** | `reckless-assault` |
| **Type** | Stance |
| **AP Cost** | 1 AP to enter |
| **Rage Cost** | 0 (no cost to maintain) |
| **Effect** | +4 Attack, -2 Defense |
| **PP Cost** | 4 PP to unlock |
| **Prerequisite** | 8 PP invested in Berserkr tree |
| **Corruption Risk** | +1 if stance maintained while at 80+ Rage (per turn) |

**Mechanics:**
- While active, gain +4 to all attack rolls
- While active, suffer -2 to Defense
- No Rage cost to enter or maintain
- Can be ended as a free action
- Grants additional +1 Attack per 20 Rage (max +5 additional at 100)
- If at 80+ Rage while in stance, Corruption risk per turn

**Attack Bonus by Rage:**
| Rage Level | Base Bonus | Rage Bonus | Total Attack |
|------------|------------|------------|--------------|
| 0-19 | +4 | +0 | +4 |
| 20-39 | +4 | +1 | +5 |
| 40-59 | +4 | +2 | +6 |
| 60-79 | +4 | +3 | +7 |
| 80-99 | +4 | +4 | +8 |
| 100 | +4 | +5 | +9 |

#### Unstoppable (Active)

| Property | Value |
|----------|-------|
| **ID** | `unstoppable` |
| **Type** | Active |
| **AP Cost** | 1 AP |
| **Rage Cost** | 15 |
| **Duration** | 2 turns |
| **Effect** | Ignore movement penalties |
| **PP Cost** | 4 PP to unlock |
| **Prerequisite** | 8 PP invested in Berserkr tree |
| **Corruption Risk** | +1 if activated at 80+ Rage |

**Mechanics:**
- For 2 turns, ignore all movement penalties
- Includes difficult terrain, slow effects, root attempts (can still move)
- Does not prevent being rooted by abilities that succeed (but can break out)
- Movement speed unchanged (just ignore penalties)
- Can charge through difficult terrain without penalty
- Gain advantage on saves to resist forced movement

**Movement Penalties Ignored:**
| Penalty Type | Effect |
|--------------|--------|
| Difficult Terrain | Move at full speed |
| Slow Status | Ignore speed reduction |
| Root Attempt | Advantage on save to resist |
| Mud/Water | Move at full speed |
| Entanglement | Advantage on save to escape |

#### Intimidating Presence (Active)

| Property | Value |
|----------|-------|
| **ID** | `intimidating-presence` |
| **Type** | Active |
| **AP Cost** | 2 AP |
| **Rage Cost** | 10 |
| **Range** | 4 spaces (all enemies) |
| **Duration** | 3 turns |
| **Effect** | Enemies must save or suffer -2 Attack |
| **Save DC** | 12 + (Rage / 20) |
| **PP Cost** | 4 PP to unlock |
| **Prerequisite** | 8 PP invested in Berserkr tree |
| **Corruption Risk** | +1 if target is Coherent-aligned |

**Mechanics:**
- All enemies within 4 spaces must make a Will save
- Save DC increases with current Rage (12 base + 1 per 20 Rage)
- On failed save, enemies suffer -2 to Attack rolls for 3 turns
- Enemies that save are immune to Intimidating Presence for 24 hours
- Effect is Fear-based (immunity to Fear negates)
- Mindless creatures are immune

**Save DC by Rage:**
| Rage Level | Base DC | Rage Modifier | Total DC |
|------------|---------|---------------|----------|
| 0-19 | 12 | +0 | 12 |
| 20-39 | 12 | +1 | 13 |
| 40-59 | 12 | +2 | 14 |
| 60-79 | 12 | +3 | 15 |
| 80-99 | 12 | +4 | 16 |
| 100 | 12 | +5 | 17 |

### Data Model Changes

```
NEW: RecklessAssaultState (Value Object)
├── StateId: Guid
├── CharacterId: Guid
├── StartedAt: DateTime
├── AttackBonus: int (computed: 4 + Rage/20)
├── DefensePenalty: int (-2)
├── TurnsActive: int
├── CorruptionAccrued: int
└── Methods:
    ├── GetCurrentAttackBonus(int currentRage): int
    ├── Tick(): void
    ├── End(): void
    └── IsActive(): bool

NEW: UnstoppableEffect (Value Object)
├── EffectId: Guid
├── CharacterId: Guid
├── StartedAt: DateTime
├── TurnsRemaining: int (2)
├── MovementPenaltiesIgnored: IReadOnlyList<MovementPenaltyType>
└── Methods:
    ├── Tick(): void
    ├── IsActive(): bool
    ├── IgnoresPenalty(MovementPenaltyType penalty): bool
    └── GetDescription(): string

NEW: IntimidationEffect (Value Object)
├── EffectId: Guid
├── CasterId: Guid
├── TargetId: Guid
├── SaveDc: int
├── SaveResult: int?
├── DidSave: bool
├── TurnsRemaining: int (3)
├── AttackPenalty: int (-2)
├── ImmuneUntil: DateTime? (if saved)
└── Methods:
    ├── ApplySaveResult(int roll): void
    ├── Tick(): void
    ├── IsActive(): bool
    └── GetDescription(): string

NEW: MovementPenaltyType (Enum)
├── DifficultTerrain - Rough ground, debris
├── Slow - Speed reduction effect
├── Root - Immobilization attempt
├── Water - Wading through water
├── Entangle - Vines, webs, etc.
└── ForcedMovement - Push, pull effects
```

### Acceptance Criteria

- [ ] Tier 2 abilities locked until 8 PP invested in tree
- [ ] Each Tier 2 ability costs 4 PP to unlock
- [ ] Reckless Assault grants +4 Attack and -2 Defense
- [ ] Reckless Assault Attack bonus scales with Rage
- [ ] Unstoppable ignores movement penalties for 2 turns
- [ ] Unstoppable grants advantage on forced movement saves
- [ ] Intimidating Presence affects all enemies within 4 spaces
- [ ] Intimidating Presence save DC scales with Rage
- [ ] Intimidating Presence -2 Attack penalty lasts 3 turns
- [ ] Corruption triggers appropriately at 80+ Rage
- [ ] ~8 unit tests pass

---

## v0.20.5c: Tier 3 Abilities & Capstone

[v0.20.5c Design Specification](v0.20.5c-design-specification.md)

### Overview

This phase implements the two Tier 3 abilities and the Capstone ultimate that represent the pinnacle of berserker fury, including cleave attacks at high Rage, cheating death, and the devastating Avatar of Destruction transformation.

### Scope

**In Scope:**
- Fury of the Forlorn active ability (attacks hit all adjacent at 80+ Rage)
- Death Defiance passive ability (stay at 1 HP once per combat)
- Avatar of Destruction ultimate ability (100 Rage: double damage, immune to CC)
- Tier 3 unlock validation (requires 16 PP invested in tree)
- Capstone unlock validation (requires 24 PP invested in tree)
- PP cost enforcement (5 PP per Tier 3, 6 PP for Capstone)
- Enhanced Corruption mechanics for Capstone

**Out of Scope:**
- Other specialization implementations (v0.20.6+)
- Bone-Setter (v0.20.6)

### Key Deliverables

| Type | Count | Details |
|------|-------|---------|
| Domain Value Objects | 3 | `FuryCleavesResult`, `DeathDefianceState`, `AvatarState` |
| Domain Enums | 1 | `CrowdControlType` |
| Ability Implementations | 3 | Fury of the Forlorn, Death Defiance, Avatar of Destruction |
| Combat Integration | 2 | Cleave mechanics, CC immunity |
| Unit Tests | ~7 | |

### Tier 3 & Capstone Ability Specifications

#### Fury of the Forlorn (Active)

| Property | Value |
|----------|-------|
| **ID** | `fury-of-the-forlorn` |
| **Type** | Active |
| **AP Cost** | 3 AP |
| **Rage Cost** | 30 |
| **Rage Requirement** | 80+ Rage to use |
| **Effect** | Melee attack hits all adjacent enemies |
| **PP Cost** | 5 PP to unlock |
| **Prerequisite** | 16 PP invested in Berserkr tree |
| **Corruption Risk** | +1 (always triggers, requires 80+ Rage) |

**Mechanics:**
- Can only be used when Rage is 80 or higher
- Make a single melee attack roll
- Attack applies to all enemies in adjacent spaces (up to 8)
- Each enemy uses their own Defense against the attack roll
- Damage is rolled once and applied to all hit targets
- Costs 30 Rage and always triggers Corruption (requires 80+ Rage state)
- Does not provoke opportunity attacks during the sweep

**Cleave Mechanics:**
| Component | Value |
|-----------|-------|
| Attack Roll | Single roll vs all |
| Damage Roll | Single roll vs all hit |
| Adjacent Spaces | Up to 8 targets |
| Rage Requirement | 80+ |
| Corruption | Always +1 |

**Area Coverage:**
```
    [E] [E] [E]
    [E] [B] [E]
    [E] [E] [E]

B = Berserkr
E = Adjacent enemy (potential target)
```

#### Death Defiance (Passive)

| Property | Value |
|----------|-------|
| **ID** | `death-defiance` |
| **Type** | Passive |
| **Effect** | When reduced to 0 HP, stay at 1 HP instead |
| **Limit** | Once per combat |
| **PP Cost** | 5 PP to unlock |
| **Prerequisite** | 16 PP invested in Berserkr tree |
| **Corruption Risk** | None (survival instinct, not dark power) |

**Mechanics:**
- When damage would reduce HP to 0 or below, stay at 1 HP instead
- Triggers automatically (no action required)
- Can only trigger once per combat encounter
- Resets after combat ends (short or long rest)
- Also grants 20 Rage when triggered (desperation fuels fury)
- Does not prevent effects that kill outright (e.g., instant death)

**Trigger Conditions:**
| Damage Scenario | Result |
|-----------------|--------|
| HP 10 → would be -5 | HP becomes 1 |
| HP 1 → would be 0 | HP stays at 1 |
| Already triggered this combat | Normal damage (may die) |
| Instant death effect | Not prevented |
| Massive damage (2x max HP) | May be ruled as instant death |

#### Avatar of Destruction (Ultimate/Capstone)

| Property | Value |
|----------|-------|
| **ID** | `avatar-of-destruction` |
| **Type** | Ultimate |
| **AP Cost** | 3 AP |
| **Rage Requirement** | 100 Rage (consumes all) |
| **Duration** | 2 turns |
| **Effect** | Double damage, immune to crowd control |
| **Cooldown** | Once per combat |
| **PP Cost** | 6 PP to unlock |
| **Prerequisite** | 24 PP invested in Berserkr tree |
| **Corruption Risk** | +2 (always triggers) |

**Mechanics:**
- Requires exactly 100 Rage to activate (consumes all Rage)
- For 2 turns, all damage dealt is doubled
- Immune to all crowd control effects (stun, root, fear, charm, etc.)
- Cannot be knocked prone or pushed
- Move speed increased by 2 spaces per turn
- At end of duration, gain Exhausted condition (disadvantage on all rolls for 1 turn)
- Cannot use Fury Strike while Avatar is active (Rage is 0)

**Avatar State Effects:**
| Effect | Description |
|--------|-------------|
| Double Damage | All damage multiplied by 2 |
| CC Immunity | Immune to stun, root, fear, charm, paralyze |
| Knockdown Immunity | Cannot be knocked prone |
| Push Immunity | Cannot be forcibly moved |
| Movement Bonus | +2 spaces per turn |
| Corruption | +2 (always) |
| Exhaustion | 1 turn after Avatar ends |

**Crowd Control Immunity List:**
| CC Type | Immune? |
|---------|---------|
| Stun | Yes |
| Root | Yes |
| Fear | Yes |
| Charm | Yes |
| Paralyze | Yes |
| Slow | Yes |
| Prone | Yes (can't be knocked down) |
| Forced Movement | Yes |
| Sleep | Yes |
| Confusion | Yes |

### Data Model Changes

```
NEW: FuryCleavesResult (Value Object)
├── AttackRoll: int
├── TargetsHit: IReadOnlyList<Guid>
├── TargetsMissed: IReadOnlyList<Guid>
├── DamageDealt: int
├── TotalDamageAcrossTargets: int
├── RageSpent: int (30)
├── CorruptionTriggered: bool (always true)
└── Methods:
    ├── GetHitCount(): int
    ├── GetDamageBreakdown(): string
    └── WasEffective(): bool

NEW: DeathDefianceState (Value Object)
├── StateId: Guid
├── CharacterId: Guid
├── HasTriggeredThisCombat: bool
├── TriggeredAt: DateTime?
├── DamagePreventedOnTrigger: int
├── RageGainedOnTrigger: int (20)
└── Methods:
    ├── Trigger(int damageWouldHaveCaused): void
    ├── ResetForNewCombat(): void
    ├── CanTrigger(): bool
    └── GetDescription(): string

NEW: AvatarState (Value Object)
├── StateId: Guid
├── CharacterId: Guid
├── StartedAt: DateTime
├── TurnsRemaining: int (2)
├── DamageMultiplier: float (2.0)
├── MovementBonus: int (2)
├── ImmuneToCrowdControl: bool (true)
├── CorruptionGenerated: int (2)
├── WillCauseExhaustion: bool (true)
└── Methods:
    ├── Tick(): void
    ├── End(): void
    ├── IsActive(): bool
    ├── GetDamageMultiplier(): float
    ├── IsImmuneToCC(CrowdControlType ccType): bool
    └── GetDescription(): string

NEW: CrowdControlType (Enum)
├── Stun - Cannot act
├── Root - Cannot move
├── Fear - Must flee
├── Charm - Attacks altered
├── Paralyze - Cannot act or move
├── Slow - Movement reduced
├── Prone - Knocked down
├── ForcedMovement - Push/pull effects
├── Sleep - Unconscious
└── Confusion - Random actions
```

### Acceptance Criteria

- [ ] Tier 3 abilities locked until 16 PP invested in tree
- [ ] Capstone locked until 24 PP invested in tree
- [ ] Tier 3 abilities cost 5 PP each to unlock
- [ ] Capstone costs 6 PP to unlock
- [ ] Fury of the Forlorn requires 80+ Rage to use
- [ ] Fury of the Forlorn hits all adjacent enemies
- [ ] Fury of the Forlorn always triggers +1 Corruption
- [ ] Death Defiance prevents death once per combat
- [ ] Death Defiance grants 20 Rage when triggered
- [ ] Avatar of Destruction requires exactly 100 Rage
- [ ] Avatar of Destruction doubles all damage for 2 turns
- [ ] Avatar of Destruction grants CC immunity
- [ ] Avatar of Destruction always triggers +2 Corruption
- [ ] Avatar of Destruction causes Exhausted after ending
- [ ] ~7 unit tests pass

---

## Dependencies & Prerequisites

```
v0.17.3 (Archetype System) - REQUIRED
    │
    └── Warrior archetype foundation
                                    │
                                    ▼
v0.17.4 (Specialization Framework) - REQUIRED
    │
    ├── SpecializationDefinition entity
    ├── SpecializationPathType enum (includes Heretical)
    ├── SpecializationId enum (includes Berserkr)
    ├── SpecialResourceDefinition
    └── Tier unlock mechanics (8/16/24 PP)
                                    │
                                    ▼
v0.18.x (Corruption System) - REQUIRED
    │
    ├── CorruptionService
    ├── Corruption tracking
    ├── Corruption thresholds
    └── Corruption effects
                                    │
                                    ▼
v0.20.0 (Legacy Class Removal) - REQUIRED
    │
    ├── IAbilitySlotService
    ├── ISpecializationPrerequisiteService
    └── Migration infrastructure
                                    │
                                    ▼
v0.20.1-v0.20.3 (Prior Specializations) - REQUIRED
    │
    └── Establish specialization ability patterns
                                    │
                                    ▼
v0.20.4 (Myrk-gengr) - REQUIRED
    │
    ├── Heretical Corruption patterns
    ├── IShadowCorruptionService pattern → IBerserkrCorruptionService
    └── Corruption trigger table patterns
                                    │
                                    ▼
v0.20.5 (Berserkr)
    │
    ├── v0.20.5a: Framework & Tier 1 ──────────────────┐
    │       ├── RageResource                           │
    │       ├── Corruption integration (WARRIOR PATH)  │
    │       ├── Fury Strike                            │
    │       ├── Blood Scent                            │
    │       └── Pain is Fuel                           │
    │                                                  │
    ├── v0.20.5b: Tier 2 Abilities ───────────────────┤
    │       Dependencies: v0.20.5a                     │
    │       ├── Reckless Assault                       │
    │       ├── Unstoppable                            │
    │       └── Intimidating Presence                  │
    │                                                  │
    └── v0.20.5c: Tier 3 & Capstone ──────────────────┘
            Dependencies: v0.20.5a, v0.20.5b
            ├── Fury of the Forlorn
            ├── Death Defiance
            └── Avatar of Destruction
```

---

## Rage Resource

### Resource Specification

```csharp
/// <summary>
/// Special resource for Berserkr specialization.
/// Rage builds through combat and powers devastating abilities.
/// </summary>
public sealed record RageResource
{
    /// <summary>Current Rage points (0-100).</summary>
    public int CurrentRage { get; private set; }

    /// <summary>Maximum Rage (default 100).</summary>
    public int MaxRage { get; init; } = 100;

    /// <summary>When Rage was last gained.</summary>
    public DateTime? LastGainedAt { get; private set; }

    /// <summary>Source of last Rage gain.</summary>
    public string? GainSource { get; private set; }

    /// <summary>True if Rage is 80 or higher (Corruption risk threshold).</summary>
    public bool IsEnraged => CurrentRage >= 80;

    /// <summary>
    /// Spends the specified amount of Rage.
    /// </summary>
    /// <returns>True if Rage was available and spent.</returns>
    public bool Spend(int amount)
    {
        if (amount <= 0 || CurrentRage < amount)
            return false;

        CurrentRage -= amount;
        return true;
    }

    /// <summary>
    /// Gains the specified amount of Rage.
    /// </summary>
    public void Gain(int amount, string source)
    {
        CurrentRage = Math.Min(CurrentRage + amount, MaxRage);
        LastGainedAt = DateTime.UtcNow;
        GainSource = source;
    }

    /// <summary>
    /// Gains Rage from taking damage (Pain is Fuel).
    /// </summary>
    public void GainFromDamage(int damageReceived)
    {
        if (damageReceived >= 0) // 0 damage still triggers if hit landed
            Gain(5, "Pain is Fuel");
    }

    /// <summary>
    /// Gains Rage from an enemy being bloodied (Blood Scent).
    /// </summary>
    public void GainFromBloodied()
    {
        Gain(10, "Blood Scent");
    }

    /// <summary>
    /// Gets the current Rage level classification.
    /// </summary>
    public RageLevel GetRageLevel()
    {
        return CurrentRage switch
        {
            100 => RageLevel.Berserk,
            >= 80 => RageLevel.Enraged,
            >= 60 => RageLevel.Furious,
            >= 40 => RageLevel.Angry,
            >= 20 => RageLevel.Irritated,
            _ => RageLevel.Calm
        };
    }

    /// <summary>
    /// Rage decays out of combat.
    /// </summary>
    public void DecayOutOfCombat()
    {
        CurrentRage = Math.Max(0, CurrentRage - 10);
    }
}
```

### Resource Generation & Consumption

| Action | Effect |
|--------|--------|
| Take damage (any amount) | Gain 5 Rage (Pain is Fuel) |
| Enemy becomes bloodied | Gain 10 Rage (Blood Scent) |
| Death Defiance triggers | Gain 20 Rage |
| Start of combat | No automatic gain |
| Out of combat (per minute) | Lose 10 Rage (decay) |
| Rest (short) | Rage resets to 0 |
| Rest (long) | Rage resets to 0 |
| Fury Strike (Tier 1) | Spend 20 Rage |
| Unstoppable (Tier 2) | Spend 15 Rage |
| Intimidating Presence (Tier 2) | Spend 10 Rage |
| Fury of the Forlorn (Tier 3) | Spend 30 Rage |
| Avatar of Destruction (Capstone) | Spend all (requires 100) |

---

## Corruption Integration

### Heretical Path Mechanics

As the second Heretical specialization, Berserkr extends Corruption patterns with combat-focused triggers:

```csharp
/// <summary>
/// Service for handling Berserkr Corruption risks.
/// </summary>
public interface IBerserkrCorruptionService
{
    /// <summary>
    /// Evaluates Corruption risk for a Berserkr ability.
    /// </summary>
    CorruptionRiskResult EvaluateRisk(
        BerserkrAbilityId ability,
        int currentRage,
        bool targetIsCoherent = false);

    /// <summary>
    /// Applies Corruption from a Berserkr ability use.
    /// </summary>
    void ApplyCorruption(Guid characterId, CorruptionRiskResult risk);

    /// <summary>
    /// Checks if entering combat at current Rage triggers Corruption.
    /// </summary>
    CorruptionRiskResult CheckCombatEntryRisk(int currentRage);
}
```

### Corruption Trigger Table

| Ability | Base Risk | At 80+ Rage | Coherent Target | Max Corruption |
|---------|-----------|-------------|-----------------|----------------|
| Fury Strike | 0 | +1 | N/A | 1 |
| Blood Scent | 0 | N/A (passive) | N/A | 0 |
| Pain is Fuel | 0 | N/A (passive) | N/A | 0 |
| Reckless Assault | 0/turn | +1/turn | N/A | 1/turn |
| Unstoppable | 0 | +1 | N/A | 1 |
| Intimidating Presence | 0 | +1 | +1 | 2 |
| Fury of the Forlorn | +1 | N/A (requires 80+) | N/A | 1 |
| Death Defiance | 0 | N/A (passive) | N/A | 0 |
| Avatar of Destruction | +2 | N/A (requires 100) | N/A | 2 |

### Combat Entry Corruption

| Rage at Combat Start | Corruption Risk |
|---------------------|-----------------|
| 0-79 | None |
| 80-99 | +1 |
| 100 | +1 |

---

## Configuration Updates

### specializations.json

```json
{
  "specializations": [
    {
      "specializationId": "Berserkr",
      "displayName": "Berserkr",
      "tagline": "Clarity Through Fury",
      "description": "The Berserkr has surrendered to the primal fury that lurks within every survivor of Aethelgard. Their power is drawn from a dark wellspring — the collective anguish of the World-Machine's victims. This connection grants tremendous destructive capability but risks consuming the berserker entirely.",
      "selectionText": "The rage is not madness. The rage is clarity. Let the fury flow through you.",
      "parentArchetype": "Warrior",
      "pathType": "Heretical",
      "corruptionRisk": {
        "highRageAbility": 1,
        "coherentTarget": 1,
        "capstoneUse": 2,
        "combatEntryEnraged": 1
      },
      "specialResource": {
        "resourceId": "rage",
        "resourceName": "Rage",
        "description": "Fury drawn from combat. Builds when taking damage or witnessing bloodshed. Powers devastating attacks and transformations.",
        "maxValue": 100,
        "startingValue": 0,
        "generationMethod": "Gain 5 when taking damage (Pain is Fuel), gain 10 when enemy bloodied (Blood Scent)",
        "consumptionMethod": "Spent by fury abilities, decays out of combat"
      },
      "unlockCost": 0,
      "abilityTiers": [
        {
          "tier": 1,
          "ppRequirement": 0,
          "abilityCost": 0,
          "abilities": ["fury-strike", "blood-scent", "pain-is-fuel"]
        },
        {
          "tier": 2,
          "ppRequirement": 8,
          "abilityCost": 4,
          "abilities": ["reckless-assault", "unstoppable", "intimidating-presence"]
        },
        {
          "tier": 3,
          "ppRequirement": 16,
          "abilityCost": 5,
          "abilities": ["fury-of-the-forlorn", "death-defiance"]
        },
        {
          "tier": "capstone",
          "ppRequirement": 24,
          "abilityCost": 6,
          "abilities": ["avatar-of-destruction"]
        }
      ]
    }
  ]
}
```

### abilities.json (Berserkr Section)

```json
{
  "abilities": [
    {
      "abilityId": "fury-strike",
      "displayName": "Fury Strike",
      "specializationId": "Berserkr",
      "tier": 1,
      "type": "Attack",
      "apCost": 2,
      "resourceCost": {
        "resourceId": "rage",
        "amount": 20
      },
      "description": "Channel your rage into a devastating melee attack. Deals weapon damage +3d6 fury damage. On critical hit, additional +1d6.",
      "requirements": {
        "minimumRage": 20
      },
      "effects": [
        {
          "type": "WeaponAttack"
        },
        {
          "type": "BonusDamage",
          "dice": "3d6",
          "damageType": "Physical"
        },
        {
          "type": "CriticalBonusDamage",
          "dice": "1d6",
          "damageType": "Physical"
        }
      ],
      "corruptionRisk": {
        "trigger": "AtEnragedLevel",
        "amount": 1
      }
    },
    {
      "abilityId": "blood-scent",
      "displayName": "Blood Scent",
      "specializationId": "Berserkr",
      "tier": 1,
      "type": "Passive",
      "description": "The scent of blood drives your fury. Gain 10 Rage whenever an enemy within line of sight becomes bloodied (drops to 50% HP or below). Also grants +1 to attack rolls against bloodied targets.",
      "effects": [
        {
          "type": "OnEnemyBloodied",
          "rageGain": 10
        },
        {
          "type": "AttackBonus",
          "condition": "TargetIsBloodied",
          "value": 1
        }
      ]
    },
    {
      "abilityId": "pain-is-fuel",
      "displayName": "Pain is Fuel",
      "specializationId": "Berserkr",
      "tier": 1,
      "type": "Passive",
      "description": "Every wound feeds your fury. Gain 5 Rage whenever you take damage from any source.",
      "effects": [
        {
          "type": "OnDamageTaken",
          "rageGain": 5,
          "excludeSelfInflicted": true
        }
      ]
    },
    {
      "abilityId": "reckless-assault",
      "displayName": "Reckless Assault",
      "specializationId": "Berserkr",
      "tier": 2,
      "type": "Stance",
      "apCost": 1,
      "description": "Enter a stance of reckless aggression. Gain +4 Attack but suffer -2 Defense. Attack bonus increases by +1 per 20 Rage (max +9 at 100 Rage).",
      "effects": [
        {
          "type": "AttackBonus",
          "value": 4,
          "scaling": {
            "per": 20,
            "resource": "rage",
            "bonus": 1,
            "max": 5
          }
        },
        {
          "type": "DefensePenalty",
          "value": -2
        }
      ],
      "corruptionRisk": {
        "trigger": "MaintainedAtEnragedLevel",
        "amount": 1,
        "recurring": true
      }
    },
    {
      "abilityId": "unstoppable",
      "displayName": "Unstoppable",
      "specializationId": "Berserkr",
      "tier": 2,
      "type": "Active",
      "apCost": 1,
      "resourceCost": {
        "resourceId": "rage",
        "amount": 15
      },
      "duration": 2,
      "durationUnit": "Turns",
      "description": "Nothing can slow your advance. For 2 turns, ignore all movement penalties including difficult terrain, slow effects, and root attempts. Gain advantage on saves to resist forced movement.",
      "effects": [
        {
          "type": "IgnoreMovementPenalties"
        },
        {
          "type": "SaveAdvantage",
          "saveType": "ForcedMovement"
        }
      ],
      "corruptionRisk": {
        "trigger": "ActivatedAtEnragedLevel",
        "amount": 1
      }
    },
    {
      "abilityId": "intimidating-presence",
      "displayName": "Intimidating Presence",
      "specializationId": "Berserkr",
      "tier": 2,
      "type": "Active",
      "apCost": 2,
      "resourceCost": {
        "resourceId": "rage",
        "amount": 10
      },
      "range": 4,
      "rangeUnit": "Spaces",
      "duration": 3,
      "durationUnit": "Turns",
      "description": "Your fury terrifies your enemies. All enemies within 4 spaces must save (DC 12 + Rage/20) or suffer -2 Attack for 3 turns. Enemies that save are immune for 24 hours.",
      "effects": [
        {
          "type": "ForceSave",
          "saveType": "Will",
          "baseDc": 12,
          "dcScaling": {
            "per": 20,
            "resource": "rage",
            "bonus": 1
          },
          "areaType": "Radius",
          "radius": 4
        },
        {
          "type": "OnFailedSave",
          "condition": "AttackPenalty",
          "value": -2,
          "duration": 3
        },
        {
          "type": "OnSuccessfulSave",
          "condition": "Immunity",
          "duration": "24 hours"
        }
      ],
      "immunities": ["Mindless", "FearImmune"],
      "corruptionRisk": {
        "trigger": "TargetIsCoherent",
        "amount": 1
      }
    },
    {
      "abilityId": "fury-of-the-forlorn",
      "displayName": "Fury of the Forlorn",
      "specializationId": "Berserkr",
      "tier": 3,
      "type": "Active",
      "apCost": 3,
      "resourceCost": {
        "resourceId": "rage",
        "amount": 30
      },
      "description": "At the height of fury, your attacks become a whirlwind of destruction. Requires 80+ Rage. Make a single melee attack that hits all adjacent enemies. Damage is rolled once and applied to all hit targets.",
      "requirements": {
        "minimumRage": 80
      },
      "effects": [
        {
          "type": "MeleeAttack",
          "areaType": "Adjacent",
          "singleAttackRoll": true,
          "singleDamageRoll": true
        }
      ],
      "corruptionRisk": {
        "trigger": "Always",
        "amount": 1
      }
    },
    {
      "abilityId": "death-defiance",
      "displayName": "Death Defiance",
      "specializationId": "Berserkr",
      "tier": 3,
      "type": "Passive",
      "description": "Your fury refuses to let you fall. Once per combat, when damage would reduce you to 0 HP, you instead remain at 1 HP. When triggered, gain 20 Rage.",
      "effects": [
        {
          "type": "PreventDeath",
          "usesPerCombat": 1,
          "hpAfterTrigger": 1
        },
        {
          "type": "OnTrigger",
          "rageGain": 20
        }
      ]
    },
    {
      "abilityId": "avatar-of-destruction",
      "displayName": "Avatar of Destruction",
      "specializationId": "Berserkr",
      "tier": "capstone",
      "type": "Ultimate",
      "apCost": 3,
      "resourceCost": {
        "resourceId": "rage",
        "amount": 100,
        "consumeAll": true
      },
      "duration": 2,
      "durationUnit": "Turns",
      "cooldown": "Combat",
      "description": "At maximum fury, become an avatar of pure destruction. Requires 100 Rage (consumes all). For 2 turns, all damage is doubled and you are immune to crowd control. After Avatar ends, you are Exhausted for 1 turn.",
      "requirements": {
        "exactRage": 100
      },
      "effects": [
        {
          "type": "DamageMultiplier",
          "multiplier": 2.0
        },
        {
          "type": "CrowdControlImmunity",
          "immuneTo": ["Stun", "Root", "Fear", "Charm", "Paralyze", "Slow", "Prone", "ForcedMovement", "Sleep", "Confusion"]
        },
        {
          "type": "MovementBonus",
          "value": 2
        },
        {
          "type": "OnEnd",
          "applyCondition": "Exhausted",
          "duration": 1
        }
      ],
      "corruptionRisk": {
        "trigger": "Always",
        "amount": 2
      }
    }
  ]
}
```

---

## Estimated Effort Summary

| Phase | New Files | Modified Files | Est. Tests | Complexity |
|-------|-----------|----------------|------------|------------|
| v0.20.5a | ~8 | ~4 | ~10 | Medium |
| v0.20.5b | ~4 | ~2 | ~8 | Medium |
| v0.20.5c | ~4 | ~2 | ~7 | High |
| **Total** | **~16** | **~8** | **~25** | |

---

## Risk Assessment

| Risk | Impact | Probability | Mitigation |
|------|--------|-------------|------------|
| Rage generation too fast/slow | Medium | Medium | Tune values via testing, make configurable |
| Avatar of Destruction too powerful | High | Medium | Balance via Exhaustion aftermath, strict Rage requirement |
| Death Defiance exploit potential | Medium | Low | Clear once-per-combat tracking, reset on rest |
| Cleave attack performance | Medium | Low | Efficient adjacent-enemy lookup |
| CC immunity edge cases | Medium | Medium | Comprehensive CC type list, clear rules |
| Corruption balance with combat pace | High | Medium | Tune thresholds, test in extended combat |

---

## Design Decisions (Confirmed)

### Rage Resource

| Decision | Value | Notes |
|----------|-------|-------|
| **Max Rage** | 100 | Large pool, requires effort to fill |
| **Generation Method** | Damage + bloodied | Combat-focused, builds naturally |
| **Decay Rate** | 10/minute OOC | Encourages continuous combat |
| **Starting Value** | 0 | Must build up, unlike Shadow Essence |

### Corruption Balance

| Decision | Value | Notes |
|----------|-------|-------|
| **Enraged Threshold** | 80 Rage | High enough to be meaningful |
| **High Rage Penalty** | +1 per ability | Constant risk at peak power |
| **Capstone Penalty** | +2 always | Ultimate power, ultimate cost |
| **Combat Entry Penalty** | +1 at 80+ | Discourages starting fights enraged |

### Ability Balance

| Decision | Value | Notes |
|----------|-------|-------|
| **Fury Strike Damage** | +3d6 | Significant burst for Rage cost |
| **Reckless Attack Bonus** | +4 base, scales | High risk, high reward |
| **Intimidating DC** | 12 + Rage/20 | Scales with fury level |
| **Avatar Duration** | 2 turns | Short but devastating |
| **Avatar Aftermath** | Exhausted 1 turn | Meaningful drawback |

---

## Unit Test Specifications

### v0.20.5a Tests (~10 tests)

#### RageResourceTests.cs

```csharp
[TestFixture]
public class RageResourceTests
{
    [Test]
    public void Create_InitializesWithZeroRage();

    [Test]
    public void Spend_SufficientRage_ReturnsTrue();

    [Test]
    public void Spend_InsufficientRage_ReturnsFalse();

    [Test]
    public void GainFromDamage_AddsCorrectAmount();

    [Test]
    public void GainFromBloodied_AddsTenRage();

    [Test]
    public void IsEnraged_AtEighty_ReturnsTrue();

    [Test]
    public void IsEnraged_BelowEighty_ReturnsFalse();
}
```

#### BerserkrAbilityServiceTests.cs

```csharp
[TestFixture]
public class BerserkrAbilityServiceTests
{
    [Test]
    public void FuryStrike_SufficientRage_DealsExtraDamage();

    [Test]
    public void FuryStrike_InsufficientRage_Fails();

    [Test]
    public void FuryStrike_WhileEnraged_TriggersCorruption();
}
```

### v0.20.5b Tests (~8 tests)

#### Tier2AbilityTests.cs

```csharp
[TestFixture]
public class Tier2AbilityTests
{
    [Test]
    public void RecklessAssault_GrantsAttackBonus();

    [Test]
    public void RecklessAssault_AppliesDefensePenalty();

    [Test]
    public void RecklessAssault_BonusScalesWithRage();

    [Test]
    public void Unstoppable_IgnoresMovementPenalties();

    [Test]
    public void Unstoppable_LastsTwoTurns();

    [Test]
    public void IntimidatingPresence_AffectsEnemiesInRange();

    [Test]
    public void IntimidatingPresence_DcScalesWithRage();

    [Test]
    public void Tier2_LockedUntil8PPInvested();
}
```

### v0.20.5c Tests (~7 tests)

#### Tier3AndCapstoneTests.cs

```csharp
[TestFixture]
public class Tier3AndCapstoneTests
{
    [Test]
    public void FuryOfTheForlorn_RequiresEightyRage();

    [Test]
    public void FuryOfTheForlorn_HitsAllAdjacentEnemies();

    [Test]
    public void FuryOfTheForlorn_AlwaysTriggersCorruption();

    [Test]
    public void DeathDefiance_PreventsDeathOnce();

    [Test]
    public void DeathDefiance_GrantsRageWhenTriggered();

    [Test]
    public void AvatarOfDestruction_RequiresFullRage();

    [Test]
    public void AvatarOfDestruction_DoublesDamage();

    [Test]
    public void AvatarOfDestruction_GrantsCCImmunity();

    [Test]
    public void AvatarOfDestruction_CausesExhaustionAfter();
}
```

---

## Integration Points

### With v0.20.4 Systems

| System | Integration Point |
|--------|-------------------|
| Heretical Corruption patterns | Reuses IShadowCorruptionService pattern |
| Corruption trigger table | Extended for combat-focused triggers |
| Special resource patterns | RageResource follows ShadowEssence pattern |

### With Core Systems

| System | Integration Point |
|--------|-------------------|
| Corruption System (v0.18.x) | Second Heretical specialization integration |
| Combat System | Damage multiplication, cleave attacks |
| Status Effect System | CC immunity, Exhausted condition |
| HP/Damage System | Death prevention, damage tracking |

### Provides to Future Versions

| Provides | Consumer |
|----------|----------|
| Combat-focused Corruption triggers | v0.20.8 Seiðkona (casting-focused) |
| CC immunity patterns | Other transformation abilities |
| Cleave attack mechanics | Future area attacks |
| Death prevention patterns | Other survival abilities |
| Rage-like resource patterns | Future escalating resources |

---

## Deliverable Checklist

### Domain Layer

- [ ] `RageResource` value object
- [ ] `RageThreshold` value object
- [ ] `BloodiedState` value object
- [ ] `FuryStrikeResult` value object
- [ ] `RecklessAssaultState` value object
- [ ] `UnstoppableEffect` value object
- [ ] `IntimidationEffect` value object
- [ ] `FuryCleavesResult` value object
- [ ] `DeathDefianceState` value object
- [ ] `AvatarState` value object
- [ ] `BerserkrAbilityId` enum
- [ ] `RageLevel` enum
- [ ] `BerserkrCorruptionTrigger` enum
- [ ] `MovementPenaltyType` enum
- [ ] `CrowdControlType` enum

### Application Layer

- [ ] `RageService` implementation
- [ ] `BerserkrAbilityService` implementation
- [ ] `BerserkrCorruptionService` implementation
- [ ] Fury Strike ability handler
- [ ] Blood Scent passive integration
- [ ] Pain is Fuel passive integration
- [ ] Reckless Assault stance handler
- [ ] Unstoppable ability handler
- [ ] Intimidating Presence ability handler
- [ ] Fury of the Forlorn ability handler
- [ ] Death Defiance passive integration
- [ ] Avatar of Destruction ability handler

### Infrastructure Layer

- [ ] `specializations.json` Berserkr entry
- [ ] `abilities.json` Berserkr abilities (9 total)

### Tests

- [ ] RageResourceTests.cs (~7 tests)
- [ ] BerserkrAbilityServiceTests.cs (~3 tests)
- [ ] Tier2AbilityTests.cs (~8 tests)
- [ ] Tier3AndCapstoneTests.cs (~7 tests)

---

## Next Steps

1. **Review & Approve** - Confirm scope breakdown with stakeholders
2. **v0.20.5a Design Spec** - Create detailed design specification for Tier 1
3. **Implement v0.20.5a** - Build Rage resource, Corruption integration, and Tier 1 abilities
4. **v0.20.5b Design Spec** - Create detailed design specification for Tier 2
5. **Implement v0.20.5b** - Build Tier 2 abilities
6. **v0.20.5c Design Spec** - Create detailed design specification for Tier 3 & Capstone
7. **Implement v0.20.5c** - Build Tier 3 abilities and Avatar of Destruction
8. **Proceed to v0.20.6** - Bone-Setter specialization (Coherent healer path)

---

*This scope breakdown provides a structured approach to implementing the Berserkr specialization — the second Heretical path in v0.20.x. Building on the Corruption patterns established by Myrk-gengr (v0.20.4), the Berserkr introduces combat-escalation mechanics and risk-reward gameplay. Each sub-phase builds on the previous, allowing for incremental development and testing of the fury-powered warrior archetype.*
