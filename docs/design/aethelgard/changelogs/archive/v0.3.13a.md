> **Archived** - This changelog has been consolidated. See the complete version at [v0.3.13](../v0.3.x/v0.3.13.md).

# Changelog: v0.3.13a - The Loot Audit

**Release Date:** 2025-12-24
**Total Tests:** 27 new tests added (15 unit + 12 integration)

## Table of Contents

- [Summary](#summary)
- [New Files Created](#new-files-created)
- [Files Modified](#files-modified)
- [Code Implementation Details](#code-implementation-details)
- [Architecture & Data Flow](#architecture--data-flow)
- [Decision Trees](#decision-trees)
- [Logging Matrix](#logging-matrix)
- [Test Coverage](#test-coverage)
- [CLI Usage Guide](#cli-usage-guide)
- [Report Output Format](#report-output-format)
- [Design Decisions](#design-decisions)
- [Verification Results](#verification-results)
- [Directory Structure](#directory-structure)
- [Next Steps](#next-steps)
- [Credits](#credits)

---

## Summary

Version 0.3.13a introduces the **Loot Audit Tool**, a Monte Carlo simulation engine for validating the game's economy. Developers can now run thousands of loot generation cycles instantly to ensure drop rates match design intentions before players encounter them.

**Layers Touched:**
- **Core Layer:** New `LootStatistics` model, `ILootAuditService` interface with supporting records
- **Engine Layer:** `LootAuditService` implementation with variance analysis and markdown report generation
- **Terminal Layer:** CLI argument handling (`--audit-loot`) with parameter parsing
- **Test Layer:** 15 unit tests for statistics model, 12 integration tests for audit service

**Patterns Introduced:**
- **Monte Carlo Simulation Pattern:** Run N iterations of loot generation, accumulate statistics
- **Variance Flagging Pattern:** Compare actual vs expected rates, classify severity (OK/WARN/CRIT)
- **CLI Argument Parsing Pattern:** Generic `ParseIntArg()` and `ParseEnumArg<T>()` helper methods
- **Markdown Report Generation Pattern:** Structured report with tables, headers, anomaly sections

**Key Metrics:**
- 6 new files created
- 1 file modified
- 27 new tests (15 unit + 12 integration)
- 100% test pass rate for new tests
- Sequential execution for thread safety (no parallel races)

---

## New Files Created

### Core Layer

| File | Purpose |
|------|---------|
| `RuneAndRust.Core/Models/Analysis/LootStatistics.cs` | Statistics accumulator model for Monte Carlo analysis. Tracks quality tier counts, item type counts, Scrip values, and derived metrics (averages, success rate). |
| `RuneAndRust.Core/Interfaces/ILootAuditService.cs` | Service interface with configuration record, report record, variance flag record, and severity enum. |

### Engine Layer

| File | Purpose |
|------|---------|
| `RuneAndRust.Engine/Services/LootAuditService.cs` | Monte Carlo simulation service. Runs batch loot generation, calculates variance flags, generates markdown reports. |

### Test Layer

| File | Purpose |
|------|---------|
| `RuneAndRust.Tests/Engine/LootStatisticsTests.cs` | 15 unit tests for LootStatistics model covering accumulation, distributions, and derived metrics. |
| `RuneAndRust.Tests/Integration/LootAuditIntegrationTests.cs` | 12 integration tests for LootAuditService covering sanity checks, report generation, variance flags, biome distributions, and edge cases. |

### Documentation

| File | Purpose |
|------|---------|
| `docs/audits/.gitkeep` | Creates output directory for audit reports. |

---

## Files Modified

| File | Change |
|------|--------|
| `RuneAndRust.Terminal/Program.cs` | Added DI registration for `ILootAuditService`. Added CLI argument handling for `--audit-loot` flag with `--iterations`, `--biome`, `--danger`, and `--wits` parameters. Added `ParseIntArg()` and `ParseEnumArg<T>()` helper methods. |

---

## Code Implementation Details

### LootStatistics Model

**Location:** `RuneAndRust.Core/Models/Analysis/LootStatistics.cs`

**Purpose:** Accumulates statistics from multiple loot generation cycles for Monte Carlo analysis.

**Properties:**

| Property | Type | Description |
|----------|------|-------------|
| `TotalIterations` | `int` | Number of loot generation cycles recorded |
| `TotalItemsDropped` | `int` | Total items across all iterations |
| `TotalScripValue` | `long` | Cumulative Scrip value of all items |
| `TotalWeight` | `long` | Cumulative weight in grams |
| `QualityTierCounts` | `Dictionary<QualityTier, int>` | Count per quality tier |
| `ItemTypeCounts` | `Dictionary<ItemType, int>` | Count per item type |
| `SuccessfulIterations` | `int` | Iterations that produced loot |

**Derived Metrics:**

| Property | Formula | Description |
|----------|---------|-------------|
| `AverageScripPerIteration` | `TotalScripValue / TotalIterations` | Economy metric |
| `AverageItemsPerIteration` | `TotalItemsDropped / TotalIterations` | Drop rate metric |
| `SuccessRate` | `(SuccessfulIterations / TotalIterations) * 100` | Percentage |

**Key Method:**
```csharp
public void Record(LootResult result)
{
    TotalIterations++;
    if (!result.Success || result.Items.Count == 0) return;

    SuccessfulIterations++;
    foreach (var item in result.Items)
    {
        TotalItemsDropped++;
        TotalScripValue += item.Value;
        TotalWeight += item.Weight;
        QualityTierCounts[item.Quality]++;
        ItemTypeCounts[item.ItemType]++;
    }
}
```

---

### ILootAuditService Interface

**Location:** `RuneAndRust.Core/Interfaces/ILootAuditService.cs`

**Interface:**
```csharp
public interface ILootAuditService
{
    Task<LootAuditReport> RunAuditAsync(LootAuditConfiguration config);
}
```

**Configuration Record:**
```csharp
public record LootAuditConfiguration(
    int Iterations,           // Number of loot cycles to run
    BiomeType Biome,          // Affects item type distribution
    DangerLevel DangerLevel,  // Affects quality tier weights
    int WitsBonus = 0);       // Optional WITS bonus for quality upgrade
```

**Report Record:**
```csharp
public record LootAuditReport(
    LootStatistics Statistics,      // Accumulated data
    string MarkdownReport,          // Human-readable report
    IReadOnlyList<VarianceFlag> Flags);  // Variance analysis
```

**Variance Flag Record:**
```csharp
public record VarianceFlag(
    string Category,           // "QualityTier" or "ItemType"
    string ItemName,           // e.g., "Scavenged", "Weapon"
    double ActualPercent,      // Observed percentage
    double ExpectedPercent,    // From LootTables
    VarianceSeverity Severity) // Ok, Warning, Critical
{
    public double Variance => ActualPercent - ExpectedPercent;
    public double AbsoluteVariance => Math.Abs(Variance);
}
```

**Severity Enum:**
```csharp
public enum VarianceSeverity
{
    Ok,       // |Delta| <= 1%
    Warning,  // 1% < |Delta| <= 5%
    Critical  // |Delta| > 5%
}
```

---

### LootAuditService Implementation

**Location:** `RuneAndRust.Engine/Services/LootAuditService.cs`

**Constructor:**
```csharp
public LootAuditService(ILootService lootService, ILogger<LootAuditService> logger)
```

**Simulation Loop:**
```csharp
public async Task<LootAuditReport> RunAuditAsync(LootAuditConfiguration config)
{
    var stats = new LootStatistics();
    var context = new LootGenerationContext(
        config.Biome, config.DangerLevel, null, config.WitsBonus);

    // Sequential execution for thread safety
    for (int i = 0; i < config.Iterations; i++)
    {
        var result = _lootService.GenerateLoot(context);
        stats.Record(result);

        // Progress logging every 10%
        if (config.Iterations >= 1000 && (i + 1) % (config.Iterations / 10) == 0)
            _logger.LogDebug("Progress: {Percent}%", (i + 1) * 100 / config.Iterations);
    }

    var flags = CalculateVarianceFlags(stats, config);
    var markdown = GenerateMarkdownReport(stats, config, flags);

    return new LootAuditReport(stats, markdown, flags);
}
```

**Variance Classification:**
```csharp
private static VarianceSeverity ClassifyVariance(double absoluteVariance)
{
    if (absoluteVariance > 5.0) return VarianceSeverity.Critical;
    if (absoluteVariance > 1.0) return VarianceSeverity.Warning;
    return VarianceSeverity.Ok;
}
```

---

### CLI Argument Handling

**Location:** `RuneAndRust.Terminal/Program.cs:226-267`

**Pattern:**
```csharp
if (args.Any(a => a.StartsWith("--audit-loot")))
{
    var iterations = ParseIntArg(args, "iterations", 10000);
    var biome = ParseEnumArg(args, "biome", BiomeType.Ruin);
    var danger = ParseEnumArg(args, "danger", DangerLevel.Safe);
    var witsBonus = ParseIntArg(args, "wits", 0);

    using (var scope = host.Services.CreateScope())
    {
        var auditService = scope.ServiceProvider.GetRequiredService<ILootAuditService>();
        var report = auditService.RunAuditAsync(config).GetAwaiter().GetResult();

        // Write report to docs/audits/
        File.WriteAllText(outputPath, report.MarkdownReport);
    }
}
```

**Helper Methods:**
```csharp
private static int ParseIntArg(string[] args, string name, int defaultValue)
{
    var prefix = $"--{name}=";
    var arg = args.FirstOrDefault(a => a.StartsWith(prefix, StringComparison.OrdinalIgnoreCase));
    if (arg == null) return defaultValue;
    return int.TryParse(arg.Substring(prefix.Length), out var value) ? value : defaultValue;
}

private static T ParseEnumArg<T>(string[] args, string name, T defaultValue) where T : struct, Enum
{
    var prefix = $"--{name}=";
    var arg = args.FirstOrDefault(a => a.StartsWith(prefix, StringComparison.OrdinalIgnoreCase));
    if (arg == null) return defaultValue;
    return Enum.TryParse<T>(arg.Substring(prefix.Length), true, out var value) ? value : defaultValue;
}
```

---

## Architecture & Data Flow

### Simulation Pipeline

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         LOOT AUDIT SIMULATION PIPELINE                       │
└─────────────────────────────────────────────────────────────────────────────┘

 CLI Trigger                Configuration              Simulation Loop
 ──────────                 ─────────────              ───────────────

 dotnet run                 LootAuditConfiguration     for i = 0 to N:
 --audit-loot        ──►    {                    ──►     context = CreateContext()
 --iterations=10000         Iterations: 10000            result = LootService.GenerateLoot()
 --biome=Industrial         Biome: Industrial            stats.Record(result)
 --danger=Hostile           DangerLevel: Hostile
                            WitsBonus: 0
                            }

                                                              │
                                                              ▼

 Report Output              Variance Analysis          Statistics Accumulation
 ─────────────              ─────────────────          ────────────────────────

 docs/audits/              For each QualityTier:       LootStatistics {
 loot_audit_               For each ItemType:           TotalIterations: 10000
 20251224_120000.md  ◄──     Actual% = Count/Total ◄──   TotalItemsDropped: 15432
                             Expected% = LootTables      QualityTierCounts: {...}
                             Severity = Classify()       ItemTypeCounts: {...}
                                                       }
```

### Data Flow Diagram

```
┌──────────────┐     ┌──────────────────┐     ┌─────────────────┐
│   Program.cs │     │ LootAuditService │     │   LootService   │
│  (CLI Entry) │     │  (Simulation)    │     │  (Generation)   │
└──────┬───────┘     └────────┬─────────┘     └────────┬────────┘
       │                      │                        │
       │ 1. Parse args        │                        │
       │ 2. Create config     │                        │
       │──────────────────────►                        │
       │                      │ 3. Loop N times        │
       │                      │────────────────────────►
       │                      │ 4. GenerateLoot()      │
       │                      │◄────────────────────────
       │                      │ 5. Record(result)      │
       │                      │                        │
       │                      │ 6. Calculate flags     │
       │                      │ 7. Generate markdown   │
       │◄──────────────────────                        │
       │ 8. Write report      │                        │
       │ 9. Display summary   │                        │
       ▼                      ▼                        ▼
```

---

## Decision Trees

### A. Variance Classification Decision Tree

```
Input: AbsoluteVariance (|Actual% - Expected%|)
                    │
                    ▼
        ┌───────────────────────┐
        │ AbsoluteVariance > 5% │
        └───────────┬───────────┘
                    │
          ┌────────┴────────┐
          │ YES             │ NO
          ▼                 ▼
    ┌──────────┐   ┌───────────────────────┐
    │ CRITICAL │   │ AbsoluteVariance > 1% │
    └──────────┘   └───────────┬───────────┘
                               │
                     ┌────────┴────────┐
                     │ YES             │ NO
                     ▼                 ▼
               ┌─────────┐       ┌────────┐
               │ WARNING │       │   OK   │
               └─────────┘       └────────┘
```

### B. Audit Loop Decision Tree

```
Input: Iterations (N), Biome, DangerLevel, WitsBonus
                    │
                    ▼
    ┌─────────────────────────────────┐
    │ Initialize:                      │
    │   stats = new LootStatistics()   │
    │   context = CreateContext(...)   │
    └─────────────────┬───────────────┘
                      │
                      ▼
           ┌─────────────────────┐
           │ i = 0               │◄──────────────────┐
           └──────────┬──────────┘                   │
                      │                              │
                      ▼                              │
           ┌─────────────────────┐                   │
           │ i < N ?             │                   │
           └──────────┬──────────┘                   │
                      │                              │
            ┌─────────┴─────────┐                    │
            │ YES               │ NO                 │
            ▼                   ▼                    │
┌───────────────────────┐ ┌──────────────────┐       │
│ result = GenerateLoot │ │ Return:          │       │
│ stats.Record(result)  │ │   VarianceFlags  │       │
│ i++                   │ │   MarkdownReport │       │
└───────────┬───────────┘ │   Statistics     │       │
            │             └──────────────────┘       │
            │                                        │
            └────────────────────────────────────────┘
```

### C. Record() Decision Tree

```
Input: LootResult
                    │
                    ▼
    ┌─────────────────────────────────┐
    │ TotalIterations++               │
    └─────────────────┬───────────────┘
                      │
                      ▼
           ┌─────────────────────────┐
           │ result.Success == true  │
           │ AND Items.Count > 0 ?   │
           └──────────┬──────────────┘
                      │
            ┌─────────┴─────────┐
            │ YES               │ NO
            ▼                   ▼
┌───────────────────────┐ ┌──────────────────┐
│ SuccessfulIterations++│ │ Return           │
│ For each item:        │ │ (only iterations │
│   TotalItemsDropped++ │ │  incremented)    │
│   TotalScripValue +=  │ └──────────────────┘
│   TotalWeight +=      │
│   QualityTierCounts++ │
│   ItemTypeCounts++    │
└───────────────────────┘
```

---

## Logging Matrix

### LootAuditService

| Event | Level | Template | Properties |
|-------|-------|----------|------------|
| Audit Started | Info | `"Starting Loot Audit: {Iterations} iterations in {Biome} ({DangerLevel})"` | Iterations, Biome, DangerLevel |
| Progress Update | Debug | `"Audit progress: {Completed}/{Total} iterations ({Percent}%)"` | Completed, Total, Percent |
| Audit Complete | Info | `"Loot Audit complete: {Items} items dropped, {Value} total Scrip, {FlagCount} variance flags"` | Items, Value, FlagCount |

### CLI (Program.cs)

| Event | Output | Message |
|-------|--------|---------|
| Audit Starting | Yellow | `"Running Loot Audit: {iterations:N0} iterations in {biome} ({danger})..."` |
| Critical Variance | Red | `"Audit complete with {criticals} critical variance(s)."` |
| Warnings | Yellow | `"Audit complete with {warnings} warning(s)."` |
| All OK | Green | `"Audit complete. All distributions within acceptable bounds."` |
| Report Path | Grey | `"Report: {outputPath}"` |

---

## Test Coverage

### LootStatisticsTests (15 tests)

**Record Tests:**

| Test | Description |
|------|-------------|
| `Record_WithSuccessfulResult_IncrementsCounters` | Verify all counters increment correctly |
| `Record_WithEmptyResult_IncrementsIterationsOnly` | Empty results only increment iterations |
| `Record_WithFailedResult_IncrementsIterationsOnly` | Failed results only increment iterations |
| `Record_AccumulatesMultipleResults` | Multiple records accumulate correctly |

**Quality Tier Distribution Tests:**

| Test | Description |
|------|-------------|
| `Record_TracksQualityTierDistribution` | Verify QualityTierCounts dictionary |
| `GetQualityTierPercent_CalculatesCorrectly` | Verify percentage calculation |
| `GetQualityTierPercent_ReturnsZeroWhenNoItems` | Edge case: no items |

**Item Type Distribution Tests:**

| Test | Description |
|------|-------------|
| `Record_TracksItemTypeDistribution` | Verify ItemTypeCounts dictionary |
| `GetItemTypePercent_CalculatesCorrectly` | Verify percentage calculation |

**Derived Metrics Tests:**

| Test | Description |
|------|-------------|
| `AverageScripPerIteration_CalculatesCorrectly` | Scrip average formula |
| `AverageItemsPerIteration_CalculatesCorrectly` | Items average formula |
| `SuccessRate_CalculatesCorrectly` | Success rate percentage |
| `DerivedMetrics_ReturnZeroWhenEmpty` | Edge case: empty statistics |

### LootAuditIntegrationTests (12 tests)

**Sanity Check Tests:**

| Test | Description |
|------|-------------|
| `Audit_SanityCheck_ProducesNonZeroResults` | 100 iterations produce items |
| `Audit_SafeZone_HasNoMythForgedItems` | Safe zone: 0% MythForged/Optimized |
| `Audit_LethalZone_CanDropMythForgedItems` | Lethal zone: MythForged > 0 |

**Report Generation Tests:**

| Test | Description |
|------|-------------|
| `Audit_GeneratesValidMarkdownReport` | Report contains all sections |
| `Audit_ReportsIncludeTableHeaders` | Tables have proper headers |
| `Audit_ReportsWitsBonus_WhenProvided` | WITS bonus shown in report |

**Variance Flag Tests:**

| Test | Description |
|------|-------------|
| `Audit_GeneratesVarianceFlags` | 5 quality + 5 type flags |
| `Audit_ClassifiesVarianceCorrectly` | Valid severity levels |

**Biome Distribution Tests:**

| Test | Description |
|------|-------------|
| `Audit_OrganicBiome_FavorsConsumables` | Organic: Consumable > Weapon/Armor |
| `Audit_IndustrialBiome_FavorsMaterials` | Industrial: Material > Consumable |

**Statistical Bounds Tests:**

| Test | Description |
|------|-------------|
| `Audit_QualityDistribution_ProducesReasonableDistribution` | Safe: 0% Optimized/MythForged, sum to 100% |

**Edge Case Tests:**

| Test | Description |
|------|-------------|
| `Audit_WithZeroIterations_ReturnsEmptyReport` | 0 iterations handled |
| `Audit_AllDangerLevels_ProduceValidReports` | All 4 danger levels work |
| `Audit_AllBiomes_ProduceValidReports` | All 4 biomes work |

---

## CLI Usage Guide

### Basic Usage

```bash
# Default: 10000 iterations, Ruin biome, Safe danger
dotnet run --project RuneAndRust.Terminal -- --audit-loot
```

### With Parameters

```bash
# Custom iterations and biome
dotnet run --project RuneAndRust.Terminal -- --audit-loot --iterations=50000 --biome=Industrial

# Full custom configuration
dotnet run --project RuneAndRust.Terminal -- --audit-loot --iterations=100000 --biome=Void --danger=Lethal --wits=5
```

### Parameter Reference

| Parameter | Default | Values | Description |
|-----------|---------|--------|-------------|
| `--iterations` | 10000 | Any positive int | Number of loot generation cycles |
| `--biome` | Ruin | Ruin, Industrial, Organic, Void | Affects item type distribution |
| `--danger` | Safe | Safe, Unstable, Hostile, Lethal | Affects quality tier weights |
| `--wits` | 0 | 0-10 | WITS bonus for quality upgrade chance |

### Output Location

Reports are written to: `docs/audits/loot_audit_YYYYMMDD_HHMMSS.md`

---

## Report Output Format

### Sample Report

```markdown
# Loot Audit Report

**Date:** 2025-12-24 12:00:00 | **Iterations:** 10,000
**Biome:** Ruin | **Danger Level:** Safe

## Summary

- **Total Items Dropped:** 15,432
- **Average Items per Iteration:** 1.54
- **Total Scrip Value:** 642,180
- **Average Scrip per Iteration:** 64.22
- **Success Rate:** 100.0%

## Quality Tier Distribution

| Tier | Count | Actual % | Expected % | Variance | Status |
|------|-------|----------|------------|----------|--------|
| JuryRigged | 4,629 | 30.0% | 30.0% | +0.0% | OK |
| Scavenged | 9,258 | 60.0% | 60.0% | +0.0% | OK |
| ClanForged | 1,545 | 10.0% | 10.0% | +0.0% | OK |
| Optimized | 0 | 0.0% | 0.0% | 0.0% | OK |
| MythForged | 0 | 0.0% | 0.0% | 0.0% | OK |

## Item Type Distribution

| Type | Count | Actual % | Expected % | Variance | Status |
|------|-------|----------|------------|----------|--------|
| Weapon | 3,086 | 20.0% | 20.0% | +0.0% | OK |
| Armor | 2,315 | 15.0% | 15.0% | +0.0% | OK |
| Consumable | 2,315 | 15.0% | 15.0% | +0.0% | OK |
| Material | 3,858 | 25.0% | 25.0% | +0.0% | OK |
| Junk | 3,858 | 25.0% | 25.0% | +0.0% | OK |

## Anomalies

*None detected. All distributions are within acceptable bounds.*

---

*Generated by LootAuditService v0.3.13a*
```

---

## Design Decisions

### Why Sequential Execution (Not Parallel)?

**Problem:** The original plan suggested `Parallel.For` with locking for speed.

**Analysis:**
- `LootService` uses `new Random()` internally (NOT thread-safe)
- `Random.Next()` is called without synchronization in LootService
- Parallel execution with shared Random causes race conditions

**Decision:** Use sequential `for` loop. 10,000 iterations completes in ~500ms sequentially, which is acceptable for a developer tool. Thread safety is more important than raw speed for this use case.

**Future Option:** Refactor `LootService` to use `Random.Shared` (thread-safe in .NET 6+) if parallel execution becomes necessary.

### Why Variance Thresholds of 1% and 5%?

**Rationale:**
- **1% (Warning):** Statistically noticeable deviation that warrants attention
- **5% (Critical):** Significant deviation that could impact game balance

These thresholds are appropriate for Monte Carlo simulations with 10,000+ iterations where statistical variance should naturally converge.

### Why Separate Category Flags (QualityTier vs ItemType)?

**Rationale:**
- Different data sources: Quality weights from `LootTables.QualityWeightsByDanger`, type weights from `LootTables.ItemTypeByBiome`
- Independent analysis: Quality tier imbalance doesn't imply item type imbalance
- Clear reporting: Separate tables make anomalies easier to identify

### Why KeyItem Excluded from Item Type Analysis?

**Rationale:** KeyItem types are never generated by LootTables - they're only created through quest/story events. Including them in variance analysis would always show 0% actual vs 0% expected, which adds noise without value.

---

## Verification Results

### Build Output

```
Build succeeded.
    0 Warning(s)
    0 Error(s)
```

### Test Results

```
dotnet test --filter "FullyQualifiedName~LootStatistics|FullyQualifiedName~LootAudit"

Passed!  - Failed: 0, Passed: 27, Skipped: 0, Total: 27, Duration: 481 ms
```

**Breakdown:**
- LootStatisticsTests: 15 passed
- LootAuditIntegrationTests: 12 passed

---

## Directory Structure

```
RuneAndRust.Core/
├── Interfaces/
│   └── ILootAuditService.cs                    [NEW - v0.3.13a]
└── Models/
    └── Analysis/
        └── LootStatistics.cs                   [NEW - v0.3.13a]

RuneAndRust.Engine/
└── Services/
    └── LootAuditService.cs                     [NEW - v0.3.13a]

RuneAndRust.Terminal/
└── Program.cs                                  [MODIFIED - v0.3.13a]

RuneAndRust.Tests/
├── Engine/
│   └── LootStatisticsTests.cs                  [NEW - v0.3.13a]
└── Integration/
    └── LootAuditIntegrationTests.cs            [NEW - v0.3.13a]

docs/
└── audits/
    └── .gitkeep                                [NEW - v0.3.13a]
```

---

## Next Steps

- **v0.3.13b:** Combat Simulator - Headless battle resolution for TTK and win-rate analysis
- **Future:** CSV export option for spreadsheet analysis
- **Future:** Batch mode for running multiple biome/danger combinations
- **Future:** Historical comparison (diff against previous audit)
- **Future:** Integration with CI/CD for regression detection

---

## Credits

**Primary Developer:** The Architect (Claude)
**Test Coverage:** 100% for new tests (27/27 passing)
**Regression:** Zero regressions in existing tests
**Documentation:** Follows CHANGELOG_GENERATION_RULES.md Extended Template
