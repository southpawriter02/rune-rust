# v0.17.2a Design Specification: Core Attribute Enum & Description

**Version:** 0.17.2a  
**Phase Name:** Core Attribute Enum & Description  
**Parent Version:** v0.17.2 (Attribute System)  
**Prerequisites:** v0.17.1 Complete (Background System)  
**Estimated Tests:** ~6 unit tests

---

## Table of Contents

1. [Executive Summary](#1-executive-summary)
2. [Feature Overview](#2-feature-overview)
3. [Architecture Diagrams](#3-architecture-diagrams)
4. [CoreAttribute Enum](#4-coreattribute-enum)
5. [AttributeDescription Value Object](#5-attributedescription-value-object)
6. [Data Model Changes](#6-data-model-changes)
7. [Configuration File Schemas](#7-configuration-file-schemas)
8. [Logging Specifications](#8-logging-specifications)
9. [Unit Testing Requirements](#9-unit-testing-requirements)
10. [Use Cases](#10-use-cases)
11. [User Stories](#11-user-stories)
12. [Deliverable Checklist](#12-deliverable-checklist)
13. [Acceptance Criteria](#13-acceptance-criteria)
14. [Dependencies](#14-dependencies)
15. [Future Considerations](#15-future-considerations)

---

## 1. Executive Summary

### 1.1 Purpose

This specification defines the `CoreAttribute` enumeration and `AttributeDescription` value object that form the foundation of the v0.17.2 Attribute System. These core attributes represent the fundamental capabilities of every character in Aethelgard, determining combat prowess, mental fortitude, and physical resilience.

The five core attributes are:

- **Might** — Physical power, melee damage, and carrying capacity
- **Finesse** — Agility, precision, ranged accuracy, and initiative
- **Wits** — Perception, knowledge, crafting, and puzzle-solving
- **Will** — Mental fortitude, Aether channeling, and mental resistance
- **Sturdiness** — Endurance, HP, and physical resilience

This phase establishes the enum and description value object that all subsequent v0.17.2x phases depend upon for point-buy allocation, derived stat calculation, and character creation UI.

### 1.2 Key Deliverables

| Category          | Items                                                 |
| ----------------- | ----------------------------------------------------- |
| **Enums**         | `CoreAttribute`                                       |
| **Value Objects** | `AttributeDescription`                                |
| **Configuration** | `attributes.json` (partial), `attributes.schema.json` |
| **Tests**         | ~6 unit tests                                         |

### 1.3 Architectural Significance

This version establishes the **Attribute Pattern** used throughout character mechanics:

- **Enum-Based Attribute Identification**: All characters reference `CoreAttribute` values
- **Description Value Object Pattern**: `AttributeDescription` holds UI display data
- **Configuration-Driven Descriptions**: Attribute details loaded from JSON for localization
- **Stat/Skill Relationship Mapping**: Each attribute specifies which stats and skills it affects
- **Foundation for Derived Stats**: Attributes are the basis for HP, Stamina, AP, etc.
- **Point-Buy System Basis**: Attribute enum used as dictionary key for allocations

---

## 2. Feature Overview

```
v0.17.2a Core Attribute Enum & Description
├── CoreAttribute Enum
│   ├── Might (0) — Physical power, melee damage
│   ├── Finesse (1) — Agility, precision, initiative
│   ├── Wits (2) — Perception, knowledge, crafting
│   ├── Will (3) — Mental fortitude, Aether channeling
│   └── Sturdiness (4) — Endurance, HP, resilience
├── AttributeDescription Value Object
│   ├── Attribute: CoreAttribute
│   ├── DisplayName: string (e.g., "MIGHT")
│   ├── ShortDescription: string
│   ├── DetailedDescription: string
│   ├── AffectedStats: IReadOnlyList<string>
│   └── AffectedSkills: IReadOnlyList<string>
└── Configuration Files
    ├── attributes.json (partial - descriptions section)
    └── attributes.schema.json
```

### 2.1 Scope Alignment

**In Scope:**

- `CoreAttribute` enum with five attribute values (0-4)
- `AttributeDescription` value object with display properties
- Affected stats and skills mappings per attribute
- Partial `attributes.json` configuration (description section)
- `attributes.schema.json` validation schema
- Thematic naming following Aethelgard conventions

**Out of Scope:**

- Allocation mode system (Simple/Advanced) → v0.17.2b
- Point-buy cost system → v0.17.2c
- Derived stat calculation → v0.17.2d
- Attribute provider service → v0.17.2e
- Attribute allocation service → v0.17.2f
- Derived stat calculator service → v0.17.2g
- Integration with character creation workflow → v0.17.5

---

## 3. Architecture Diagrams

### 3.1 Attribute System Overview

```
┌─────────────────────────────────────────────────────────────────────┐
│                   ATTRIBUTE SYSTEM OVERVIEW                          │
└─────────────────────────────────────────────────────────────────────┘

    Character Creation UI (Step 3: Attributes)
           │
           │  Player allocates attribute points
           ▼
┌─────────────────────────────────────────────────────────────────────┐
│                       CoreAttribute Enum                             │
├─────────────────────────────────────────────────────────────────────┤
│ Might(0) │ Finesse(1) │ Wits(2) │ Will(3) │ Sturdiness(4)          │
└─────────────────────────────────────────────────────────────────────┘
           │
           │  Get description for display
           ▼
┌─────────────────────────────────────────────────────────────────────┐
│                   AttributeDescription Value Object                  │
├─────────────────────────────────────────────────────────────────────┤
│  - Attribute: CoreAttribute      (enum reference)                   │
│  - DisplayName: string           (e.g., "MIGHT")                    │
│  - ShortDescription: string      (one-line summary)                 │
│  - DetailedDescription: string   (full explanation)                 │
│  - AffectedStats: List<string>   (derived stats impacted)           │
│  - AffectedSkills: List<string>  (skills using this attribute)      │
└─────────────────────────────────────────────────────────────────────┘
```

### 3.2 Layer Diagram

```
┌─────────────────────────────────────────────────────────────────────┐
│                        PRESENTATION LAYER                            │
├─────────────────────────────────────────────────────────────────────┤
│  CharacterCreationView (v0.17.5)                                     │
│  └── Uses AttributeDescription.DisplayName, ShortDescription        │
│                                                                      │
│  AttributeAllocationPanel (v0.17.5)                                  │
│  └── Uses AttributeDescription for tooltip content                  │
│                                                                      │
│  CharacterSheetView                                                  │
│  └── Uses AttributeDescription for stat breakdown display           │
└───────┬─────────────────────────────────────────────────────────────┘
        │
        ▼
┌─────────────────────────────────────────────────────────────────────┐
│                       APPLICATION LAYER                              │
├─────────────────────────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │               IAttributeProvider (v0.17.2e)                   │  │
│  │                 (interface for attribute access)              │  │
│  ├───────────────────────────────────────────────────────────────┤  │
│  │  + GetAttributeDescription(CoreAttribute): AttributeDescription│  │
│  │  + GetAllAttributeDescriptions(): IReadOnlyList<...>          │  │
│  │  + GetRecommendedBuild(Archetype): AttributeSet               │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                      │
│  IAttributeAllocationService (v0.17.2f)                              │
│  └── Uses CoreAttribute enum and AttributeDescription               │
└───────┬─────────────────────────────────────────────────────────────┘
        │
        ▼
┌─────────────────────────────────────────────────────────────────────┐
│                         DOMAIN LAYER                                 │
├─────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────┐  ┌────────────────────────────────────┐   │
│  │    CoreAttribute    │  │      AttributeDescription          │   │
│  │       (Enum)        │  │        (Value Object)              │   │
│  ├─────────────────────┤  ├────────────────────────────────────┤   │
│  │ Might = 0           │  │ Attribute: CoreAttribute           │   │
│  │ Finesse = 1         │  │ DisplayName: string                │   │
│  │ Wits = 2            │  │ ShortDescription: string           │   │
│  │ Will = 3            │  │ DetailedDescription: string        │   │
│  │ Sturdiness = 4      │  │ AffectedStats: List<string>        │   │
│  └─────────────────────┘  │ AffectedSkills: List<string>       │   │
│                           └────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────┘
```

### 3.3 Character Creation Flow: Attribute Step

```
┌─────────────────────────────────────────────────────────────────────┐
│             CHARACTER CREATION FLOW: ATTRIBUTE STEP                  │
└─────────────────────────────────────────────────────────────────────┘

    Player completes Step 2 (Background)
           │
           ▼
┌─────────────────────────────────────────────────────────────────────┐
│                  STEP 3: ATTRIBUTE ALLOCATION                        │
├─────────────────────────────────────────────────────────────────────┤
│  1. Display all 5 attributes with DisplayName and ShortDescription  │
│  2. Show current value and points remaining                         │
│  3. Player adjusts values via +/- buttons                           │
│  4. Show preview of derived stats (via v0.17.2d)                    │
│  5. Show affected skills for selected attribute                     │
└─────────────────────────────────────────────────────────────────────┘
           │
           ▼
┌─────────────────────────────────────────────────────────────────────┐
│             ATTRIBUTE PANEL: SELECTED ATTRIBUTE DETAIL               │
├─────────────────────────────────────────────────────────────────────┤
│  Example: Player hovers over "MIGHT"                                │
│                                                                      │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │  MIGHT                                                         │  │
│  │  ─────────────────────────────────────────────────────────────│  │
│  │  Physical power and raw strength                               │  │
│  │                                                                │  │
│  │  Might represents your character's physical power. It affects  │  │
│  │  melee damage, carrying capacity, and physical feats of        │  │
│  │  strength.                                                     │  │
│  │                                                                │  │
│  │  Affects Stats: Melee Damage, Carrying Capacity, Stamina       │  │
│  │  Affects Skills: Combat, Athletics, Intimidation              │  │
│  └───────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────┘
           │
           ▼
    Validate allocation → Proceed to Step 4 (Archetype)
```

### 3.4 Attribute to Derived Stats Relationship

```
┌─────────────────────────────────────────────────────────────────────┐
│              ATTRIBUTE TO DERIVED STATS RELATIONSHIP                 │
└─────────────────────────────────────────────────────────────────────┘

    ┌─────────────────┐        ┌─────────────────────────────────────┐
    │     MIGHT       │───────▶│  Max Stamina (+5 per point)         │
    │                 │───────▶│  Melee Damage Bonus                  │
    │                 │───────▶│  Carrying Capacity                   │
    └─────────────────┘        └─────────────────────────────────────┘

    ┌─────────────────┐        ┌─────────────────────────────────────┐
    │    FINESSE      │───────▶│  Max Stamina (+5 per point)         │
    │                 │───────▶│  Initiative                          │
    │                 │───────▶│  Ranged Accuracy                     │
    └─────────────────┘        └─────────────────────────────────────┘

    ┌─────────────────┐        ┌─────────────────────────────────────┐
    │      WITS       │───────▶│  Max Aether Pool (+5 per point)     │
    │                 │───────▶│  Perception                          │
    │                 │───────▶│  Crafting Bonus                      │
    └─────────────────┘        └─────────────────────────────────────┘

    ┌─────────────────┐        ┌─────────────────────────────────────┐
    │      WILL       │───────▶│  Max Aether Pool (+10 per point)    │
    │                 │───────▶│  Resolve (Mental Resistance)         │
    │                 │───────▶│  Aether Channeling Power             │
    └─────────────────┘        └─────────────────────────────────────┘

    ┌─────────────────┐        ┌─────────────────────────────────────┐
    │   STURDINESS    │───────▶│  Max HP (+10 per point)             │
    │                 │───────▶│  Soak (Damage Reduction)             │
    │                 │───────▶│  Physical Resistance                 │
    └─────────────────┘        └─────────────────────────────────────┘

    Design Notes:
    ┌─────────────────────────────────────────────────────────────────┐
    │ • Each attribute affects 2-3 derived stats                      │
    │ • Sturdiness is primary HP attribute                            │
    │ • Will is primary Aether Pool attribute                         │
    │ • Finesse and Might both contribute to Stamina                  │
    │ • Wits provides secondary Aether Pool contribution              │
    └─────────────────────────────────────────────────────────────────┘
```

### 3.5 Attribute to Skills Relationship

```
┌─────────────────────────────────────────────────────────────────────┐
│              ATTRIBUTE TO SKILLS RELATIONSHIP                        │
└─────────────────────────────────────────────────────────────────────┘

    ┌─────────────────┬────────────────────────────────────────────────┐
    │   Attribute     │   Associated Skills                            │
    ├─────────────────┼────────────────────────────────────────────────┤
    │   MIGHT         │   Combat, Athletics, Intimidation              │
    ├─────────────────┼────────────────────────────────────────────────┤
    │   FINESSE       │   Stealth, Acrobatics, Lockpicking             │
    ├─────────────────┼────────────────────────────────────────────────┤
    │   WITS          │   Lore, Craft, Investigation                   │
    ├─────────────────┼────────────────────────────────────────────────┤
    │   WILL          │   Rhetoric, Concentration, Willpower           │
    ├─────────────────┼────────────────────────────────────────────────┤
    │   STURDINESS    │   Endurance, Survival, Fortitude               │
    └─────────────────┴────────────────────────────────────────────────┘

    Skill Check Formula:
    ┌─────────────────────────────────────────────────────────────────┐
    │  Skill Roll = d20 + Skill Rank + Attribute Modifier             │
    │                                                                  │
    │  Attribute Modifier = (Attribute Value - 10) / 2                │
    │                                                                  │
    │  Example: Combat check with MIGHT 4                              │
    │  • Attribute Modifier = (4 - 10) / 2 = -3                       │
    │  • (Note: Starting attributes are 1-10 scale, not D&D 3-18)     │
    │  • Simplified: Attribute Value used directly as modifier        │
    └─────────────────────────────────────────────────────────────────┘
```

### 3.6 Attribute Value Range

```
┌─────────────────────────────────────────────────────────────────────┐
│                   ATTRIBUTE VALUE RANGE                              │
└─────────────────────────────────────────────────────────────────────┘

    Attribute Scale:     1 ─────────────────────── 10
                         │                         │
                       Minimum                  Maximum

    Character Creation Starting Values:
    ┌────────────────────────────────────────────────────────────────┐
    │  • All attributes start at 1                                   │
    │  • Players have 15 points to spend (14 for Adept archetype)    │
    │  • Values 2-8 cost 1 point each                                │
    │  • Values 9-10 cost 2 points each (premium tier)               │
    │  • Maximum starting value: 10                                   │
    │  • Minimum value: 1 (cannot go below)                          │
    └────────────────────────────────────────────────────────────────┘

    Interpretation Scale:
    ┌────────┬───────────────────────────────────────────────────────┐
    │ Value  │ Interpretation                                       │
    ├────────┼───────────────────────────────────────────────────────┤
    │   1    │ Severely deficient                                   │
    │   2    │ Below average                                        │
    │   3    │ Slightly below average                               │
    │   4    │ Average human capacity                               │
    │   5    │ Slightly above average                               │
    │   6    │ Above average                                        │
    │   7    │ Notably capable                                      │
    │   8    │ Exceptional                                          │
    │   9    │ Remarkable (heroic tier)                             │
    │  10    │ Peak mortal capacity                                 │
    └────────┴───────────────────────────────────────────────────────┘
```

---

## 4. CoreAttribute Enum

### 4.1 Purpose

The `CoreAttribute` enum defines the five fundamental character attributes in Aethelgard. This enum is the foundation for all attribute-related mechanics including point allocation, derived stats, and skill checks.

### 4.2 Implementation

**File:** `src/Core/RuneAndRust.Domain/Enums/CoreAttribute.cs`

```csharp
namespace RuneAndRust.Domain.Enums;

/// <summary>
/// Defines the five core attributes that determine a character's capabilities.
/// </summary>
/// <remarks>
/// <para>
/// Core attributes represent the fundamental physical and mental capabilities
/// of every character in Aethelgard. They are set during character creation
/// via point-buy allocation and influence derived stats and skill checks.
/// </para>
/// <para>
/// The five attributes cover all aspects of character capability:
/// - Might: Physical power for melee combat and feats of strength
/// - Finesse: Agility and precision for ranged combat and dexterity
/// - Wits: Mental acuity for crafting, lore, and investigation
/// - Will: Mental fortitude for Aether channeling and resistance
/// - Sturdiness: Physical endurance for HP and damage resistance
/// </para>
/// <para>
/// Attribute values are explicitly assigned (0-4) to ensure stable serialization
/// and database storage. The order matches typical character sheet layout.
/// </para>
/// </remarks>
public enum CoreAttribute
{
    /// <summary>
    /// Might - Physical power, melee damage, and carrying capacity.
    /// </summary>
    /// <remarks>
    /// Might represents raw physical strength. It is the primary attribute for
    /// melee-focused characters and affects:
    /// - Melee damage bonus
    /// - Carrying capacity
    /// - Physical feats of strength
    /// - Skills: Combat, Athletics, Intimidation
    /// </remarks>
    Might = 0,

    /// <summary>
    /// Finesse - Agility, precision, ranged accuracy, and initiative.
    /// </summary>
    /// <remarks>
    /// Finesse represents agility and hand-eye coordination. It is essential for
    /// ranged combatants and rogues, affecting:
    /// - Ranged accuracy
    /// - Initiative in combat
    /// - Evasion capability
    /// - Skills: Stealth, Acrobatics, Lockpicking
    /// </remarks>
    Finesse = 1,

    /// <summary>
    /// Wits - Perception, knowledge, crafting, and puzzle-solving.
    /// </summary>
    /// <remarks>
    /// Wits represents mental acuity and learned knowledge. It is vital for
    /// crafters, scholars, and investigators, affecting:
    /// - Perception checks
    /// - Crafting quality
    /// - Lore knowledge
    /// - Skills: Lore, Craft, Investigation
    /// Secondary contribution to Aether Pool.
    /// </remarks>
    Wits = 2,

    /// <summary>
    /// Will - Mental fortitude, Aether channeling, and mental resistance.
    /// </summary>
    /// <remarks>
    /// Will represents mental strength and connection to the Aether. It is the
    /// primary attribute for Mystics and those resisting mental effects:
    /// - Primary Aether Pool determinant
    /// - Mental resistance (vs. fear, charm, etc.)
    /// - Aetheric ability power
    /// - Skills: Rhetoric, Concentration, Willpower
    /// </remarks>
    Will = 3,

    /// <summary>
    /// Sturdiness - Endurance, HP, and physical resilience.
    /// </summary>
    /// <remarks>
    /// Sturdiness represents physical toughness and endurance. It is essential
    /// for all characters who expect to take damage:
    /// - Primary HP determinant
    /// - Soak (damage reduction)
    /// - Resistance to physical ailments
    /// - Skills: Endurance, Survival, Fortitude
    /// </remarks>
    Sturdiness = 4
}
```

### 4.3 Design Decisions

#### 4.3.1 Explicit Enum Values

**Decision:** Explicitly assign integer values (0-4) to enum members.

**Rationale:**

- Ensures stable serialization to JSON and database storage
- Prevents accidental value changes if enum order is modified
- Matches existing game patterns for enums (e.g., `Background`, `Lineage`)
- Supports array/dictionary indexing by casting to int
- Enables future attribute additions at higher values without breaking existing data

#### 4.3.2 Five-Attribute System

**Decision:** Use exactly five attributes as defined in the scope breakdown.

**Rationale:**

- Matches the design specification in v0.17.2-scope-breakdown.md
- Each attribute has distinct mechanical and thematic identity
- Five attributes balance meaningful choice with manageable complexity
- Covers all major capability categories (physical, mental, social, defensive)
- Aligns with classic RPG conventions while maintaining Aethelgard flavor

#### 4.3.3 Naming Conventions

**Decision:** Use PascalCase names based on capability descriptions.

**Rationale:**

- `Might`: Clear indication of physical power (not "Strength" to differentiate from D&D)
- `Finesse`: Conveys elegance and precision (not "Dexterity" for thematic distinction)
- `Wits`: Suggests cunning and knowledge (not "Intelligence" for action-oriented feel)
- `Will`: Implies mental fortitude and determination (not "Wisdom" to separate from Wits)
- `Sturdiness`: Emphasizes resilience and toughness (not "Constitution" for accessibility)

### 4.4 Attribute Reference Table

| Enum Value   | Integer | Display Name | Primary Role                    |
| ------------ | ------- | ------------ | ------------------------------- |
| `Might`      | 0       | MIGHT        | Melee damage, physical feats    |
| `Finesse`    | 1       | FINESSE      | Ranged accuracy, agility        |
| `Wits`       | 2       | WITS         | Knowledge, perception, crafting |
| `Will`       | 3       | WILL         | Aether power, mental resistance |
| `Sturdiness` | 4       | STURDINESS   | HP, damage resistance           |

---

## 5. AttributeDescription Value Object

### 5.1 Purpose

The `AttributeDescription` value object encapsulates all display and relationship data for a single attribute. This includes human-readable names, descriptions, and the lists of stats and skills each attribute affects.

### 5.2 Implementation

**File:** `src/Core/RuneAndRust.Domain/ValueObjects/AttributeDescription.cs`

```csharp
namespace RuneAndRust.Domain.ValueObjects;

using RuneAndRust.Domain.Enums;

/// <summary>
/// Describes a core attribute with display properties and relationship mappings.
/// </summary>
/// <remarks>
/// <para>
/// AttributeDescription is a value object containing all information needed to
/// present an attribute in the UI and understand its mechanical relationships.
/// Descriptions are loaded from configuration for easy customization.
/// </para>
/// <para>
/// Each description includes:
/// - Display name (uppercase, e.g., "MIGHT")
/// - Short description (one-line summary for tooltips)
/// - Detailed description (full explanation for help screens)
/// - Affected stats (derived stats influenced by this attribute)
/// - Affected skills (skills that use this attribute for checks)
/// </para>
/// </remarks>
/// <param name="Attribute">The core attribute this description applies to.</param>
/// <param name="DisplayName">The uppercase display name (e.g., "MIGHT").</param>
/// <param name="ShortDescription">A one-line summary of the attribute.</param>
/// <param name="DetailedDescription">A full explanation of the attribute's role.</param>
/// <param name="AffectedStats">Derived stats influenced by this attribute.</param>
/// <param name="AffectedSkills">Skills that use this attribute for checks.</param>
public readonly record struct AttributeDescription(
    CoreAttribute Attribute,
    string DisplayName,
    string ShortDescription,
    string DetailedDescription,
    IReadOnlyList<string> AffectedStats,
    IReadOnlyList<string> AffectedSkills)
{
    /// <summary>
    /// Gets whether this attribute affects any derived stats.
    /// </summary>
    public bool HasAffectedStats => AffectedStats.Count > 0;

    /// <summary>
    /// Gets whether this attribute has any associated skills.
    /// </summary>
    public bool HasAffectedSkills => AffectedSkills.Count > 0;

    /// <summary>
    /// Gets the number of derived stats affected by this attribute.
    /// </summary>
    public int AffectedStatCount => AffectedStats.Count;

    /// <summary>
    /// Gets the number of skills using this attribute.
    /// </summary>
    public int AffectedSkillCount => AffectedSkills.Count;

    /// <summary>
    /// Creates a new AttributeDescription with validation.
    /// </summary>
    /// <param name="attribute">The core attribute.</param>
    /// <param name="displayName">The display name.</param>
    /// <param name="shortDescription">The short description.</param>
    /// <param name="detailedDescription">The detailed description.</param>
    /// <param name="affectedStats">List of affected stats.</param>
    /// <param name="affectedSkills">List of affected skills.</param>
    /// <returns>A new AttributeDescription instance.</returns>
    /// <exception cref="ArgumentException">Thrown when string parameters are null or whitespace.</exception>
    public static AttributeDescription Create(
        CoreAttribute attribute,
        string displayName,
        string shortDescription,
        string detailedDescription,
        IReadOnlyList<string>? affectedStats = null,
        IReadOnlyList<string>? affectedSkills = null)
    {
        ArgumentException.ThrowIfNullOrWhiteSpace(displayName);
        ArgumentException.ThrowIfNullOrWhiteSpace(shortDescription);
        ArgumentException.ThrowIfNullOrWhiteSpace(detailedDescription);

        return new AttributeDescription(
            attribute,
            displayName.ToUpperInvariant(),
            shortDescription,
            detailedDescription,
            affectedStats ?? Array.Empty<string>(),
            affectedSkills ?? Array.Empty<string>());
    }

    /// <summary>
    /// Gets a formatted string of affected stats for display.
    /// </summary>
    /// <returns>A comma-separated list of affected stats.</returns>
    public string GetAffectedStatsSummary() =>
        AffectedStats.Count > 0
            ? string.Join(", ", AffectedStats)
            : "None";

    /// <summary>
    /// Gets a formatted string of affected skills for display.
    /// </summary>
    /// <returns>A comma-separated list of affected skills.</returns>
    public string GetAffectedSkillsSummary() =>
        AffectedSkills.Count > 0
            ? string.Join(", ", AffectedSkills)
            : "None";

    /// <summary>
    /// Checks if this attribute affects a specific stat.
    /// </summary>
    /// <param name="statName">The stat name to check (case-insensitive).</param>
    /// <returns>True if this attribute affects the specified stat.</returns>
    public bool AffectsStat(string statName) =>
        AffectedStats.Any(s => s.Equals(statName, StringComparison.OrdinalIgnoreCase));

    /// <summary>
    /// Checks if this attribute is used by a specific skill.
    /// </summary>
    /// <param name="skillName">The skill name to check (case-insensitive).</param>
    /// <returns>True if this attribute is used by the specified skill.</returns>
    public bool AffectsSkill(string skillName) =>
        AffectedSkills.Any(s => s.Equals(skillName, StringComparison.OrdinalIgnoreCase));

    /// <summary>
    /// Gets a full tooltip text combining short and detailed descriptions.
    /// </summary>
    /// <returns>A formatted tooltip string.</returns>
    public string GetTooltipText() =>
        $"{DisplayName}\n{ShortDescription}\n\n{DetailedDescription}";

    /// <inheritdoc />
    public override string ToString() =>
        $"{DisplayName}: {ShortDescription}";
}
```

### 5.3 Attribute Description Reference Table

| Attribute  | Display Name | Short Description                     | Affected Stats                           | Affected Skills                    |
| ---------- | ------------ | ------------------------------------- | ---------------------------------------- | ---------------------------------- |
| Might      | MIGHT        | Physical power and raw strength       | Melee Damage, Carrying Capacity, Stamina | Combat, Athletics, Intimidation    |
| Finesse    | FINESSE      | Agility and precision                 | Ranged Accuracy, Initiative, Stamina     | Stealth, Acrobatics, Lockpicking   |
| Wits       | WITS         | Perception and knowledge              | Aether Pool, Perception                  | Lore, Craft, Investigation         |
| Will       | WILL         | Mental fortitude and magical affinity | Aether Pool, Resolve                     | Rhetoric, Concentration, Willpower |
| Sturdiness | STURDINESS   | Endurance and physical resilience     | Max HP, Soak                             | Endurance, Survival, Fortitude     |

### 5.4 Detailed Descriptions

| Attribute  | Detailed Description                                                                                                                                   |
| ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Might      | Might represents your character's physical power. It affects melee damage, carrying capacity, and physical feats of strength.                          |
| Finesse    | Finesse represents your character's agility and hand-eye coordination. It affects ranged accuracy, initiative in combat, and evasion capability.       |
| Wits       | Wits represents your character's mental acuity and learned knowledge. It affects perception, crafting quality, and provides secondary Aether capacity. |
| Will       | Will represents your character's mental fortitude and connection to the Aether. It is the primary determinant of Aether Pool and mental resistance.    |
| Sturdiness | Sturdiness represents your character's toughness and endurance. It is the primary determinant of maximum HP and affects damage resistance.             |

---

## 6. Data Model Changes

### 6.1 New Types Summary

| Type                   | Layer  | Category     | Description                    |
| ---------------------- | ------ | ------------ | ------------------------------ |
| `CoreAttribute`        | Domain | Enum         | Five core character attributes |
| `AttributeDescription` | Domain | Value Object | Display and relationship data  |

### 6.2 File Locations

```
src/Core/RuneAndRust.Domain/
├── Enums/
│   └── CoreAttribute.cs                        ← NEW
├── ValueObjects/
│   └── AttributeDescription.cs                 ← NEW

config/
├── attributes.json                             ← NEW (partial)
└── schemas/
    └── attributes.schema.json                  ← NEW
```

### 6.3 Type Relationships

```
┌─────────────────┐         ┌─────────────────────┐
│  CoreAttribute  │◄────────│ AttributeDescription│
│     (Enum)      │  1:1    │   (Value Object)    │
└─────────────────┘         └─────────────────────┘
                                     │
                                     │ contains
                     ┌───────────────┼───────────────┐
                     ▼               ▼               ▼
          ┌──────────────┐  ┌──────────────┐  ┌────────────┐
          │ AffectedStats│  │AffectedSkills│  │Descriptions│
          │ (List<string>)│  │(List<string>)│  │  (strings) │
          └──────────────┘  └──────────────┘  └────────────┘
```

---

## 7. Configuration File Schemas

### 7.1 attributes.json (Partial - Description Section)

**File:** `config/attributes.json`

```json
{
    "$schema": "./schemas/attributes.schema.json",
    "attributes": [
        {
            "attribute": "Might",
            "displayName": "MIGHT",
            "shortDescription": "Physical power and raw strength",
            "detailedDescription": "Might represents your character's physical power. It affects melee damage, carrying capacity, and physical feats of strength.",
            "affectedStats": ["Melee Damage", "Carrying Capacity", "Stamina"],
            "affectedSkills": ["Combat", "Athletics", "Intimidation"]
        },
        {
            "attribute": "Finesse",
            "displayName": "FINESSE",
            "shortDescription": "Agility and precision",
            "detailedDescription": "Finesse represents your character's agility and hand-eye coordination. It affects ranged accuracy, initiative in combat, and evasion capability.",
            "affectedStats": ["Ranged Accuracy", "Initiative", "Stamina"],
            "affectedSkills": ["Stealth", "Acrobatics", "Lockpicking"]
        },
        {
            "attribute": "Wits",
            "displayName": "WITS",
            "shortDescription": "Perception and knowledge",
            "detailedDescription": "Wits represents your character's mental acuity and learned knowledge. It affects perception, crafting quality, and provides secondary Aether capacity.",
            "affectedStats": ["Aether Pool", "Perception"],
            "affectedSkills": ["Lore", "Craft", "Investigation"]
        },
        {
            "attribute": "Will",
            "displayName": "WILL",
            "shortDescription": "Mental fortitude and magical affinity",
            "detailedDescription": "Will represents your character's mental fortitude and connection to the Aether. It is the primary determinant of Aether Pool and mental resistance.",
            "affectedStats": ["Aether Pool", "Resolve"],
            "affectedSkills": ["Rhetoric", "Concentration", "Willpower"]
        },
        {
            "attribute": "Sturdiness",
            "displayName": "STURDINESS",
            "shortDescription": "Endurance and physical resilience",
            "detailedDescription": "Sturdiness represents your character's toughness and endurance. It is the primary determinant of maximum HP and affects damage resistance.",
            "affectedStats": ["Max HP", "Soak"],
            "affectedSkills": ["Endurance", "Survival", "Fortitude"]
        }
    ]
}
```

### 7.2 attributes.schema.json

**File:** `config/schemas/attributes.schema.json`

```json
{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "attributes.schema.json",
    "title": "Attributes Configuration",
    "description": "Configuration for core character attributes and their descriptions",
    "type": "object",
    "required": ["attributes"],
    "properties": {
        "attributes": {
            "type": "array",
            "description": "List of core attribute definitions",
            "items": { "$ref": "#/$defs/attributeDefinition" },
            "minItems": 5,
            "maxItems": 5
        }
    },
    "$defs": {
        "attributeDefinition": {
            "type": "object",
            "description": "Definition of a single core attribute",
            "required": [
                "attribute",
                "displayName",
                "shortDescription",
                "detailedDescription",
                "affectedStats",
                "affectedSkills"
            ],
            "properties": {
                "attribute": {
                    "type": "string",
                    "description": "The CoreAttribute enum value name",
                    "enum": ["Might", "Finesse", "Wits", "Will", "Sturdiness"]
                },
                "displayName": {
                    "type": "string",
                    "description": "Uppercase display name for UI",
                    "pattern": "^[A-Z]+$",
                    "minLength": 1,
                    "maxLength": 20
                },
                "shortDescription": {
                    "type": "string",
                    "description": "One-line summary for tooltips",
                    "minLength": 10,
                    "maxLength": 100
                },
                "detailedDescription": {
                    "type": "string",
                    "description": "Full explanation for help screens",
                    "minLength": 50,
                    "maxLength": 500
                },
                "affectedStats": {
                    "type": "array",
                    "description": "Derived stats influenced by this attribute",
                    "items": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 50
                    },
                    "minItems": 1,
                    "maxItems": 10
                },
                "affectedSkills": {
                    "type": "array",
                    "description": "Skills that use this attribute",
                    "items": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 50
                    },
                    "minItems": 1,
                    "maxItems": 10
                }
            },
            "additionalProperties": false
        }
    }
}
```

---

## 8. Logging Specifications

### 8.1 Log Levels by Component

| Component              | Level       | Events                           |
| ---------------------- | ----------- | -------------------------------- |
| `AttributeDescription` | Debug       | Description created, validation  |
| `AttributeProvider`    | Information | Descriptions loaded from config  |
| `AttributeProvider`    | Debug       | Individual description retrieved |
| `AttributeProvider`    | Warning     | Description not found            |

### 8.2 Structured Logging Templates

```csharp
// Debug - Description created
_logger.LogDebug(
    "AttributeDescription created for {Attribute}: {DisplayName}",
    attribute, displayName);

// Information - All descriptions loaded
_logger.LogInformation(
    "Loaded {Count} attribute descriptions from configuration",
    count);

// Debug - Description retrieved
_logger.LogDebug(
    "Retrieved description for {Attribute}: {DisplayName}",
    attribute, displayName);

// Warning - Description not found
_logger.LogWarning(
    "Attribute description not found for {Attribute}",
    attribute);
```

---

## 9. Unit Testing Requirements

### 9.1 Test Count by Feature

| Feature              | Test Count |
| -------------------- | ---------- |
| CoreAttribute enum   | ~2         |
| AttributeDescription | ~4         |
| **Total**            | **~6**     |

### 9.2 Test Specifications

#### CoreAttributeTests.cs

```csharp
[TestFixture]
public class CoreAttributeTests
{
    [Test]
    public void CoreAttribute_HasFiveValues()
    {
        // Arrange & Act
        var values = Enum.GetValues<CoreAttribute>();

        // Assert
        values.Should().HaveCount(5);
    }

    [Test]
    [TestCase(CoreAttribute.Might, 0)]
    [TestCase(CoreAttribute.Finesse, 1)]
    [TestCase(CoreAttribute.Wits, 2)]
    [TestCase(CoreAttribute.Will, 3)]
    [TestCase(CoreAttribute.Sturdiness, 4)]
    public void CoreAttribute_HasCorrectIntegerValues(CoreAttribute attribute, int expected)
    {
        // Assert
        ((int)attribute).Should().Be(expected);
    }
}
```

#### AttributeDescriptionTests.cs

```csharp
[TestFixture]
public class AttributeDescriptionTests
{
    [Test]
    public void Create_WithValidParameters_CreatesDescription()
    {
        // Arrange
        var affectedStats = new List<string> { "Melee Damage", "Stamina" };
        var affectedSkills = new List<string> { "Combat", "Athletics" };

        // Act
        var description = AttributeDescription.Create(
            CoreAttribute.Might,
            "MIGHT",
            "Physical power and strength",
            "Might represents physical power...",
            affectedStats,
            affectedSkills);

        // Assert
        description.Attribute.Should().Be(CoreAttribute.Might);
        description.DisplayName.Should().Be("MIGHT");
        description.AffectedStats.Should().HaveCount(2);
        description.AffectedSkills.Should().HaveCount(2);
    }

    [Test]
    public void Create_WithNullDisplayName_ThrowsArgumentException()
    {
        // Arrange & Act
        var act = () => AttributeDescription.Create(
            CoreAttribute.Might,
            null!,
            "Short desc",
            "Detailed desc");

        // Assert
        act.Should().Throw<ArgumentException>();
    }

    [Test]
    public void Create_NormalizesDisplayNameToUppercase()
    {
        // Arrange & Act
        var description = AttributeDescription.Create(
            CoreAttribute.Might,
            "might",
            "Short desc",
            "Detailed desc");

        // Assert
        description.DisplayName.Should().Be("MIGHT");
    }

    [Test]
    public void AffectsStat_WithMatchingStat_ReturnsTrue()
    {
        // Arrange
        var description = AttributeDescription.Create(
            CoreAttribute.Sturdiness,
            "STURDINESS",
            "Endurance",
            "Detailed description",
            new List<string> { "Max HP", "Soak" });

        // Act & Assert
        description.AffectsStat("Max HP").Should().BeTrue();
        description.AffectsStat("max hp").Should().BeTrue(); // Case insensitive
        description.AffectsStat("Initiative").Should().BeFalse();
    }

    [Test]
    public void GetAffectedStatsSummary_ReturnsFormattedString()
    {
        // Arrange
        var description = AttributeDescription.Create(
            CoreAttribute.Might,
            "MIGHT",
            "Physical power",
            "Detailed description",
            new List<string> { "Melee Damage", "Carrying Capacity" });

        // Act
        var summary = description.GetAffectedStatsSummary();

        // Assert
        summary.Should().Be("Melee Damage, Carrying Capacity");
    }

    [Test]
    public void GetTooltipText_ReturnsFormattedTooltip()
    {
        // Arrange
        var description = AttributeDescription.Create(
            CoreAttribute.Will,
            "WILL",
            "Mental fortitude",
            "Full detailed explanation here.");

        // Act
        var tooltip = description.GetTooltipText();

        // Assert
        tooltip.Should().Contain("WILL");
        tooltip.Should().Contain("Mental fortitude");
        tooltip.Should().Contain("Full detailed explanation");
    }
}
```

---

## 10. Use Cases

### UC-001: View Attribute Description

**Actor:** Player  
**Flow:** Player hovers over attribute name → System displays tooltip with ShortDescription → Player clicks for details → System shows DetailedDescription with AffectedStats and AffectedSkills

### UC-002: Allocate Attribute Points

**Actor:** Player (during character creation)  
**Flow:** Player views all 5 attributes → Selects attribute to increase → System checks point cost → Points deducted → Attribute increased → Derived stats preview updated

### UC-003: Compare Attribute Effects

**Actor:** Player  
**Flow:** Player views attribute allocation screen → Hovers over different attributes → System displays what each affects → Player makes informed allocation decision

---

## 11. User Stories

### US-001: Understand Attribute Purpose

**As a** new player  
**I want to** see clear descriptions of what each attribute does  
**So that** I can make informed decisions during character creation

**Acceptance Criteria:**

- Each attribute has a one-line short description
- Each attribute has a detailed description paragraph
- Affected stats and skills are clearly listed

### US-002: Know Attribute Relationships

**As a** player building a character  
**I want to** know which stats and skills each attribute affects  
**So that** I can optimize my character build

**Acceptance Criteria:**

- Each attribute lists its affected derived stats
- Each attribute lists its associated skills
- Relationships are displayed in the character creation UI

---

## 12. Deliverable Checklist

### Enums

- [ ] `CoreAttribute` enum created with 5 values
- [ ] Explicit integer values assigned (0-4)
- [ ] XML documentation complete with examples

### Value Objects

- [ ] `AttributeDescription` value object created
- [ ] Factory method with validation implemented
- [ ] Helper methods for summaries and lookups
- [ ] ToString() override for debugging

### Configuration Files

- [ ] `config/attributes.json` created with descriptions section
- [ ] `config/schemas/attributes.schema.json` created
- [ ] All 5 attributes configured with complete data
- [ ] Schema validates file successfully

### Testing

- [ ] ~6 unit tests implemented
- [ ] All tests passing
- [ ] Edge cases covered (null, empty, case sensitivity)

---

## 13. Acceptance Criteria

### Functional

- [ ] `CoreAttribute` enum has exactly 5 values (Might, Finesse, Wits, Will, Sturdiness)
- [ ] Enum values are explicitly assigned (0, 1, 2, 3, 4)
- [ ] `AttributeDescription` stores all required properties
- [ ] `AttributeDescription.Create()` validates required parameters
- [ ] Display names are normalized to uppercase
- [ ] Affected stats and skills are accessible via properties
- [ ] Helper methods return formatted summary strings
- [ ] Configuration file loads all 5 attribute descriptions

### Quality

- [ ] Build succeeds with 0 errors
- [ ] Build succeeds with 0 warnings
- [ ] All ~6 unit tests pass
- [ ] Configuration validates against schema
- [ ] XML documentation complete for all public members
- [ ] Code follows .editorconfig conventions

---

## 14. Dependencies

### Required from Previous Versions

| Type | Location | Usage in this phase        |
| ---- | -------- | -------------------------- |
| None | N/A      | This is foundational phase |

### Provides to Future Phases

| Type                   | Phase    | Usage                                           |
| ---------------------- | -------- | ----------------------------------------------- |
| `CoreAttribute`        | v0.17.2b | `AttributeAllocationMode` references attributes |
| `CoreAttribute`        | v0.17.2c | Point-buy costs keyed by attribute              |
| `CoreAttribute`        | v0.17.2d | Derived stat formulas reference attributes      |
| `AttributeDescription` | v0.17.2e | Provider returns descriptions                   |
| `CoreAttribute`        | v0.17.5  | Character creation step 3 allocation            |

---

## 15. Future Considerations

### Deferred to v0.17.2b

- **AttributeAllocationMode enum**: Simple/Advanced mode selection for character creation

### Deferred to v0.17.2c

- **PointBuyCost value object**: Cost calculation for attribute allocation
- **PointBuyConfiguration**: Cost tables and point pools

### Deferred to v0.17.2d

- **DerivedStats value object**: Calculated stats from attributes
- **Derived stat formulas**: HP, Stamina, Aether Pool calculations

### Deferred to v0.17.2e

- **IAttributeProvider interface**: Service for loading attribute data
- **AttributeProvider implementation**: JSON configuration loading

### Out of Scope for v0.17.2

- **Attribute progression**: Increasing attributes after character creation (v0.18+)
- **Temporary attribute modifiers**: Buffs/debuffs to attributes (existing status effect system)
- **Equipment attribute bonuses**: Items that modify attributes (existing equipment system)

---

_Document Version: 1.0_  
_Last Updated: 2025-01-27_  
_Author: AI Assistant_
