# v0.10.0b Changelog: Buff/Debuff Service

**Version:** 0.10.0b  
**Phase:** Buff/Debuff Service  
**Date:** 2026-01-16  
**Status:** ✅ Complete

---

## Summary

Implements the core service layer for applying, managing, and removing status effects with proper stacking logic.

---

## Added

### Application Layer - Interfaces

| Interface | Description |
|-----------|-------------|
| `IBuffDebuffService` | Core service interface for effect management |
| `IStatModifierService` | Service for stat modifier calculations |

### Application Layer - DTOs

| DTO | Description |
|-----|-------------|
| `ApplyResult` | Result record with factory methods (Success, Refreshed, Stacked, etc.) |
| `ApplyResultType` | Enum: Applied, Refreshed, Stacked, Replaced, AtMaxStacks, Failed, Immune, Blocked |

### Application Layer - Events

| Event | Description |
|-------|-------------|
| `EffectAppliedEvent` | Raised when effect is applied |
| `EffectRemovedEvent` | Raised when effect is removed |
| `EffectStackedEvent` | Raised when stacks change |
| `EffectRefreshedEvent` | Raised when duration refreshes |
| `EffectTickedEvent` | Raised on DoT/HoT tick |
| `EffectRemovalReason` | Enum: Expired, Manual, Cleansed, Dispelled, Death, Replaced |

### Application Layer - Services

| Service | Description |
|---------|-------------|
| `BuffDebuffService` | Full implementation with stacking rules |
| `StatModifierService` | Flat/Percentage/Override calculations |

---

## Unit Tests

**14 passed** tests covering:
- ApplyEffect scenarios (success, unknown, immune)
- Stacking rules (RefreshDuration, Stack, Block, AtMaxStacks)
- RemoveEffect (exists, not found)
- ClearDebuffs/ClearBuffs
- HasEffect, GetStackCount, GetRemainingDuration

---

## Files Changed

| Path | Change |
|------|--------|
| `src/.../DTOs/ApplyResult.cs` | NEW |
| `src/.../Events/StatusEffectEvents.cs` | NEW |
| `src/.../Interfaces/IBuffDebuffService.cs` | NEW |
| `src/.../Interfaces/IStatModifierService.cs` | NEW |
| `src/.../Services/BuffDebuffService.cs` | NEW |
| `src/.../Services/StatModifierService.cs` | NEW |
| `tests/.../BuffDebuffServiceTests.cs` | NEW |

---

## v0.10.0 Progress

| Version | Feature | Status |
|---------|---------|--------|
| v0.10.0a | Status Effect Definitions | ✅ Complete |
| v0.10.0b | Buff/Debuff Service | ✅ Complete |
| v0.10.0c | Effect Application Rules | Next |
