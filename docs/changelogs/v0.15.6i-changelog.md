# v0.15.6i - Room Entry Integration

**Release Date:** 2026-01-26

## Summary

Implements value objects and interfaces for **room entry perception integration**.

## Added

### Value Objects (Domain)

| Value Object                 | Purpose                                         |
| ---------------------------- | ----------------------------------------------- |
| `GatedElement`               | Perception-gated description fragment with DC   |
| `PerceptionGatedDescription` | Room description with gated elements            |
| `RoomEntryContext`           | Context for room entry perception flow          |
| `RevealedElement`            | Hidden element revealed by passive perception   |
| `AutoDetectedElement`        | Element auto-detected by specialization ability |
| `RoomEntryPerceptionResult`  | Complete perception result for room entry       |

### Interfaces (Application)

| Interface                     | Purpose                                         |
| ----------------------------- | ----------------------------------------------- |
| `IRoomEntryPerceptionService` | Orchestrates room entry perception flow         |
| `IRoomDescriptionComposer`    | Composes room descriptions from perception data |

## Key Features

### Gated Descriptions

- Base description always shown
- Additional fragments revealed at DC thresholds
- Priority-based ordering
- Specialization bonuses per element

### Room Entry Flow

1. Calculate passive perception (with specialization bonuses)
2. Check hidden elements against passive DC
3. Check auto-detection abilities (e.g., Sixth Sense)
4. Evaluate gated description elements
5. Compose final description with all discoveries

### Auto-Detection

- Specialization abilities can auto-detect elements
- Distance-based proximity checks
- Ability callouts in description

## Tests Added

| Test Class                 | Test Count |
| -------------------------- | ---------- |
| `RoomEntryPerceptionTests` | 6 tests    |

## Related Design Specification

- [v0.15.6i Design Specification](../design/v0.15.x/v0.15.6i-design-specification.md)
