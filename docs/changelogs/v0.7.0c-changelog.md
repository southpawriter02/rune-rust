# v0.7.0c Changelog: Game Window Layout

**Version:** 0.7.0c  
**Phase:** Application Shell - Game Window Layout  
**Date:** 2026-01-14  
**Status:** âœ… Complete

---

## Summary

Implements the main game window that hosts all game panels. Establishes the window layout structure with defined regions, navigation services for window switching, and panel visibility management.

---

## Added

### Services

| File | Description |
|------|-------------|
| `Services/PanelRegion.cs` | Enum defining layout regions (MainContent, BottomContent, RightSidebar, Input, CombatOverlay) |
| `Services/INavigationService.cs` | Interface for window navigation, dialogs, and application lifecycle |
| `Services/NavigationService.cs` | Implementation with window replacement, file dialogs, and quit functionality |
| `Services/IWindowLayoutService.cs` | Interface for panel registration and visibility management |
| `Services/WindowLayoutService.cs` | Implementation with panel tracking and layout change events |

### Views

| File | Description |
|------|-------------|
| `Views/GameWindow.axaml` | Game window with DockPanel layout, menu bar, and region placeholders |
| `Views/GameWindow.axaml.cs` | Code-behind with documentation |

### ViewModels

| File | Description |
|------|-------------|
| `ViewModels/GameWindowViewModel.cs` | Window state, combat mode, and menu commands |

---

## Modified

| File | Changes |
|------|---------|
| `ViewModels/MainMenuViewModel.cs` | Refactored to use INavigationService for navigation |
| `App.axaml.cs` | Registered NavigationService, WindowLayoutService, GameWindowViewModel in DI container |

---

## Window Layout Regions

| Region | Purpose | Panel (Future) |
|--------|---------|----------------|
| MainContent | Room display | v0.7.1 |
| BottomContent | Message log | v0.7.1 |
| RightSidebarTop | Player status | v0.7.1 |
| RightSidebarBottom | Inventory | v0.7.2 |
| Input | Command entry | v0.7.2 |
| CombatOverlay | Combat grid | v0.7.3 |

---

## Menu Bar Structure

| Menu | Items |
|------|-------|
| **File** | New Game, Load Game, Save Game, Settings, Return to Menu, Exit |
| **Game** | Character, Map, Quest Log, Pause (disabled) |
| **Help** | How to Play, Controls (disabled), About |

---

## Navigation Commands

| Command | Description |
|---------|-------------|
| NewGame | Starts new game (placeholder) |
| LoadGame | Opens file picker, logs selected path |
| SaveGame | Opens save dialog, logs selected path |
| OpenSettings | Shows SettingsWindow dialog |
| ReturnToMainMenu | Navigates to MainMenuWindow |
| Quit | Exits application |
| ShowAbout | About dialog (placeholder) |

---

## Test Results

```
New v0.7.0c Tests:    17 passed
  - NavigationServiceTests: 3
  - WindowLayoutServiceTests: 5
  - GameWindowViewModelTests: 9
Build:                 0 errors, 0 warnings
Full Suite:            2463 passed (2 pre-existing failures)
```
