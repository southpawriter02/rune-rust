# v0.7.3b Changelog - Grid Interaction

## Added

### Core Service
- **`GridInteractionMode`** enum with `None`, `Movement`, `Attack`, `Ability` modes
- **`IGridInteractionService`** interface for grid-based targeting
- **`GridInteractionService`** implementation with:
  - Mode entry/exit management
  - Valid target calculation (movement range, attack range, ability range)
  - Click handling with action completion events
  - Hover tracking for tooltips
  - Highlight cell generation

### Models
- **`HighlightedCell`** record for cell highlighting data
- **`TargetingResult`** record for targeting action results
- **`HoverInfo`** record for hover tooltip data

### ViewModel Updates
- **`CombatGridPanelViewModel`**:
  - `IsTargeting` property for targeting state
  - `TargetingHint` property for user guidance
  - `InteractionService` property for service access
  - `SetInteractionService()` for DI integration
  - `RefreshHighlights()` for highlight updates
  - `GetCellAt()` helper for position lookup

### Unit Tests (8 new)
- `EnterMovementMode_SetsCorrectState`
- `EnterMovementMode_CalculatesReachableCells`
- `EnterAttackMode_SetsCorrectState`
- `CancelTargeting_ClearsState`
- `HandleCellClick_OnValidTarget_RaisesCompletionEvent`
- `HandleCellClick_OnInvalidTarget_ReturnsFailure`
- `GetHighlightedCells_ReturnsCorrectType_ForMovement`
- `HandleCellHover_UpdatesHoverInfo`

## Technical Notes

- Service uses Manhattan distance for movement, Chebyshev distance for attacks
- Hover highlight uses `HighlightType.Selected` for non-valid cells
- Target calculation respects grid bounds and cell passability
- Events enable loose coupling: `OnTargetingComplete`, `OnHighlightsChanged`, `OnHoverChanged`

## Files Changed

| File | Change |
|------|--------|
| `Services/GridInteractionMode.cs` | New |
| `Services/IGridInteractionService.cs` | New |
| `Services/GridInteractionService.cs` | New |
| `Models/GridInteractionModels.cs` | New |
| `ViewModels/CombatGridPanelViewModel.cs` | Modified |
| `Services/GridInteractionServiceTests.cs` | New |
