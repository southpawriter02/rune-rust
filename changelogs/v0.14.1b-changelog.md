# v0.14.1b Changelog: Status Effect Schema

**Date:** 2026-01-21
**Version:** 0.14.1b
**Scope:** Status Effect Schema

---

## Summary

Introduced `status-effects.schema.json` to validate status effect configuration. The schema defines complete validation for buffs, debuffs, and environmental effects including duration types, stacking rules, stat modifiers, trigger conditions, cleanse categories, and immunity definitions.

---

## Added

### Schema Files
- **`config/schemas/status-effects.schema.json`** - JSON Schema Draft-07 for status effects
  - Root properties: `$schema`, `version`, `effects` array
  - `StatusEffect` definition (25 properties)
  - `StatModifier` definition (statId, modifierType, value)
  - `TriggerCondition` definition (trigger, effectId, damageAmount, chance)
  - `EffectImmunity` definition (effectId, category)

### Enum Validations
| Enum | Values |
|------|--------|
| category | Buff, Debuff, Environmental |
| durationType | Turns, Permanent, Triggered, ResourceBased |
| stackingRule | None, RefreshDuration, StackIntensity, StackDuration, Block |
| cleansableBy | Magic, Poison, Curse, Disease, Physical, All |
| modifierType | Flat, Percentage |
| trigger | OnHit, OnDamage, OnTurnStart, OnTurnEnd, OnAbilityUse, OnMove, OnHeal, OnDeath |
| statId | attack, defense, speed, maxHealth, might, fortitude, will, wits, finesse |

### Unit Tests
- **`StatusEffectsSchemaTests.cs`** - 7 new tests
  1. `Schema_IsValidJsonSchemaDraft07`
  2. `ExistingStatusEffectsJson_ValidatesAgainstSchema`
  3. `Category_InvalidEnumValue_FailsValidation`
  4. `DurationType_InvalidEnumValue_FailsValidation`
  5. `StackingRule_InvalidEnumValue_FailsValidation`
  6. `StatModifier_MissingRequiredFields_FailsValidation`
  7. `EffectId_InvalidPattern_FailsValidation`

---

## Changed

### Configuration Updates
- **`config/status-effects.json`** - Updated `$schema` from `./status-effects.schema.json` to `./schemas/status-effects.schema.json`

---

## Verification

| Check | Status |
|-------|--------|
| Build (0 errors) | ✅ |
| Build (0 warnings) | ✅ |
| New unit tests (7/7) | ✅ |
| Schema tests (101/101) | ✅ |
| Existing effects validate | ✅ (28 effects) |

---

## Dependencies

**Requires:** v0.14.0 (Character Configuration Schemas)
**Provides:** Status effect validation for v0.14.1c, v0.14.1d
