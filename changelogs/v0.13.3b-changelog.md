# v0.13.3b Changelog
**Crafting Station Interface**

## Overview
Version 0.13.3b implements the Crafting Station Interface for the TUI, providing recipe display, material availability tracking, and crafting progress feedback.

## Added

### DTOs (`src/Presentation/RuneAndRust.Presentation.Tui/DTOs/`)
- **CraftingDisplayDtos.cs** - Four new display DTOs:
  - `CraftingStationDisplayDto` - Station information for menu header
  - `StationRecipeDisplayDto` - Recipe with craftability status and materials
  - `MaterialRequirementDto` - Material requirements with owned vs needed quantities
  - `CraftingProgressDto` - Crafting progress tracking

### Configuration (`src/Presentation/RuneAndRust.Presentation.Tui/Configuration/`)
- **CraftingStationConfig.cs** - Configuration for:
  - Menu dimensions (width, height, panel widths)
  - Progress bar settings (width, characters, animation)
  - Color settings (header, craftable, selection, progress)

### Renderers (`src/Presentation/RuneAndRust.Presentation.Tui/Renderers/`)
- **CraftingProgressRenderer.cs** - Progress bar rendering:
  - `RenderProgress()` - Full progress display with recipe name
  - `FormatProgressBar()` - ASCII progress bar string
  - `AnimateProgress()` - Animated progress transition
  - `ShowComplete()` - Completion message display

### UI Components (`src/Presentation/RuneAndRust.Presentation.Tui/UI/`)
- **MaterialAvailabilityDisplay.cs** - Material panel:
  - `RenderMaterials()` - Display material requirements
  - `GetAvailabilityIndicator()` - Returns [x] or [ ] based on availability
  - `IsCraftable()` - Check if recipe can be crafted
  - `HighlightMissing()` - Visual feedback for missing materials

- **CraftingStationMenu.cs** - Main crafting interface:
  - `RenderStation()` - Full station menu display
  - `RenderRecipeList()` - Scrollable recipe list with indicators
  - Navigation: `SelectNext()`, `SelectPrevious()`, `SelectRecipe()`
  - `ShowCraftingProgress()` - Progress bar during crafting
  - `HandleInput()` - Keyboard navigation (↑/↓/C/Esc)
  - Events: `CraftRequested`, `MenuClosed`

### Configuration Files (`config/`)
- **crafting-station.json** - Runtime configuration values
- **schemas/crafting-station.schema.json** - JSON schema for validation

### Unit Tests (`tests/RuneAndRust.Presentation.Tui.UnitTests/`)
- **Renderers/CraftingProgressRendererTests.cs** (~6 tests)
  - Progress bar formatting, percentage display, custom characters
- **UI/MaterialAvailabilityDisplayTests.cs** (~7 tests)
  - Availability indicators, craftability checks, optional materials
- **UI/CraftingStationMenuTests.cs** (~14 tests)
  - Navigation, input handling, craft events, menu state

## Visual Elements

### Recipe List Format
```
  AVAILABLE RECIPES
  ─────────────────

  ► [x] Iron Sword          [2 mat]
    [x] Iron Shield         [3 mat]
    [ ] Mithril Armor       [5 mat]
```

### Material Panel Format
```
YOUR MATERIALS
──────────────

Iron Ore       24/2  [x]
Coal           8/1   [x]
Mithril Ore    0/5   [ ]
```

### Progress Bar Format
```
Crafting: Steel Blade
[##########....................] 35%
```

## Test Results
- Total new tests: ~27
- All tests passing
- Build: 0 warnings, 0 errors

## Dependencies
- Built upon v0.13.3a Resource Inventory Panel components
- Uses existing `ResourceStackRenderer` for material display
- Uses existing `ITerminalService` for terminal output
