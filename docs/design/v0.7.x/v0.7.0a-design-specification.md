# v0.7.0a Design Specification: Avalonia Project Setup

**Version:** 0.7.0a
**Parent:** v0.7.0 (Application Shell)
**Prerequisites:** v0.6.3b Complete (TUI Enhancements - Tab Completion)
**Status:** Design Complete
**Estimated Unit Tests:** ~5

---

## Table of Contents

1. [Overview](#1-overview)
2. [Feature Overview](#2-feature-overview)
3. [Architecture](#3-architecture)
4. [Project Structure](#4-project-structure)
5. [Application Entry Point](#5-application-entry-point)
6. [Application Class](#6-application-class)
7. [Theme Resources](#7-theme-resources)
8. [Control Styles](#8-control-styles)
9. [Configuration](#9-configuration)
10. [Data Model Changes](#10-data-model-changes)
11. [Logging Specifications](#11-logging-specifications)
12. [Unit Testing Requirements](#12-unit-testing-requirements)
13. [Use Cases](#13-use-cases)
14. [Deliverable Checklist](#14-deliverable-checklist)
15. [Acceptance Criteria](#15-acceptance-criteria)
16. [Dependencies](#16-dependencies)
17. [Future Considerations](#17-future-considerations)

---

## 1. Overview

### Purpose

This phase establishes the Avalonia UI project infrastructure for the game's graphical interface. It creates the foundation that all subsequent GUI components build upon, including the project configuration, application entry point, theming system, and common control styles.

### Key Deliverables

| Category | Items |
|----------|-------|
| **Project Files** | `.csproj`, `Program.cs` |
| **Application Files** | `App.axaml`, `App.axaml.cs` |
| **Theme Resources** | `BaseTheme.axaml`, `Colors.axaml`, `Typography.axaml` |
| **Control Styles** | `ButtonStyles.axaml`, `TextBlockStyles.axaml`, `PanelStyles.axaml` |
| **Tests** | ~5 unit tests |

### Design Principles

1. **Dark Fantasy Aesthetic**: Brown/gold color palette matching game theme
2. **Resource Centralization**: All colors and styles defined in resource dictionaries
3. **Cross-Platform Support**: Windows, macOS, and Linux builds from same codebase
4. **MVVM Architecture**: CommunityToolkit.Mvvm for view model infrastructure

---

## 2. Feature Overview

```
v0.7.0a Features
├── Project Configuration
│   ├── RuneAndRust.Avalonia.csproj
│   ├── NuGet package references
│   └── Project references to Application/Infrastructure
├── Application Entry
│   ├── Program.cs with AppBuilder
│   └── Platform detection and initialization
├── Application Class
│   ├── App.axaml resource definitions
│   └── App.axaml.cs startup logic
├── Theme Resources
│   ├── BaseTheme.axaml (FluentTheme configuration)
│   ├── Colors.axaml (color palette)
│   └── Typography.axaml (font definitions)
├── Control Styles
│   ├── ButtonStyles.axaml (menu buttons, action buttons)
│   ├── TextBlockStyles.axaml (headers, body, labels)
│   └── PanelStyles.axaml (containers, cards)
└── Assets
    ├── Fonts directory
    └── Images directory (logo placeholder)
```

---

## 3. Architecture

### Layer Diagram

```
┌─────────────────────────────────────────────────────────────────────────┐
│                       PRESENTATION LAYER (NEW)                          │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                    RuneAndRust.Avalonia                         │   │
│  ├─────────────────────────────────────────────────────────────────┤   │
│  │  Program.cs          - Application entry point                  │   │
│  │  App.axaml(.cs)      - Application resources and startup        │   │
│  │  Themes/             - Color and typography resources           │   │
│  │  Styles/             - Control style definitions                │   │
│  │  Assets/             - Fonts and images                         │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                                                         │
└────────────────────────────────────┬────────────────────────────────────┘
                                     │ References
                                     ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                         APPLICATION LAYER                               │
├─────────────────────────────────────────────────────────────────────────┤
│  RuneAndRust.Application - Services, DTOs, Interfaces                  │
└────────────────────────────────────┬────────────────────────────────────┘
                                     │ References
                                     ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                        INFRASTRUCTURE LAYER                             │
├─────────────────────────────────────────────────────────────────────────┤
│  RuneAndRust.Infrastructure - Configuration loading, persistence       │
└─────────────────────────────────────────────────────────────────────────┘
```

### Startup Flow

```
┌─────────────────────────────────────────────────────────────────────────┐
│                        APPLICATION STARTUP FLOW                         │
└─────────────────────────────────────────────────────────────────────────┘

    Program.Main()
           │
           ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                         BuildAvaloniaApp()                              │
├─────────────────────────────────────────────────────────────────────────┤
│  1. Configure App class                                                 │
│  2. UsePlatformDetect() - Windows/macOS/Linux                          │
│  3. WithInterFont() - Load Inter font family                           │
│  4. LogToTrace() - Enable diagnostic logging                           │
└─────────────────────────────────────────────────────────────────────────┘
           │
           ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                   StartWithClassicDesktopLifetime()                     │
├─────────────────────────────────────────────────────────────────────────┤
│  1. Create desktop application lifecycle                               │
│  2. Initialize App.OnFrameworkInitializationCompleted()                │
│  3. Configure DI container                                             │
│  4. Show MainWindow (v0.7.0b)                                          │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## 4. Project Structure

### Directory Layout

```
src/Presentation/RuneAndRust.Avalonia/
├── RuneAndRust.Avalonia.csproj
├── Program.cs
├── App.axaml
├── App.axaml.cs
├── app.manifest                    (Windows manifest)
├── Assets/
│   ├── Fonts/
│   │   └── .gitkeep
│   └── Images/
│       └── logo.png               (placeholder)
├── Themes/
│   ├── BaseTheme.axaml
│   ├── Colors.axaml
│   └── Typography.axaml
├── Styles/
│   ├── ButtonStyles.axaml
│   ├── TextBlockStyles.axaml
│   └── PanelStyles.axaml
├── Views/
│   └── .gitkeep                   (v0.7.0b+)
├── ViewModels/
│   ├── ViewModelBase.cs
│   └── .gitkeep                   (v0.7.0b+)
└── Services/
    └── .gitkeep                   (v0.7.0c)
```

### Project File

**File:** `src/Presentation/RuneAndRust.Avalonia/RuneAndRust.Avalonia.csproj`

```xml
<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <OutputType>WinExe</OutputType>
    <TargetFramework>net8.0</TargetFramework>
    <Nullable>enable</Nullable>
    <ImplicitUsings>enable</ImplicitUsings>
    <BuiltInComInteropSupport>true</BuiltInComInteropSupport>
    <ApplicationManifest>app.manifest</ApplicationManifest>
    <AvaloniaUseCompiledBindingsByDefault>true</AvaloniaUseCompiledBindingsByDefault>
    <RootNamespace>RuneAndRust.Avalonia</RootNamespace>
    <AssemblyName>RuneAndRust</AssemblyName>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Avalonia" Version="11.*" />
    <PackageReference Include="Avalonia.Desktop" Version="11.*" />
    <PackageReference Include="Avalonia.Themes.Fluent" Version="11.*" />
    <PackageReference Include="Avalonia.Fonts.Inter" Version="11.*" />
    <PackageReference Include="Avalonia.Diagnostics" Version="11.*" Condition="'$(Configuration)' == 'Debug'" />
    <PackageReference Include="CommunityToolkit.Mvvm" Version="8.*" />
    <PackageReference Include="Microsoft.Extensions.DependencyInjection" Version="8.*" />
    <PackageReference Include="Serilog" Version="3.*" />
    <PackageReference Include="Serilog.Sinks.Console" Version="5.*" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\..\Core\RuneAndRust.Application\RuneAndRust.Application.csproj" />
    <ProjectReference Include="..\..\Infrastructure\RuneAndRust.Infrastructure\RuneAndRust.Infrastructure.csproj" />
  </ItemGroup>

  <ItemGroup>
    <AvaloniaResource Include="Assets\**" />
  </ItemGroup>
</Project>
```

---

## 5. Application Entry Point

**File:** `src/Presentation/RuneAndRust.Avalonia/Program.cs`

```csharp
namespace RuneAndRust.Avalonia;

using global::Avalonia;

/// <summary>
/// Application entry point for the Avalonia GUI.
/// </summary>
public class Program
{
    /// <summary>
    /// Main entry point for the application.
    /// </summary>
    /// <param name="args">Command line arguments.</param>
    [STAThread]
    public static void Main(string[] args) => BuildAvaloniaApp()
        .StartWithClassicDesktopLifetime(args);

    /// <summary>
    /// Builds the Avalonia application with platform detection and fonts.
    /// </summary>
    /// <returns>Configured AppBuilder instance.</returns>
    /// <remarks>
    /// This method is also used by the visual designer for previews.
    /// </remarks>
    public static AppBuilder BuildAvaloniaApp()
        => AppBuilder.Configure<App>()
            .UsePlatformDetect()
            .WithInterFont()
            .LogToTrace();
}
```

---

## 6. Application Class

**File:** `src/Presentation/RuneAndRust.Avalonia/App.axaml`

```xml
<Application xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="RuneAndRust.Avalonia.App"
             RequestedThemeVariant="Dark">
    
    <Application.Styles>
        <FluentTheme />
        <StyleInclude Source="avares://RuneAndRust.Avalonia/Themes/BaseTheme.axaml" />
        <StyleInclude Source="avares://RuneAndRust.Avalonia/Styles/ButtonStyles.axaml" />
        <StyleInclude Source="avares://RuneAndRust.Avalonia/Styles/TextBlockStyles.axaml" />
        <StyleInclude Source="avares://RuneAndRust.Avalonia/Styles/PanelStyles.axaml" />
    </Application.Styles>
    
    <Application.Resources>
        <ResourceInclude Source="avares://RuneAndRust.Avalonia/Themes/Colors.axaml" />
        <ResourceInclude Source="avares://RuneAndRust.Avalonia/Themes/Typography.axaml" />
    </Application.Resources>
</Application>
```

**File:** `src/Presentation/RuneAndRust.Avalonia/App.axaml.cs`

```csharp
namespace RuneAndRust.Avalonia;

using global::Avalonia;
using global::Avalonia.Controls.ApplicationLifetimes;
using global::Avalonia.Markup.Xaml;
using Microsoft.Extensions.DependencyInjection;
using Serilog;

/// <summary>
/// Main application class for the Avalonia GUI.
/// </summary>
public partial class App : Application
{
    /// <summary>
    /// Gets the service provider for dependency injection.
    /// </summary>
    public static IServiceProvider? Services { get; private set; }

    /// <summary>
    /// Initializes the application and loads XAML resources.
    /// </summary>
    public override void Initialize()
    {
        AvaloniaXamlLoader.Load(this);
    }

    /// <summary>
    /// Called when the framework initialization is completed.
    /// </summary>
    public override void OnFrameworkInitializationCompleted()
    {
        ConfigureLogging();
        ConfigureServices();

        if (ApplicationLifetime is IClassicDesktopStyleApplicationLifetime desktop)
        {
            Log.Information("Starting Rune and Rust GUI v0.7.0");
            // MainWindow will be set in v0.7.0b
            // desktop.MainWindow = new MainMenuWindow();
        }

        base.OnFrameworkInitializationCompleted();
    }

    private static void ConfigureLogging()
    {
        Log.Logger = new LoggerConfiguration()
            .MinimumLevel.Debug()
            .WriteTo.Console()
            .CreateLogger();
    }

    private static void ConfigureServices()
    {
        var services = new ServiceCollection();
        
        // Register logging
        services.AddLogging(builder => builder.AddSerilog());
        
        // Application services will be registered here in v0.7.0b+
        // services.AddSingleton<IGameSessionService, GameSessionService>();
        // services.AddSingleton<ISaveLoadService, SaveLoadService>();
        
        Services = services.BuildServiceProvider();
    }
}
```

**File:** `src/Presentation/RuneAndRust.Avalonia/ViewModels/ViewModelBase.cs`

```csharp
namespace RuneAndRust.Avalonia.ViewModels;

using CommunityToolkit.Mvvm.ComponentModel;

/// <summary>
/// Base class for all view models in the application.
/// </summary>
/// <remarks>
/// Inherits from ObservableObject to provide INotifyPropertyChanged support
/// via the CommunityToolkit.Mvvm source generators.
/// </remarks>
public abstract partial class ViewModelBase : ObservableObject
{
}
```

---

## 7. Theme Resources

### Colors Resource Dictionary

**File:** `src/Presentation/RuneAndRust.Avalonia/Themes/Colors.axaml`

```xml
<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    
    <!-- Primary Colors (Brown/Leather) -->
    <Color x:Key="PrimaryColor">#8B4513</Color>
    <Color x:Key="PrimaryLightColor">#A0522D</Color>
    <Color x:Key="PrimaryDarkColor">#654321</Color>
    
    <!-- Accent Colors (Gold/Bronze) -->
    <Color x:Key="AccentColor">#DAA520</Color>
    <Color x:Key="AccentLightColor">#FFD700</Color>
    <Color x:Key="AccentDarkColor">#B8860B</Color>
    
    <!-- Background Colors -->
    <Color x:Key="BackgroundColor">#1E1E1E</Color>
    <Color x:Key="SurfaceColor">#2D2D2D</Color>
    <Color x:Key="PanelColor">#252525</Color>
    <Color x:Key="CardColor">#333333</Color>
    
    <!-- Text Colors -->
    <Color x:Key="TextPrimaryColor">#E0E0E0</Color>
    <Color x:Key="TextSecondaryColor">#A0A0A0</Color>
    <Color x:Key="TextMutedColor">#707070</Color>
    <Color x:Key="TextAccentColor">#DAA520</Color>
    
    <!-- Status Colors -->
    <Color x:Key="HealthColor">#228B22</Color>
    <Color x:Key="HealthLowColor">#FF4500</Color>
    <Color x:Key="HealthCriticalColor">#8B0000</Color>
    <Color x:Key="ManaColor">#4169E1</Color>
    <Color x:Key="EnergyColor">#FFD700</Color>
    <Color x:Key="RageColor">#DC143C</Color>
    <Color x:Key="XPColor">#9932CC</Color>
    
    <!-- Combat Colors -->
    <Color x:Key="DamageColor">#FF4444</Color>
    <Color x:Key="HealColor">#44FF44</Color>
    <Color x:Key="CriticalColor">#FF00FF</Color>
    <Color x:Key="MissColor">#888888</Color>
    
    <!-- Brushes -->
    <SolidColorBrush x:Key="PrimaryBrush" Color="{StaticResource PrimaryColor}" />
    <SolidColorBrush x:Key="PrimaryLightBrush" Color="{StaticResource PrimaryLightColor}" />
    <SolidColorBrush x:Key="AccentBrush" Color="{StaticResource AccentColor}" />
    <SolidColorBrush x:Key="BackgroundBrush" Color="{StaticResource BackgroundColor}" />
    <SolidColorBrush x:Key="SurfaceBrush" Color="{StaticResource SurfaceColor}" />
    <SolidColorBrush x:Key="PanelBrush" Color="{StaticResource PanelColor}" />
    <SolidColorBrush x:Key="CardBrush" Color="{StaticResource CardColor}" />
    <SolidColorBrush x:Key="TextPrimaryBrush" Color="{StaticResource TextPrimaryColor}" />
    <SolidColorBrush x:Key="TextSecondaryBrush" Color="{StaticResource TextSecondaryColor}" />
    <SolidColorBrush x:Key="TextMutedBrush" Color="{StaticResource TextMutedColor}" />
    <SolidColorBrush x:Key="TextAccentBrush" Color="{StaticResource TextAccentColor}" />
    
</ResourceDictionary>
```

### Typography Resource Dictionary

**File:** `src/Presentation/RuneAndRust.Avalonia/Themes/Typography.axaml`

```xml
<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    
    <!-- Font Sizes -->
    <x:Double x:Key="FontSizeXSmall">10</x:Double>
    <x:Double x:Key="FontSizeSmall">12</x:Double>
    <x:Double x:Key="FontSizeBody">14</x:Double>
    <x:Double x:Key="FontSizeMedium">16</x:Double>
    <x:Double x:Key="FontSizeLarge">20</x:Double>
    <x:Double x:Key="FontSizeXLarge">24</x:Double>
    <x:Double x:Key="FontSizeTitle">32</x:Double>
    <x:Double x:Key="FontSizeDisplay">48</x:Double>
    
    <!-- Font Weights -->
    <FontWeight x:Key="FontWeightLight">Light</FontWeight>
    <FontWeight x:Key="FontWeightNormal">Normal</FontWeight>
    <FontWeight x:Key="FontWeightMedium">Medium</FontWeight>
    <FontWeight x:Key="FontWeightSemiBold">SemiBold</FontWeight>
    <FontWeight x:Key="FontWeightBold">Bold</FontWeight>
    
    <!-- Spacing -->
    <Thickness x:Key="SpacingXSmall">4</Thickness>
    <Thickness x:Key="SpacingSmall">8</Thickness>
    <Thickness x:Key="SpacingMedium">16</Thickness>
    <Thickness x:Key="SpacingLarge">24</Thickness>
    <Thickness x:Key="SpacingXLarge">32</Thickness>
    
</ResourceDictionary>
```

### Base Theme

**File:** `src/Presentation/RuneAndRust.Avalonia/Themes/BaseTheme.axaml`

```xml
<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    
    <!-- Override FluentTheme accent colors -->
    <SolidColorBrush x:Key="SystemAccentColor" Color="#DAA520" />
    <SolidColorBrush x:Key="SystemAccentColorDark1" Color="#B8860B" />
    <SolidColorBrush x:Key="SystemAccentColorLight1" Color="#FFD700" />
    
    <!-- Window defaults -->
    <SolidColorBrush x:Key="WindowBackgroundBrush" Color="#1E1E1E" />
    
</ResourceDictionary>
```

---

## 8. Control Styles

### Button Styles

**File:** `src/Presentation/RuneAndRust.Avalonia/Styles/ButtonStyles.axaml`

```xml
<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    
    <!-- Menu Button Style -->
    <Style Selector="Button.menu-button">
        <Setter Property="Background" Value="{StaticResource PrimaryBrush}" />
        <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}" />
        <Setter Property="FontSize" Value="{StaticResource FontSizeMedium}" />
        <Setter Property="FontWeight" Value="{StaticResource FontWeightSemiBold}" />
        <Setter Property="Padding" Value="24,12" />
        <Setter Property="MinWidth" Value="200" />
        <Setter Property="HorizontalContentAlignment" Value="Center" />
        <Setter Property="CornerRadius" Value="4" />
    </Style>
    
    <Style Selector="Button.menu-button:pointerover">
        <Setter Property="Background" Value="{StaticResource PrimaryLightBrush}" />
    </Style>
    
    <Style Selector="Button.menu-button:pressed">
        <Setter Property="Background" Value="{StaticResource AccentBrush}" />
    </Style>
    
    <!-- Action Button Style -->
    <Style Selector="Button.action-button">
        <Setter Property="Background" Value="{StaticResource AccentBrush}" />
        <Setter Property="Foreground" Value="#1E1E1E" />
        <Setter Property="FontSize" Value="{StaticResource FontSizeBody}" />
        <Setter Property="FontWeight" Value="{StaticResource FontWeightBold}" />
        <Setter Property="Padding" Value="16,8" />
        <Setter Property="CornerRadius" Value="4" />
    </Style>
    
</Styles>
```

### TextBlock Styles

**File:** `src/Presentation/RuneAndRust.Avalonia/Styles/TextBlockStyles.axaml`

```xml
<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    
    <!-- Title Style -->
    <Style Selector="TextBlock.title">
        <Setter Property="FontSize" Value="{StaticResource FontSizeTitle}" />
        <Setter Property="FontWeight" Value="{StaticResource FontWeightBold}" />
        <Setter Property="Foreground" Value="{StaticResource TextAccentBrush}" />
    </Style>
    
    <!-- Heading Style -->
    <Style Selector="TextBlock.heading">
        <Setter Property="FontSize" Value="{StaticResource FontSizeLarge}" />
        <Setter Property="FontWeight" Value="{StaticResource FontWeightSemiBold}" />
        <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}" />
    </Style>
    
    <!-- Body Style -->
    <Style Selector="TextBlock.body">
        <Setter Property="FontSize" Value="{StaticResource FontSizeBody}" />
        <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}" />
    </Style>
    
    <!-- Secondary Style -->
    <Style Selector="TextBlock.secondary">
        <Setter Property="FontSize" Value="{StaticResource FontSizeBody}" />
        <Setter Property="Foreground" Value="{StaticResource TextSecondaryBrush}" />
    </Style>
    
    <!-- Muted Style -->
    <Style Selector="TextBlock.muted">
        <Setter Property="FontSize" Value="{StaticResource FontSizeSmall}" />
        <Setter Property="Foreground" Value="{StaticResource TextMutedBrush}" />
    </Style>
    
</Styles>
```

### Panel Styles

**File:** `src/Presentation/RuneAndRust.Avalonia/Styles/PanelStyles.axaml`

```xml
<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    
    <!-- Card Panel -->
    <Style Selector="Border.card">
        <Setter Property="Background" Value="{StaticResource CardBrush}" />
        <Setter Property="CornerRadius" Value="8" />
        <Setter Property="Padding" Value="16" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="BorderBrush" Value="{StaticResource PrimaryBrush}" />
    </Style>
    
    <!-- Panel Container -->
    <Style Selector="Border.panel">
        <Setter Property="Background" Value="{StaticResource PanelBrush}" />
        <Setter Property="CornerRadius" Value="4" />
        <Setter Property="Padding" Value="8" />
    </Style>
    
</Styles>
```

---

## 9. Configuration

No new configuration files are required for v0.7.0a. The Avalonia project uses the existing infrastructure configuration loading patterns.

---

## 10. Data Model Changes

### New Types

| Type | Layer | Description |
|------|-------|-------------|
| `ViewModelBase` | Presentation | Base class for MVVM view models |

No domain or application layer changes required for this phase.

---

## 11. Logging Specifications

| Component | Level | Events |
|-----------|-------|--------|
| `App` | Information | Application startup, shutdown |
| `App` | Debug | Service configuration, resource loading |
| `App` | Error | Initialization failures |

---

## 12. Unit Testing Requirements

### Test Count by Feature

| Feature | Test Count |
|---------|------------|
| Application lifecycle | ~2 |
| Resource dictionary loading | ~2 |
| ViewModelBase | ~1 |
| **Total** | **~5** |

### Test Specifications

**File:** `tests/RuneAndRust.Avalonia.UnitTests/AppTests.cs`

```csharp
[TestFixture]
public class AppTests
{
    [Test]
    public void BuildAvaloniaApp_ReturnsConfiguredAppBuilder();
    
    [Test]
    public void App_Initialize_LoadsXamlResources();
}
```

**File:** `tests/RuneAndRust.Avalonia.UnitTests/ViewModels/ViewModelBaseTests.cs`

```csharp
[TestFixture]
public class ViewModelBaseTests
{
    [Test]
    public void PropertyChanged_WhenPropertySet_RaisesEvent();
}
```

---

## 13. Use Cases

### UC-070a-001: Launch Application
**Actor:** Player
**Flow:** Double-click application → Program.Main() executes → App initializes → Resources load → (MainWindow opens in v0.7.0b)

### UC-070a-002: Design-Time Preview
**Actor:** Developer
**Flow:** Open .axaml file in IDE → BuildAvaloniaApp() called → Theme and styles apply → Preview renders

---

## 14. Deliverable Checklist

### Project Configuration
- [ ] `RuneAndRust.Avalonia.csproj` created
- [ ] `app.manifest` created for Windows
- [ ] NuGet packages referenced

### Application Core
- [ ] `Program.cs` with entry point
- [ ] `App.axaml` with resource includes
- [ ] `App.axaml.cs` with initialization

### Theme Resources
- [ ] `Themes/BaseTheme.axaml` created
- [ ] `Themes/Colors.axaml` created
- [ ] `Themes/Typography.axaml` created

### Control Styles
- [ ] `Styles/ButtonStyles.axaml` created
- [ ] `Styles/TextBlockStyles.axaml` created
- [ ] `Styles/PanelStyles.axaml` created

### View Models
- [ ] `ViewModels/ViewModelBase.cs` created

### Assets
- [ ] `Assets/Fonts/.gitkeep` created
- [ ] `Assets/Images/.gitkeep` created

### Testing
- [ ] ~5 unit tests implemented
- [ ] All tests passing

---

## 15. Acceptance Criteria

### Project Structure
- [ ] Avalonia project compiles successfully
- [ ] Project references Application and Infrastructure layers
- [ ] All NuGet packages restore correctly

### Application Startup
- [ ] Application launches without errors
- [ ] FluentTheme applies with dark variant
- [ ] Serilog logging initializes

### Resources
- [ ] Color resources load successfully
- [ ] Typography resources load successfully
- [ ] Custom styles apply to controls

### Cross-Platform
- [ ] Builds on Windows
- [ ] Builds on macOS
- [ ] Builds on Linux

### Quality
- [ ] Build completes with 0 errors
- [ ] Build completes with 0 warnings
- [ ] ~5 unit tests pass

---

## 16. Dependencies

### Required from Prior Versions

| Type | Location | Usage |
|------|----------|-------|
| `RuneAndRust.Application` | Application layer | Service interfaces |
| `RuneAndRust.Infrastructure` | Infrastructure layer | Configuration loading |

### Provides to v0.7.0b

| Type | Usage |
|------|-------|
| `App` class | Application lifecycle for MainMenuWindow |
| `ViewModelBase` | Base class for MainMenuViewModel |
| Color/Style resources | Theming for menu buttons and text |
| DI container | Service resolution for view models |

---

## 17. Future Considerations

### Deferred to v0.7.0b
- **MainMenuWindow**: Main menu UI implementation
- **SettingsWindow**: Settings dialog

### Deferred to v0.7.0c
- **GameWindow**: Main game container
- **NavigationService**: Window navigation
- **WindowLayoutService**: Panel management

### Out of Scope
- **Custom fonts**: Using Inter font from Avalonia.Fonts.Inter
- **Animated logo**: Static logo placeholder sufficient for foundation

---

*Document Version: 1.0*
*Last Updated: 2026-01-10*
*Author: Assistant*
