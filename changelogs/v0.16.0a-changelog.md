# v0.16.0a Changelog - Quality Tier Enum

## Summary

Implements the foundational **Quality Tier System** for equipment classification. Establishes a five-tier quality framework (Jury-Rigged → Scavenged → Clan-Forged → Optimized → Myth-Forged) that will be used throughout v0.16.x for stat scaling, drop probability, and loot presentation.

## Added

### Domain Layer - Enums (1 file)

| File             | Description                                                                                                                                                 |
| ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `QualityTier.cs` | 5-value enum with explicit integer values (0-4): JuryRigged, Scavenged, ClanForged, Optimized, MythForged. Norse-thematic naming aligned with game setting. |

### Domain Layer - Value Objects (2 files)

| File                     | Description                                                                                                                                                                                                                                                                                          |
| ------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `TierColorDefinition.cs` | `readonly record struct` for tier color representation. Properties: HexColor, ConsoleColor, RgbRed/Green/Blue. Factory methods: `FromHex()`, `FromRgb()`. Static defaults for all 5 tiers.                                                                                                           |
| `TierMetadata.cs`        | `readonly record struct` for tier display metadata. Properties: Tier, DisplayName, DisplayNamePlural, Description, ColorDefinition, IconGlyph, DropWeightMultiplier. Factory: `Create()` with validation. Helper: `FormatItemName()`. Computed: TierValue, IsLowestTier, IsHighestTier, IsLegendary. |

### Application Layer - Interfaces (1 file)

| File                       | Description                                                                                                                                                                                                    |
| -------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `ITierMetadataProvider.cs` | Interface for tier metadata access. Methods: `GetMetadata()`, `GetAllMetadata()`, `GetTierColor()`, `GetTierDisplayName()`, `GetTierIcon()`, `FormatItemName()`, `GetDropWeight()`, `ValidateConfiguration()`. |

### Configuration (2 files)

| File                                       | Description                                                                                                                           |
| ------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------- |
| `config/quality-tiers.json`                | Tier definitions with displayName, description, iconGlyph, dropWeightMultiplier, and color objects for all 5 tiers.                   |
| `config/schemas/quality-tiers.schema.json` | JSON Schema draft-07 for validation. Enforces exactly 5 tiers, validates hex color format (#RRGGBB), enum values, and numeric ranges. |

### Unit Tests (3 files, 30+ test cases)

| File                          | Tests                                                                                                                                                                                                              |
| ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `QualityTierTests.cs`         | All 5 tiers defined, expected integer values (parameterized), tier comparison via int casting, case-insensitive parsing, invalid parse rejection.                                                                  |
| `TierColorDefinitionTests.cs` | FromHex valid/invalid, FromRgb, RgbTuple extraction, HexColorRaw, default colors match spec, ToString format.                                                                                                      |
| `TierMetadataTests.cs`        | Create valid, null/empty string validation, negative weight validation, zero weight, FormatItemName valid/invalid, TierValue parameterized, IsLowestTier/IsHighestTier/IsLegendary parameterized, ToString format. |

## Key Features

### Quality Tier Hierarchy

| Tier       | Value | Display Name | Icon | Drop Weight | Color          |
| ---------- | :---: | ------------ | :--: | :---------: | -------------- |
| JuryRigged |   0   | Jury-Rigged  |  ○   |    1.00     | Gray #808080   |
| Scavenged  |   1   | Scavenged    |  ●   |    0.50     | White #FFFFFF  |
| ClanForged |   2   | Clan-Forged  |  ◆   |    0.25     | Green #00FF00  |
| Optimized  |   3   | Optimized    |  ★   |    0.10     | Purple #800080 |
| MythForged |   4   | Myth-Forged  |  ✦   |    0.02     | Gold #FFD700   |

## Files Changed

### Added (9 files)

- `src/Core/RuneAndRust.Domain/Enums/QualityTier.cs`
- `src/Core/RuneAndRust.Domain/ValueObjects/TierColorDefinition.cs`
- `src/Core/RuneAndRust.Domain/ValueObjects/TierMetadata.cs`
- `src/Core/RuneAndRust.Application/Interfaces/ITierMetadataProvider.cs`
- `config/schemas/quality-tiers.schema.json`
- `tests/RuneAndRust.Domain.UnitTests/Enums/QualityTierTests.cs`
- `tests/RuneAndRust.Domain.UnitTests/ValueObjects/TierColorDefinitionTests.cs`
- `tests/RuneAndRust.Domain.UnitTests/ValueObjects/TierMetadataTests.cs`
- `changelogs/v0.16.0a-changelog.md`

### Modified (1 file)

- `config/quality-tiers.json` — Replaced crafting-focused structure with loot-focused 5-tier system

## Dependencies

- `System.ConsoleColor` — For TUI color representation
- No external package dependencies added

## Notes

- Explicit enum values (0-4) ensure stable serialization and database storage
- `TierMetadataProvider` implementation deferred to v0.16.0d (Loot Service Integration)
- `IsLegendary` currently equals `IsHighestTier`; may diverge if legendary system expands
