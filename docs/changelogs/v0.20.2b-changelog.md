# v0.20.2b Changelog — Rúnasmiðr Tier 2 Abilities

## Added

### Domain Layer — Value Objects

- **`EmpoweredRune`** (`ValueObjects/EmpoweredRune.cs`) — Immutable sealed record for elemental weapon rune enhancement (+1d6 fire/cold/lightning/aetheric, 10-turn duration). Includes `Create`, `Tick`, `IsValidElement`, and display helpers.
- **`RunicTrap`** (`ValueObjects/RunicTrap.cs`) — Immutable sealed record for battlefield traps (3d6 damage, DC 14 detection, 1-hour expiry, max 3 active). Includes `Create`, `Trigger`, `IsVisibleTo`, and time display helpers.
- **`TrapTriggerResult`** (`ValueObjects/TrapTriggerResult.cs`) — Immutable result record for trap trigger outcomes with `Triggered`/`Failed` factory methods.

### Domain Layer — Enums

- **`TrapTriggerType`** (`Enums/TrapTriggerType.cs`) — Movement (default), Proximity, and Timed trigger types. Proximity/Timed forward-declared for future versions.

### Application Layer — Services

- **`RunasmidrTier2AbilityService`** (`Services/RunasmidrTier2AbilityService.cs`) — Handles:
    - **Empowered Inscription:** `CreateEmpoweredRune`, `TickEmpoweredRune`, element validation
    - **Runic Trap:** `PlaceRunicTrap`, `TriggerTrap`, `CanPlaceTrap` with max-3 enforcement
    - **Dvergr Techniques:** `ApplyDvergrCostReduction`, `ApplyDvergrTimeReduction` (20% each)
    - **PP Helpers:** `CanUnlockTier2`, `CalculatePPInvested`, `GetAbilityPPCost` for all Rúnasmiðr abilities
    - Exhaustive structured logging at Information/Warning/Debug levels

### Configuration

- **`specializations.json`** — Added Tier 2 ability block for Rúnasmiðr with `empowered-inscription`, `runic-trap`, and `dvergr-techniques` entries.

### Unit Tests

- **`EmpoweredRuneTests`** (15 tests) — Creation, normalization, element validation, tick/expiry, display
- **`RunicTrapTests`** (17 tests) — Creation, trigger mechanics, double-trigger rejection, expiry, visibility, detection, constants
- **`RunasmidrTier2AbilityServiceTests`** (21 tests) — All three abilities + PP prerequisite logic with Moq logger and seeded Random
