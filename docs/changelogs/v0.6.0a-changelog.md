# v0.6.0a Changelog: Screen Layout System

**Version:** 0.6.0a  
**Phase:** Screen Layout System  
**Date:** 2026-01-14  
**Status:** ✅ Complete

---

## Summary

Establishes the foundational TUI infrastructure with terminal abstraction, panel-based layout management, and responsive sizing. This provides the container framework for all subsequent v0.6.x UI components.

---

## Added

### Application Layer

| Component | File | Description |
|-----------|------|-------------|
| `ITerminalService` | Interfaces/ITerminalService.cs | Terminal abstraction interface |

### Infrastructure Layer

| Component | File | Description |
|-----------|------|-------------|
| `TerminalService` | Services/TerminalService.cs | Console wrapper with resize polling |

### Presentation Layer (TUI)

| Component | File | Description |
|-----------|------|-------------|
| `PanelPosition` | UI/PanelPosition.cs | Enum: MainContent, Sidebar, Footer, Input, Popup |
| `Panel` | UI/Panel.cs | Value object with content area calculation |
| `ScreenLayout` | UI/ScreenLayout.cs | Layout manager with responsive sizing |

---

## Key Features

| Feature | Description |
|---------|-------------|
| Terminal Size Detection | `GetSize()` returns width/height |
| Resize Polling | 250ms polling for size changes |
| Capability Detection | `SupportsColor`, `SupportsUnicode` |
| Panel Layout | MainContent, Sidebar, Footer, Input |
| Responsive Sizing | Sidebar 25% (max 30), main fills remaining |
| Border Drawing | Unicode (┌─┐) or ASCII (+--+) fallback |
| Minimum Size Validation | 80x24 minimum with warning |

---

## Test Results

```
Domain Tests:       1,484 passed
Application Tests:    712 passed (+25 from v0.5.3c)
Architecture Tests:     8 passed
─────────────────────────────────────────────────
Total:              2,204 passed (2 pre-existing failures)
```

### New v0.6.0a Tests (25 tests)

| Test File | Tests |
|-----------|-------|
| PanelTests.cs | 9 |
| ScreenLayoutTests.cs | 16 |

---

## Logging Strategy

| Level | Template |
|-------|----------|
| Debug | `TerminalService initialized: {Width}x{Height}, Color={Color}, Unicode={Unicode}` |
| Debug | `Terminal resized: {OldWidth}x{OldHeight} -> {NewWidth}x{NewHeight}` |
| Debug | `Layout recalculated: Main={MainW}x{MainH}, Sidebar={SidebarW}` |
| Warning | `Terminal size {Width}x{Height} is below minimum {MinWidth}x{MinHeight}` |

---

## Next Steps

- **v0.6.0b** — Status Bar (persistent status display in footer panel)
- **v0.6.0c** — Color Themes (theme configuration and message type colors)
