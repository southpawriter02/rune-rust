# v0.16.0b Design Specification: Stat Scaling System

**Version:** 0.16.0b  
**Phase Name:** Stat Scaling System  
**Parent Version:** v0.16.0 (Quality Tier System)  
**Prerequisites:** v0.16.0a Complete (Quality Tier Enum)  
**Estimated Tests:** ~4 unit tests

---

## Table of Contents

1. [Executive Summary](#1-executive-summary)
2. [Feature Overview](#2-feature-overview)
3. [Architecture Diagrams](#3-architecture-diagrams)
4. [WeaponTierScaling Value Object](#4-weapontierscaling-value-object)
5. [ArmorTierScaling Value Object](#5-armortierscaling-value-object)
6. [AttributeBonusRange Value Object](#6-attributebonusrange-value-object)
7. [ITierScalingService Interface](#7-itierscalingservice-interface)
8. [Data Model Changes](#8-data-model-changes)
9. [Configuration File Schemas](#9-configuration-file-schemas)
10. [Logging Specifications](#10-logging-specifications)
11. [Unit Testing Requirements](#11-unit-testing-requirements)
12. [Use Cases](#12-use-cases)
13. [Deliverable Checklist](#13-deliverable-checklist)
14. [Acceptance Criteria](#14-acceptance-criteria)
15. [Dependencies](#15-dependencies)
16. [Future Considerations](#16-future-considerations)

---

## 1. Executive Summary

### 1.1 Purpose

This specification defines the stat scaling system that determines weapon and armor statistics based on quality tier. Higher-tier equipment has progressively better damage, accuracy, defense, HP bonuses, and may include attribute bonuses.

The scaling follows a **progressive power fantasy** design where each tier represents approximately 50-80% power increase over the previous tier. This creates meaningful upgrade moments when players find higher-tier gear while ensuring lower-tier equipment remains viable in early game.

Key features:

- **Weapon Scaling**: Damage dice, accuracy modifiers, and attribute bonuses
- **Armor Scaling**: HP bonuses, defense values, penalty reduction, and attribute bonuses
- **Random Attribute Bonuses**: Tier 3 items roll 1d2 bonus, Tier 4 items roll 1d3+1 bonus
- **Configuration-Driven**: All scaling values loaded from `tier-scaling.json`

### 1.2 Key Deliverables

| Category          | Items                                                          |
| ----------------- | -------------------------------------------------------------- |
| **Value Objects** | `WeaponTierScaling`, `ArmorTierScaling`, `AttributeBonusRange` |
| **Interfaces**    | `ITierScalingService`                                          |
| **Configuration** | `tier-scaling.json`, `tier-scaling.schema.json`                |
| **Tests**         | ~4 unit tests                                                  |

### 1.3 Architectural Significance

This version establishes the **Tier Scaling Pattern** that will be used throughout the loot system:

- **Tier-Indexed Lookups**: Scaling values retrieved by `QualityTier` enum
- **Dice Expression Format**: Damage stored as parseable strings (e.g., "2d6+4")
- **Range-Based Rolling**: Attribute bonuses use min/max ranges for randomization
- **Service Abstraction**: `ITierScalingService` centralizes scaling logic

---

## 2. Feature Overview

```
v0.16.0b Stat Scaling System
├── WeaponTierScaling Value Object
│   ├── Tier: QualityTier
│   ├── DamageDice: string (e.g., "2d6+4")
│   ├── AccuracyModifier: int (-1 to +2)
│   └── AttributeBonusRange: AttributeBonusRange?
├── ArmorTierScaling Value Object
│   ├── Tier: QualityTier
│   ├── HpBonus: int (+5 to +30)
│   ├── DefenseBonus: int (+1 to +3)
│   ├── PenaltyReduction: int (0 to 1)
│   └── AttributeBonusRange: AttributeBonusRange?
├── AttributeBonusRange Value Object
│   ├── MinBonus: int
│   ├── MaxBonus: int
│   └── RollBonus(rng): int (random in range)
└── ITierScalingService Interface
    ├── GetWeaponScaling(tier): WeaponTierScaling
    ├── GetArmorScaling(tier): ArmorTierScaling
    ├── RollWeaponAttributeBonus(tier, rng): int?
    └── RollArmorAttributeBonus(tier, rng): int?
```

### 2.1 Scope Alignment

**In Scope:**

- `WeaponTierScaling` value object with damage, accuracy, and attribute range
- `ArmorTierScaling` value object with HP, defense, penalty reduction, and attribute range
- `AttributeBonusRange` value object for randomized attribute bonuses
- `ITierScalingService` interface for scaling data access
- Attribute bonus rolling logic (1d2 for Tier 3, 1d3+1 for Tier 4)
- `tier-scaling.json` configuration file
- `tier-scaling.schema.json` validation schema

**Out of Scope:**

- Drop probability tables (v0.16.0c)
- Loot service integration (v0.16.0d)
- Weapon proficiency effects on damage (v0.16.1)
- Armor proficiency penalty doubling (v0.16.2)
- Smart loot filtering (v0.16.3)

---

## 3. Architecture Diagrams

### 3.1 Stat Scaling System Overview

```
┌─────────────────────────────────────────────────────────────────────┐
│                    STAT SCALING SYSTEM OVERVIEW                      │
└─────────────────────────────────────────────────────────────────────┘

    Equipment Item
           │
           │  Has QualityTier property
           ▼
┌─────────────────────────────────────────────────────────────────────┐
│                         QualityTier                                  │
│                     (from v0.16.0a)                                  │
├─────────────────────────────────────────────────────────────────────┤
│  JuryRigged (0)  │  Scavenged (1)  │  ClanForged (2)                │
│  Optimized (3)   │  MythForged (4) │                                 │
└─────────────────────────────────────────────────────────────────────┘
           │
           │  Lookup scaling for tier
           ▼
┌─────────────────────────────────────────────────────────────────────┐
│                      ITierScalingService                             │
├─────────────────────────────────────────────────────────────────────┤
│  + GetWeaponScaling(tier): WeaponTierScaling                        │
│  + GetArmorScaling(tier): ArmorTierScaling                          │
│  + RollWeaponAttributeBonus(tier, rng): int?                        │
│  + RollArmorAttributeBonus(tier, rng): int?                         │
└─────────────────────────────────────────────────────────────────────┘
           │                              │
           │ Weapon                       │ Armor
           ▼                              ▼
┌───────────────────────────┐  ┌───────────────────────────┐
│    WeaponTierScaling      │  │     ArmorTierScaling      │
├───────────────────────────┤  ├───────────────────────────┤
│ Tier: QualityTier         │  │ Tier: QualityTier         │
│ DamageDice: string        │  │ HpBonus: int              │
│ AccuracyModifier: int     │  │ DefenseBonus: int         │
│ AttributeBonusRange: ...  │  │ PenaltyReduction: int     │
└───────────────────────────┘  │ AttributeBonusRange: ...  │
                               └───────────────────────────┘
```

### 3.2 Tier Scaling Decision Tree

```
┌─────────────────────────────────────────────────────────────────────┐
│                 TIER SCALING DECISION TREE                           │
└─────────────────────────────────────────────────────────────────────┘

    Generate Equipment Stats
           │
           ├─── Is it a Weapon?
           │           │
           │           ▼
           │    ┌──────────────────────────────────────────────────┐
           │    │             WEAPON SCALING                        │
           │    ├──────────────────────────────────────────────────┤
           │    │  1. Get WeaponTierScaling for tier               │
           │    │  2. Apply DamageDice (e.g., "2d6+4")             │
           │    │  3. Apply AccuracyModifier (-1 to +2)            │
           │    │  4. Check if tier >= ClanForged (2)              │
           │    │     YES: Roll AttributeBonus                     │
           │    │          - Tier 2: +1 (fixed)                    │
           │    │          - Tier 3: +1d2 (1-2)                    │
           │    │          - Tier 4: +1d3+1 (2-4)                  │
           │    │     NO: No attribute bonus                       │
           │    │  5. Assign BonusAttribute (MIGHT, FINESSE, etc.) │
           │    └──────────────────────────────────────────────────┘
           │
           └─── Is it Armor?
                       │
                       ▼
                ┌──────────────────────────────────────────────────┐
                │             ARMOR SCALING                         │
                ├──────────────────────────────────────────────────┤
                │  1. Get ArmorTierScaling for tier                │
                │  2. Apply HpBonus (+5 to +30)                    │
                │  3. Apply DefenseBonus (+1 to +3)                │
                │  4. Apply PenaltyReduction (0 or 1 tier)         │
                │  5. Check if tier >= ClanForged (2)              │
                │     YES: Roll AttributeBonus                     │
                │          - Tier 2: +1 (fixed)                    │
                │          - Tier 3: +1d2 (1-2)                    │
                │          - Tier 4: +1d3+1 (2-4)                  │
                │     NO: No attribute bonus                       │
                │  6. Assign BonusAttribute (STURDINESS, etc.)     │
                └──────────────────────────────────────────────────┘
```

### 3.3 Layer Diagram

```
┌─────────────────────────────────────────────────────────────────────┐
│                        PRESENTATION LAYER                            │
├─────────────────────────────────────────────────────────────────────┤
│  ItemDetailsView                                                     │
│  └── Displays weapon damage, accuracy, attribute bonuses            │
│                                                                      │
│  EquipmentCompareView                                                │
│  └── Shows stat differences between equipped and loot items         │
└───────┬─────────────────────────────────────────────────────────────┘
        │
        ▼
┌─────────────────────────────────────────────────────────────────────┐
│                       APPLICATION LAYER                              │
├─────────────────────────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │                  TierScalingService                            │  │
│  │              (implements ITierScalingService)                  │  │
│  ├───────────────────────────────────────────────────────────────┤  │
│  │  + GetWeaponScaling(tier): WeaponTierScaling                  │  │
│  │  + GetArmorScaling(tier): ArmorTierScaling                    │  │
│  │  + RollWeaponAttributeBonus(tier, rng): int?                  │  │
│  │  + RollArmorAttributeBonus(tier, rng): int?                   │  │
│  │                                                               │  │
│  │  - LoadConfiguration(): void                                  │  │
│  │  - _weaponScaling: Dictionary<QualityTier, WeaponTierScaling> │  │
│  │  - _armorScaling: Dictionary<QualityTier, ArmorTierScaling>   │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                      │
│  LootService (v0.16.0d)                                              │
│  └── Uses ITierScalingService to apply stats to generated items     │
└───────┬─────────────────────────────────────────────────────────────┘
        │
        ▼
┌─────────────────────────────────────────────────────────────────────┐
│                         DOMAIN LAYER                                 │
├─────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────┐  ┌─────────────────────────────────┐  │
│  │   WeaponTierScaling     │  │     ArmorTierScaling            │  │
│  │     (Value Object)      │  │     (Value Object)              │  │
│  ├─────────────────────────┤  ├─────────────────────────────────┤  │
│  │ Tier: QualityTier       │  │ Tier: QualityTier               │  │
│  │ DamageDice: string      │  │ HpBonus: int                    │  │
│  │ AccuracyModifier: int   │  │ DefenseBonus: int               │  │
│  │ AttributeBonusRange: ?  │  │ PenaltyReduction: int           │  │
│  └─────────────────────────┘  │ AttributeBonusRange: range?     │  │
│                               └─────────────────────────────────┘  │
│                                                                      │
│  ┌─────────────────────────┐  ┌─────────────────────────────────┐  │
│  │   AttributeBonusRange   │  │        QualityTier              │  │
│  │     (Value Object)      │  │        (from v0.16.0a)          │  │
│  ├─────────────────────────┤  ├─────────────────────────────────┤  │
│  │ MinBonus: int           │  │ JuryRigged = 0                  │  │
│  │ MaxBonus: int           │  │ Scavenged = 1                   │  │
│  │ RollBonus(rng): int     │  │ ClanForged = 2                  │  │
│  └─────────────────────────┘  │ Optimized = 3                   │  │
│                               │ MythForged = 4                  │  │
│                               └─────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────┘
```

### 3.4 Attribute Bonus Rolling Flow

```
┌─────────────────────────────────────────────────────────────────────┐
│                  ATTRIBUTE BONUS ROLLING FLOW                        │
└─────────────────────────────────────────────────────────────────────┘

    QualityTier
         │
         ▼
    ┌─────────────────────────────────────────────────────────────────┐
    │                   CHECK TIER ELIGIBILITY                         │
    ├─────────────────────────────────────────────────────────────────┤
    │  Tier 0 (JuryRigged)  → No attribute bonus                      │
    │  Tier 1 (Scavenged)   → No attribute bonus                      │
    │  Tier 2+ (ClanForged) → Has attribute bonus                     │
    └─────────────────────────────────────────────────────────────────┘
         │
         │ (if Tier >= 2)
         ▼
    ┌─────────────────────────────────────────────────────────────────┐
    │              ATTRIBUTE BONUS RANGE BY TIER                       │
    ├─────────────────────────────────────────────────────────────────┤
    │                                                                  │
    │  Tier 2 (ClanForged):                                           │
    │    Range: { Min: 1, Max: 1 }                                    │
    │    Result: Always +1                                            │
    │                                                                  │
    │  Tier 3 (Optimized):                                            │
    │    Range: { Min: 1, Max: 2 }                                    │
    │    Roll: 1d2 → Result: +1 or +2                                 │
    │                                                                  │
    │  Tier 4 (MythForged):                                           │
    │    Range: { Min: 2, Max: 4 }                                    │
    │    Roll: 1d3+1 → Result: +2, +3, or +4                          │
    │                                                                  │
    └─────────────────────────────────────────────────────────────────┘
         │
         ▼
    ┌─────────────────────────────────────────────────────────────────┐
    │                    ATTRIBUTE SELECTION                           │
    ├─────────────────────────────────────────────────────────────────┤
    │  Weapon Attributes (based on weapon category):                  │
    │    - MIGHT: Axes, Hammers, Greatswords                          │
    │    - FINESSE: Daggers, Bows, Light swords                       │
    │    - WILL: Staves, Arcane Implements                            │
    │    - WITS: Crossbows, Firearms                                  │
    │                                                                  │
    │  Armor Attributes:                                              │
    │    - STURDINESS: Most armor types                               │
    │    - Varied: Some specialized armor                             │
    └─────────────────────────────────────────────────────────────────┘
```

### 3.5 Configuration Loading Sequence

```
┌─────────────────────────────────────────────────────────────────────┐
│                  CONFIGURATION LOADING SEQUENCE                      │
└─────────────────────────────────────────────────────────────────────┘

    Application         TierScalingService        Config System
       Startup               (Service)                  │
         │                      │                       │
         │  Register services   │                       │
         ├─────────────────────▶│                       │
         │                      │                       │
         │                      │  Load tier-scaling.json
         │                      ├──────────────────────▶│
         │                      │                       │
         │                      │  ◀── JSON content     │
         │                      │                       │
         │                      │  Validate against     │
         │                      │  tier-scaling.schema.json
         │                      │                       │
         │                      │  Parse weapon scaling │
         │                      │  for all 5 tiers      │
         │                      │                       │
         │                      │  Parse armor scaling  │
         │                      │  for all 5 tiers      │
         │                      │                       │
         │                      │  Build lookup dicts   │
         │                      │                       │
         │  ◀─────── Ready      │                       │
         │                      │                       │
         │  GetWeaponScaling()  │                       │
         ├─────────────────────▶│                       │
         │                      │                       │
         │  ◀── Scaling data    │                       │
         ▼                      ▼                       ▼
```

---

## 4. WeaponTierScaling Value Object

### 4.1 Purpose

The `WeaponTierScaling` value object defines the stat modifiers for weapons at a specific quality tier. This includes base damage dice, accuracy modifiers, and attribute bonus ranges.

### 4.2 Implementation

**File:** `src/Core/RuneAndRust.Domain/ValueObjects/WeaponTierScaling.cs`

```csharp
namespace RuneAndRust.Domain.ValueObjects;

using RuneAndRust.Domain.Enums;

/// <summary>
/// Defines the stat scaling for weapons at a specific quality tier.
/// </summary>
/// <remarks>
/// <para>
/// Weapon scaling follows a progressive power curve where each tier
/// represents approximately 50-80% power increase. The damage dice
/// string uses standard notation (e.g., "2d6+4") that can be parsed
/// by the dice rolling system.
/// </para>
/// <para>
/// Attribute bonuses are only available for Tier 2 (ClanForged) and above.
/// Lower tiers are functional but don't provide stat enhancements.
/// </para>
/// </remarks>
/// <param name="Tier">The quality tier this scaling applies to.</param>
/// <param name="DamageDice">Base damage in dice notation (e.g., "1d6", "2d6+4").</param>
/// <param name="AccuracyModifier">Accuracy bonus or penalty (-1 to +2).</param>
/// <param name="AttributeBonusRange">Optional attribute bonus range for Tier 2+.</param>
public readonly record struct WeaponTierScaling(
    QualityTier Tier,
    string DamageDice,
    int AccuracyModifier,
    AttributeBonusRange? AttributeBonusRange)
{
    /// <summary>
    /// Gets the tier as an integer value.
    /// </summary>
    public int TierValue => (int)Tier;

    /// <summary>
    /// Gets whether this tier includes an attribute bonus.
    /// </summary>
    public bool HasAttributeBonus => AttributeBonusRange.HasValue;

    /// <summary>
    /// Gets whether this tier has an accuracy penalty (negative modifier).
    /// </summary>
    public bool HasAccuracyPenalty => AccuracyModifier < 0;

    /// <summary>
    /// Gets whether this tier has an accuracy bonus (positive modifier).
    /// </summary>
    public bool HasAccuracyBonus => AccuracyModifier > 0;

    /// <summary>
    /// Rolls an attribute bonus within the defined range.
    /// </summary>
    /// <param name="random">Random number generator.</param>
    /// <returns>The rolled bonus, or null if no bonus range is defined.</returns>
    public int? RollAttributeBonus(Random random)
    {
        return AttributeBonusRange?.RollBonus(random);
    }

    /// <summary>
    /// Creates a new WeaponTierScaling with validation.
    /// </summary>
    /// <param name="tier">The quality tier.</param>
    /// <param name="damageDice">Damage dice notation.</param>
    /// <param name="accuracyModifier">Accuracy modifier.</param>
    /// <param name="attributeBonusRange">Optional attribute bonus range.</param>
    /// <returns>A new WeaponTierScaling instance.</returns>
    /// <exception cref="ArgumentException">Thrown when damageDice is null or empty.</exception>
    public static WeaponTierScaling Create(
        QualityTier tier,
        string damageDice,
        int accuracyModifier,
        AttributeBonusRange? attributeBonusRange = null)
    {
        ArgumentException.ThrowIfNullOrWhiteSpace(damageDice);

        return new WeaponTierScaling(
            tier,
            damageDice,
            accuracyModifier,
            attributeBonusRange);
    }

    /// <summary>
    /// Creates a display string for debug/logging purposes.
    /// </summary>
    /// <returns>A formatted string representation.</returns>
    public override string ToString()
    {
        var accuracyText = AccuracyModifier >= 0 ? $"+{AccuracyModifier}" : $"{AccuracyModifier}";
        var attrText = HasAttributeBonus ? $", Attr: {AttributeBonusRange}" : "";
        return $"Tier {TierValue}: {DamageDice} dmg, {accuracyText} acc{attrText}";
    }
}
```

### 4.3 Weapon Scaling Reference Table

| Tier | Enum Value | Damage Dice | Accuracy | Attribute Bonus  |
| ---- | ---------- | ----------- | -------- | ---------------- |
| 0    | JuryRigged | 1d6         | -1       | None             |
| 1    | Scavenged  | 1d6+1       | 0        | None             |
| 2    | ClanForged | 1d6+3       | 0        | +1 (fixed)       |
| 3    | Optimized  | 2d6         | +1       | +1 to +2 (1d2)   |
| 4    | MythForged | 2d6+4       | +2       | +2 to +4 (1d3+1) |

---

## 5. ArmorTierScaling Value Object

### 5.1 Purpose

The `ArmorTierScaling` value object defines the stat modifiers for armor at a specific quality tier. This includes HP bonuses, defense bonuses, penalty reduction, and attribute bonus ranges.

### 5.2 Implementation

**File:** `src/Core/RuneAndRust.Domain/ValueObjects/ArmorTierScaling.cs`

```csharp
namespace RuneAndRust.Domain.ValueObjects;

using RuneAndRust.Domain.Enums;

/// <summary>
/// Defines the stat scaling for armor at a specific quality tier.
/// </summary>
/// <remarks>
/// <para>
/// Armor scaling provides defensive bonuses that increase with tier.
/// Higher-tier armor not only provides better HP and defense but may
/// also reduce the penalties associated with heavier armor types.
/// </para>
/// <para>
/// The PenaltyReduction property indicates how many tiers the armor's
/// penalties are reduced by. For example, a value of 1 means Heavy
/// armor penalties are calculated as Medium armor penalties.
/// </para>
/// </remarks>
/// <param name="Tier">The quality tier this scaling applies to.</param>
/// <param name="HpBonus">Maximum HP bonus provided by this tier.</param>
/// <param name="DefenseBonus">Defense stat bonus provided by this tier.</param>
/// <param name="PenaltyReduction">Armor penalty tier reduction (0 or 1).</param>
/// <param name="AttributeBonusRange">Optional attribute bonus range for Tier 2+.</param>
public readonly record struct ArmorTierScaling(
    QualityTier Tier,
    int HpBonus,
    int DefenseBonus,
    int PenaltyReduction,
    AttributeBonusRange? AttributeBonusRange)
{
    /// <summary>
    /// Gets the tier as an integer value.
    /// </summary>
    public int TierValue => (int)Tier;

    /// <summary>
    /// Gets whether this tier includes an attribute bonus.
    /// </summary>
    public bool HasAttributeBonus => AttributeBonusRange.HasValue;

    /// <summary>
    /// Gets whether this tier reduces armor penalties.
    /// </summary>
    public bool HasPenaltyReduction => PenaltyReduction > 0;

    /// <summary>
    /// Rolls an attribute bonus within the defined range.
    /// </summary>
    /// <param name="random">Random number generator.</param>
    /// <returns>The rolled bonus, or null if no bonus range is defined.</returns>
    public int? RollAttributeBonus(Random random)
    {
        return AttributeBonusRange?.RollBonus(random);
    }

    /// <summary>
    /// Creates a new ArmorTierScaling with validation.
    /// </summary>
    /// <param name="tier">The quality tier.</param>
    /// <param name="hpBonus">HP bonus value.</param>
    /// <param name="defenseBonus">Defense bonus value.</param>
    /// <param name="penaltyReduction">Penalty tier reduction.</param>
    /// <param name="attributeBonusRange">Optional attribute bonus range.</param>
    /// <returns>A new ArmorTierScaling instance.</returns>
    /// <exception cref="ArgumentOutOfRangeException">Thrown when values are negative.</exception>
    public static ArmorTierScaling Create(
        QualityTier tier,
        int hpBonus,
        int defenseBonus,
        int penaltyReduction,
        AttributeBonusRange? attributeBonusRange = null)
    {
        ArgumentOutOfRangeException.ThrowIfNegative(hpBonus);
        ArgumentOutOfRangeException.ThrowIfNegative(defenseBonus);
        ArgumentOutOfRangeException.ThrowIfNegative(penaltyReduction);
        ArgumentOutOfRangeException.ThrowIfGreaterThan(penaltyReduction, 2);

        return new ArmorTierScaling(
            tier,
            hpBonus,
            defenseBonus,
            penaltyReduction,
            attributeBonusRange);
    }

    /// <summary>
    /// Creates a display string for debug/logging purposes.
    /// </summary>
    /// <returns>A formatted string representation.</returns>
    public override string ToString()
    {
        var penaltyText = HasPenaltyReduction ? $", -{PenaltyReduction} penalty tier" : "";
        var attrText = HasAttributeBonus ? $", Attr: {AttributeBonusRange}" : "";
        return $"Tier {TierValue}: +{HpBonus} HP, +{DefenseBonus} Def{penaltyText}{attrText}";
    }
}
```

### 5.3 Armor Scaling Reference Table

| Tier | Enum Value | HP Bonus | Defense | Penalty Reduction | Attribute Bonus  |
| ---- | ---------- | -------- | ------- | ----------------- | ---------------- |
| 0    | JuryRigged | +5       | +1      | 0                 | None             |
| 1    | Scavenged  | +10      | +1      | 0                 | None             |
| 2    | ClanForged | +15      | +2      | 0                 | +1 (fixed)       |
| 3    | Optimized  | +20      | +2      | 0                 | +1 to +2 (1d2)   |
| 4    | MythForged | +30      | +3      | 1                 | +2 to +4 (1d3+1) |

---

## 6. AttributeBonusRange Value Object

### 6.1 Purpose

The `AttributeBonusRange` value object defines a range for randomized attribute bonuses. This enables tier-appropriate randomization while keeping bounds predictable.

### 6.2 Implementation

**File:** `src/Core/RuneAndRust.Domain/ValueObjects/AttributeBonusRange.cs`

```csharp
namespace RuneAndRust.Domain.ValueObjects;

/// <summary>
/// Defines a range for randomized attribute bonuses on equipment.
/// </summary>
/// <remarks>
/// <para>
/// Attribute bonus ranges allow equipment to have variable bonuses
/// within tier-appropriate bounds. For example, Tier 3 weapons have
/// a range of +1 to +2, while Tier 4 weapons have +2 to +4.
/// </para>
/// <para>
/// The RollBonus method uses inclusive bounds (both min and max are
/// possible results).
/// </para>
/// </remarks>
/// <param name="MinBonus">Minimum possible attribute bonus (inclusive).</param>
/// <param name="MaxBonus">Maximum possible attribute bonus (inclusive).</param>
public readonly record struct AttributeBonusRange(int MinBonus, int MaxBonus)
{
    /// <summary>
    /// Gets whether this is a fixed (non-random) bonus.
    /// </summary>
    public bool IsFixed => MinBonus == MaxBonus;

    /// <summary>
    /// Gets the range span (difference between max and min, plus 1).
    /// </summary>
    public int RangeSpan => MaxBonus - MinBonus + 1;

    /// <summary>
    /// Rolls a random bonus within the range.
    /// </summary>
    /// <param name="random">Random number generator.</param>
    /// <returns>A random value between MinBonus and MaxBonus (inclusive).</returns>
    /// <exception cref="ArgumentNullException">Thrown when random is null.</exception>
    public int RollBonus(Random random)
    {
        ArgumentNullException.ThrowIfNull(random);

        if (IsFixed)
        {
            return MinBonus;
        }

        // Random.Next upper bound is exclusive, so add 1
        return random.Next(MinBonus, MaxBonus + 1);
    }

    /// <summary>
    /// Creates a new AttributeBonusRange with validation.
    /// </summary>
    /// <param name="minBonus">Minimum bonus value.</param>
    /// <param name="maxBonus">Maximum bonus value.</param>
    /// <returns>A new AttributeBonusRange instance.</returns>
    /// <exception cref="ArgumentOutOfRangeException">Thrown when min > max or values are negative.</exception>
    public static AttributeBonusRange Create(int minBonus, int maxBonus)
    {
        ArgumentOutOfRangeException.ThrowIfNegative(minBonus);
        ArgumentOutOfRangeException.ThrowIfNegative(maxBonus);

        if (minBonus > maxBonus)
        {
            throw new ArgumentOutOfRangeException(
                nameof(minBonus),
                $"MinBonus ({minBonus}) cannot be greater than MaxBonus ({maxBonus}).");
        }

        return new AttributeBonusRange(minBonus, maxBonus);
    }

    /// <summary>
    /// Creates a fixed (non-random) attribute bonus.
    /// </summary>
    /// <param name="bonus">The fixed bonus value.</param>
    /// <returns>An AttributeBonusRange with min == max.</returns>
    public static AttributeBonusRange Fixed(int bonus)
    {
        ArgumentOutOfRangeException.ThrowIfNegative(bonus);
        return new AttributeBonusRange(bonus, bonus);
    }

    // Standard tier bonus ranges

    /// <summary>
    /// Fixed +1 bonus for Tier 2 (ClanForged) items.
    /// </summary>
    public static AttributeBonusRange Tier2Default => Fixed(1);

    /// <summary>
    /// +1 to +2 range for Tier 3 (Optimized) items.
    /// </summary>
    public static AttributeBonusRange Tier3Default => Create(1, 2);

    /// <summary>
    /// +2 to +4 range for Tier 4 (MythForged) items.
    /// </summary>
    public static AttributeBonusRange Tier4Default => Create(2, 4);

    /// <summary>
    /// Creates a display string for debug/logging purposes.
    /// </summary>
    public override string ToString() =>
        IsFixed ? $"+{MinBonus}" : $"+{MinBonus} to +{MaxBonus}";
}
```

### 6.3 Attribute Bonus Range Reference

| Tier | Range | Notation | Possible Values              |
| ---- | ----- | -------- | ---------------------------- |
| 0-1  | None  | —        | No bonus                     |
| 2    | Fixed | +1       | Always +1                    |
| 3    | Range | +1 to +2 | +1 (50%), +2 (50%)           |
| 4    | Range | +2 to +4 | +2 (33%), +3 (33%), +4 (33%) |

---

## 7. ITierScalingService Interface

### 7.1 Purpose

The `ITierScalingService` interface defines the contract for accessing tier-based stat scaling. This abstraction allows the scaling source to be configured (JSON, database, in-memory) without affecting consuming code.

### 7.2 Implementation

**File:** `src/Core/RuneAndRust.Application/Interfaces/ITierScalingService.cs`

```csharp
namespace RuneAndRust.Application.Interfaces;

using RuneAndRust.Domain.Enums;
using RuneAndRust.Domain.ValueObjects;

/// <summary>
/// Provides access to tier-based stat scaling for weapons and armor.
/// </summary>
/// <remarks>
/// <para>
/// This interface abstracts the source of scaling data, allowing it to be
/// loaded from configuration files, databases, or hardcoded defaults.
/// </para>
/// <para>
/// Implementations should cache loaded scaling data for performance and
/// validate that all quality tiers have corresponding entries.
/// </para>
/// </remarks>
public interface ITierScalingService
{
    /// <summary>
    /// Gets the weapon stat scaling for a specific quality tier.
    /// </summary>
    /// <param name="tier">The quality tier to get scaling for.</param>
    /// <returns>The WeaponTierScaling for the specified tier.</returns>
    /// <exception cref="ArgumentException">Thrown when scaling for the tier is not found.</exception>
    WeaponTierScaling GetWeaponScaling(QualityTier tier);

    /// <summary>
    /// Gets the armor stat scaling for a specific quality tier.
    /// </summary>
    /// <param name="tier">The quality tier to get scaling for.</param>
    /// <returns>The ArmorTierScaling for the specified tier.</returns>
    /// <exception cref="ArgumentException">Thrown when scaling for the tier is not found.</exception>
    ArmorTierScaling GetArmorScaling(QualityTier tier);

    /// <summary>
    /// Gets all weapon scaling entries, ordered by tier.
    /// </summary>
    /// <returns>A read-only list of all weapon tier scaling entries.</returns>
    IReadOnlyList<WeaponTierScaling> GetAllWeaponScaling();

    /// <summary>
    /// Gets all armor scaling entries, ordered by tier.
    /// </summary>
    /// <returns>A read-only list of all armor tier scaling entries.</returns>
    IReadOnlyList<ArmorTierScaling> GetAllArmorScaling();

    /// <summary>
    /// Rolls a weapon attribute bonus for the specified tier.
    /// </summary>
    /// <param name="tier">The quality tier.</param>
    /// <param name="random">Random number generator.</param>
    /// <returns>The rolled bonus, or null for tiers without attribute bonuses.</returns>
    int? RollWeaponAttributeBonus(QualityTier tier, Random random);

    /// <summary>
    /// Rolls an armor attribute bonus for the specified tier.
    /// </summary>
    /// <param name="tier">The quality tier.</param>
    /// <param name="random">Random number generator.</param>
    /// <returns>The rolled bonus, or null for tiers without attribute bonuses.</returns>
    int? RollArmorAttributeBonus(QualityTier tier, Random random);

    /// <summary>
    /// Validates that all required tiers have scaling entries.
    /// </summary>
    /// <returns>True if all tiers are configured, false otherwise.</returns>
    bool ValidateConfiguration();
}
```

### 7.3 Usage Examples

```csharp
// Get weapon scaling for a tier
var optimizedWeapon = _tierScalingService.GetWeaponScaling(QualityTier.Optimized);
Console.WriteLine($"Damage: {optimizedWeapon.DamageDice}");  // "2d6"
Console.WriteLine($"Accuracy: {optimizedWeapon.AccuracyModifier}");  // +1

// Roll attribute bonus for a weapon
var random = new Random();
var attrBonus = _tierScalingService.RollWeaponAttributeBonus(QualityTier.MythForged, random);
Console.WriteLine($"Attribute Bonus: +{attrBonus}");  // +2, +3, or +4

// Get armor scaling for a tier
var mythForgedArmor = _tierScalingService.GetArmorScaling(QualityTier.MythForged);
Console.WriteLine($"HP: +{mythForgedArmor.HpBonus}");  // +30
Console.WriteLine($"Defense: +{mythForgedArmor.DefenseBonus}");  // +3
Console.WriteLine($"Penalty Reduction: {mythForgedArmor.PenaltyReduction}");  // 1

// Check if tier has attribute bonus before rolling
var clanForgedWeapon = _tierScalingService.GetWeaponScaling(QualityTier.ClanForged);
if (clanForgedWeapon.HasAttributeBonus)
{
    var bonus = clanForgedWeapon.RollAttributeBonus(random);
    Console.WriteLine($"Bonus: +{bonus}");  // Always +1
}
```

---

## 8. Data Model Changes

### 8.1 New Types Summary

| Type                  | Layer       | Category     | Description            |
| --------------------- | ----------- | ------------ | ---------------------- |
| `WeaponTierScaling`   | Domain      | Value Object | Weapon stats per tier  |
| `ArmorTierScaling`    | Domain      | Value Object | Armor stats per tier   |
| `AttributeBonusRange` | Domain      | Value Object | Randomized bonus range |
| `ITierScalingService` | Application | Interface    | Scaling data access    |

### 8.2 File Locations

```
src/Core/RuneAndRust.Domain/
└── ValueObjects/
    ├── WeaponTierScaling.cs                  ← NEW
    ├── ArmorTierScaling.cs                   ← NEW
    └── AttributeBonusRange.cs                ← NEW

src/Core/RuneAndRust.Application/
└── Interfaces/
    └── ITierScalingService.cs                ← NEW

config/
├── tier-scaling.json                         ← NEW
└── schemas/
    └── tier-scaling.schema.json              ← NEW
```

### 8.3 Entity Relationships

```
┌─────────────────┐
│   QualityTier   │─────────────────────────┐
│     (Enum)      │                         │
│  (from v0.16.0a)│                         │
└────────┬────────┘                         │
         │                                  │
         │ indexes                          │
         ▼                                  │
┌─────────────────────┐  ┌─────────────────────┐
│  WeaponTierScaling  │  │   ArmorTierScaling  │
│   (Value Object)    │  │   (Value Object)    │
└─────────┬───────────┘  └─────────┬───────────┘
          │                        │
          │ optionally contains    │
          ▼                        ▼
     ┌─────────────────────────────────┐
     │       AttributeBonusRange       │
     │        (Value Object)           │
     └─────────────────────────────────┘

┌─────────────────────┐         ┌─────────────────────┐
│ ITierScalingService │─────────│  WeaponTierScaling  │
│    (Interface)      │ returns │   ArmorTierScaling  │
└─────────────────────┘         └─────────────────────┘
```

---

## 9. Configuration File Schemas

### 9.1 tier-scaling.json

**File:** `config/tier-scaling.json`

```json
{
    "$schema": "./schemas/tier-scaling.schema.json",
    "weaponScaling": [
        {
            "tier": "JuryRigged",
            "tierValue": 0,
            "damageDice": "1d6",
            "accuracyModifier": -1,
            "attributeBonus": null
        },
        {
            "tier": "Scavenged",
            "tierValue": 1,
            "damageDice": "1d6+1",
            "accuracyModifier": 0,
            "attributeBonus": null
        },
        {
            "tier": "ClanForged",
            "tierValue": 2,
            "damageDice": "1d6+3",
            "accuracyModifier": 0,
            "attributeBonus": {
                "minBonus": 1,
                "maxBonus": 1
            }
        },
        {
            "tier": "Optimized",
            "tierValue": 3,
            "damageDice": "2d6",
            "accuracyModifier": 1,
            "attributeBonus": {
                "minBonus": 1,
                "maxBonus": 2
            }
        },
        {
            "tier": "MythForged",
            "tierValue": 4,
            "damageDice": "2d6+4",
            "accuracyModifier": 2,
            "attributeBonus": {
                "minBonus": 2,
                "maxBonus": 4
            }
        }
    ],
    "armorScaling": [
        {
            "tier": "JuryRigged",
            "tierValue": 0,
            "hpBonus": 5,
            "defenseBonus": 1,
            "penaltyReduction": 0,
            "attributeBonus": null
        },
        {
            "tier": "Scavenged",
            "tierValue": 1,
            "hpBonus": 10,
            "defenseBonus": 1,
            "penaltyReduction": 0,
            "attributeBonus": null
        },
        {
            "tier": "ClanForged",
            "tierValue": 2,
            "hpBonus": 15,
            "defenseBonus": 2,
            "penaltyReduction": 0,
            "attributeBonus": {
                "minBonus": 1,
                "maxBonus": 1
            }
        },
        {
            "tier": "Optimized",
            "tierValue": 3,
            "hpBonus": 20,
            "defenseBonus": 2,
            "penaltyReduction": 0,
            "attributeBonus": {
                "minBonus": 1,
                "maxBonus": 2
            }
        },
        {
            "tier": "MythForged",
            "tierValue": 4,
            "hpBonus": 30,
            "defenseBonus": 3,
            "penaltyReduction": 1,
            "attributeBonus": {
                "minBonus": 2,
                "maxBonus": 4
            }
        }
    ]
}
```

### 9.2 tier-scaling.schema.json

**File:** `config/schemas/tier-scaling.schema.json`

```json
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "tier-scaling.schema.json",
    "title": "Tier Scaling Configuration",
    "description": "Defines stat scaling for weapons and armor by quality tier",
    "type": "object",
    "required": ["weaponScaling", "armorScaling"],
    "properties": {
        "$schema": {
            "type": "string",
            "description": "JSON schema reference"
        },
        "weaponScaling": {
            "type": "array",
            "description": "Weapon stat scaling per tier",
            "minItems": 5,
            "maxItems": 5,
            "items": {
                "$ref": "#/$defs/weaponScalingEntry"
            }
        },
        "armorScaling": {
            "type": "array",
            "description": "Armor stat scaling per tier",
            "minItems": 5,
            "maxItems": 5,
            "items": {
                "$ref": "#/$defs/armorScalingEntry"
            }
        }
    },
    "$defs": {
        "tierEnum": {
            "type": "string",
            "enum": [
                "JuryRigged",
                "Scavenged",
                "ClanForged",
                "Optimized",
                "MythForged"
            ]
        },
        "attributeBonusRange": {
            "type": ["object", "null"],
            "properties": {
                "minBonus": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 10
                },
                "maxBonus": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 10
                }
            },
            "required": ["minBonus", "maxBonus"]
        },
        "weaponScalingEntry": {
            "type": "object",
            "required": [
                "tier",
                "tierValue",
                "damageDice",
                "accuracyModifier",
                "attributeBonus"
            ],
            "properties": {
                "tier": {
                    "$ref": "#/$defs/tierEnum"
                },
                "tierValue": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 4
                },
                "damageDice": {
                    "type": "string",
                    "pattern": "^\\d+d\\d+(\\+\\d+)?$",
                    "description": "Dice notation (e.g., 1d6, 2d6+4)"
                },
                "accuracyModifier": {
                    "type": "integer",
                    "minimum": -5,
                    "maximum": 5
                },
                "attributeBonus": {
                    "$ref": "#/$defs/attributeBonusRange"
                }
            }
        },
        "armorScalingEntry": {
            "type": "object",
            "required": [
                "tier",
                "tierValue",
                "hpBonus",
                "defenseBonus",
                "penaltyReduction",
                "attributeBonus"
            ],
            "properties": {
                "tier": {
                    "$ref": "#/$defs/tierEnum"
                },
                "tierValue": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 4
                },
                "hpBonus": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 100
                },
                "defenseBonus": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 10
                },
                "penaltyReduction": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 2
                },
                "attributeBonus": {
                    "$ref": "#/$defs/attributeBonusRange"
                }
            }
        }
    }
}
```

---

## 10. Logging Specifications

### 10.1 Log Levels by Component

| Component            | Level       | Events                                     |
| -------------------- | ----------- | ------------------------------------------ |
| `TierScalingService` | Information | Configuration loaded, validation complete  |
| `TierScalingService` | Debug       | Scaling lookup, attribute bonus rolled     |
| `TierScalingService` | Warning     | Missing tier in configuration              |
| `TierScalingService` | Error       | Configuration file not found, invalid JSON |

### 10.2 Structured Logging Templates

```csharp
// Information - Configuration loaded
_logger.LogInformation(
    "Tier scaling configuration loaded. WeaponEntries={WeaponCount}, ArmorEntries={ArmorCount}",
    weaponScaling.Count,
    armorScaling.Count);

// Debug - Weapon scaling retrieved
_logger.LogDebug(
    "Weapon scaling retrieved. Tier={Tier}, Damage={Damage}, Accuracy={Accuracy}",
    tier,
    scaling.DamageDice,
    scaling.AccuracyModifier);

// Debug - Attribute bonus rolled
_logger.LogDebug(
    "Attribute bonus rolled. Tier={Tier}, Range={Min}-{Max}, Result={Result}",
    tier,
    range.MinBonus,
    range.MaxBonus,
    rolledBonus);

// Warning - Missing tier fallback
_logger.LogWarning(
    "Tier scaling missing, using defaults. Tier={Tier}, Type={EquipmentType}",
    tier,
    equipmentType);

// Error - Configuration failure
_logger.LogError(
    "Failed to load tier scaling configuration. FilePath={FilePath}, Error={Error}",
    filePath,
    exception.Message);
```

---

## 11. Unit Testing Requirements

### 11.1 Test Count by Feature

| Feature                          | Test Count |
| -------------------------------- | ---------- |
| WeaponTierScaling value object   | ~1         |
| ArmorTierScaling value object    | ~1         |
| AttributeBonusRange value object | ~1         |
| ITierScalingService integration  | ~1         |
| **Total**                        | **~4**     |

### 11.2 Test Specifications

#### WeaponTierScalingTests.cs

**File:** `tests/RuneAndRust.Domain.UnitTests/ValueObjects/WeaponTierScalingTests.cs`

```csharp
[TestFixture]
public class WeaponTierScalingTests
{
    [Test]
    public void Create_WithValidParameters_CreatesScaling();

    [Test]
    public void Create_WithNullDamageDice_ThrowsArgumentException();

    [Test]
    public void HasAttributeBonus_WhenRangeProvided_ReturnsTrue();

    [Test]
    public void HasAttributeBonus_WhenNoRange_ReturnsFalse();

    [Test]
    public void RollAttributeBonus_WithRange_ReturnsValueInRange();

    [Test]
    public void TierValue_ReturnsCorrectInteger();
}
```

#### ArmorTierScalingTests.cs

**File:** `tests/RuneAndRust.Domain.UnitTests/ValueObjects/ArmorTierScalingTests.cs`

```csharp
[TestFixture]
public class ArmorTierScalingTests
{
    [Test]
    public void Create_WithValidParameters_CreatesScaling();

    [Test]
    public void Create_WithNegativeHpBonus_ThrowsArgumentOutOfRangeException();

    [Test]
    public void HasPenaltyReduction_WhenReductionProvided_ReturnsTrue();

    [Test]
    public void RollAttributeBonus_WithRange_ReturnsValueInRange();
}
```

#### AttributeBonusRangeTests.cs

**File:** `tests/RuneAndRust.Domain.UnitTests/ValueObjects/AttributeBonusRangeTests.cs`

```csharp
[TestFixture]
public class AttributeBonusRangeTests
{
    [Test]
    public void Create_WithValidRange_CreatesRange();

    [Test]
    public void Create_WithMinGreaterThanMax_ThrowsArgumentOutOfRangeException();

    [Test]
    public void Fixed_CreatesRangeWithEqualMinMax();

    [Test]
    public void RollBonus_WithFixedRange_ReturnsSameValue();

    [Test]
    public void RollBonus_WithRange_ReturnsValueWithinBounds();

    [Test]
    public void IsFixed_WhenMinEqualsMax_ReturnsTrue();

    [Test]
    public void DefaultRanges_MatchSpecification();
}
```

---

## 12. Use Cases

### UC-001: Generate Weapon Stats from Tier

**Actor:** Loot Service (v0.16.0d)  
**Flow:** Determine quality tier → Get weapon scaling → Apply damage dice → Apply accuracy → Roll attribute bonus → Assign stats to weapon

### UC-002: Generate Armor Stats from Tier

**Actor:** Loot Service (v0.16.0d)  
**Flow:** Determine quality tier → Get armor scaling → Apply HP bonus → Apply defense → Check penalty reduction → Roll attribute bonus → Assign stats to armor

### UC-003: Roll Attribute Bonus for High-Tier Item

**Actor:** Loot Service  
**Flow:** Check tier >= ClanForged → Get attribute range for tier → Roll random within range → Determine bonus attribute (MIGHT, FINESSE, etc.) → Apply to item

### UC-004: Display Equipment Stats with Tier Scaling

**Actor:** Item Details View  
**Flow:** Get item quality tier → Get scaling for tier → Format damage/defense string → Display tier-appropriate values

---

## 13. Deliverable Checklist

### Domain Layer

- [ ] `WeaponTierScaling.cs` value object created in `src/Core/RuneAndRust.Domain/ValueObjects/`
- [ ] `ArmorTierScaling.cs` value object created in `src/Core/RuneAndRust.Domain/ValueObjects/`
- [ ] `AttributeBonusRange.cs` value object created in `src/Core/RuneAndRust.Domain/ValueObjects/`
- [ ] All types have complete XML documentation

### Application Layer

- [ ] `ITierScalingService.cs` interface created in `src/Core/RuneAndRust.Application/Interfaces/`
- [ ] Interface has complete XML documentation

### Configuration Files

- [ ] `config/tier-scaling.json` created with all 5 tiers for both weapons and armor
- [ ] `config/schemas/tier-scaling.schema.json` created
- [ ] Configuration validates against schema

### Testing

- [ ] `WeaponTierScalingTests.cs` created
- [ ] `ArmorTierScalingTests.cs` created
- [ ] `AttributeBonusRangeTests.cs` created
- [ ] ~4 unit tests passing

### Documentation

- [ ] `v0.16.0b-changelog.md` created
- [ ] Inline code comments complete

---

## 14. Acceptance Criteria

### Functional

- [ ] `WeaponTierScaling` correctly stores damage dice as string notation
- [ ] `WeaponTierScaling` accuracy modifier range is -1 to +2
- [ ] `ArmorTierScaling` HP bonus progression is +5, +10, +15, +20, +30
- [ ] `ArmorTierScaling` defense progression is +1, +1, +2, +2, +3
- [ ] `AttributeBonusRange.Create()` validates min <= max
- [ ] `AttributeBonusRange.RollBonus()` returns value within range
- [ ] Tier 0-1 items have no attribute bonus (null range)
- [ ] Tier 2 items have fixed +1 attribute bonus
- [ ] Tier 3 items have +1 to +2 attribute bonus range
- [ ] Tier 4 items have +2 to +4 attribute bonus range
- [ ] `ITierScalingService.GetWeaponScaling()` returns correct data for each tier
- [ ] `ITierScalingService.GetArmorScaling()` returns correct data for each tier

### Quality

- [ ] Build succeeds with 0 errors
- [ ] Build succeeds with 0 warnings
- [ ] ~4 unit tests pass
- [ ] Configuration validates against JSON schema
- [ ] All public types have XML documentation

---

## 15. Dependencies

### Required from v0.16.0a

| Type          | Location                    | Usage                         |
| ------------- | --------------------------- | ----------------------------- |
| `QualityTier` | `RuneAndRust.Domain/Enums/` | Tier enumeration for indexing |

### Provides to v0.16.0c

| Type | Usage                                             |
| ---- | ------------------------------------------------- |
| N/A  | v0.16.0c focuses on drop tables, not stat scaling |

### Provides to v0.16.0d

| Type                  | Usage                        |
| --------------------- | ---------------------------- |
| `WeaponTierScaling`   | Applied to generated weapons |
| `ArmorTierScaling`    | Applied to generated armor   |
| `ITierScalingService` | Service for scaling lookups  |

### Provides to v0.16.1+

| Type                | Usage                              |
| ------------------- | ---------------------------------- |
| `WeaponTierScaling` | Base stats modified by proficiency |
| `ArmorTierScaling`  | Base stats modified by proficiency |

---

## 16. Future Considerations

### Deferred to v0.16.0c

- **Drop Probability Tables**: Which tiers drop from which enemy types
- **EnemyDropClass Enum**: Classification of enemy loot potential

### Deferred to v0.16.0d

- **LootService Integration**: Using scaling to generate actual items
- **DroppedItem Entity Updates**: Adding tier and scaled stats

### Deferred to v0.16.1+

- **Proficiency Effects**: Weapon damage modified by proficiency level
- **Special Properties**: Tier 4 unique effects beyond stat bonuses

### Out of Scope

- **Dynamic Scaling Formulas**: Scaling is fixed per tier, not formula-based
- **Tier 5+ Expansion**: Five tiers are sufficient for game design
- **Per-Item Base Stat Overrides**: All items of same tier/category use same scaling

---

_Document Version: 1.0_  
_Last Updated: 2026-01-27_  
_Author: AI Assistant_
