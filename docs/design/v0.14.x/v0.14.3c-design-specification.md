# v0.14.3c Design Specification: Tier Schema

**Version:** 0.14.3c
**Parent:** v0.14.3 (Monster Configuration Schemas)
**Prerequisites:** v0.14.2 Complete (Equipment Configuration Schemas)
**Status:** Design Complete

---

## Table of Contents

1. [Executive Summary](#1-executive-summary)
2. [Feature Overview](#2-feature-overview)
3. [Architecture Diagrams](#3-architecture-diagrams)
4. [Tier Schema Definition](#4-tier-schema-definition)
   - 4.1 [Root Configuration Properties](#41-root-configuration-properties)
   - 4.2 [TierDefinition Definition](#42-tierdefinition-definition)
5. [Stat Multiplier Configuration](#5-stat-multiplier-configuration)
   - 5.1 [Health Multiplier](#51-health-multiplier)
   - 5.2 [Attack Multiplier](#52-attack-multiplier)
   - 5.3 [Defense Multiplier](#53-defense-multiplier)
6. [Reward Multiplier Configuration](#6-reward-multiplier-configuration)
   - 6.1 [Experience Multiplier](#61-experience-multiplier)
   - 6.2 [Loot Multiplier](#62-loot-multiplier)
   - 6.3 [Loot Quality Bonus](#63-loot-quality-bonus)
7. [Name Configuration](#7-name-configuration)
   - 7.1 [Name Prefix Configuration](#71-name-prefix-configuration)
   - 7.2 [Name Suffix Configuration](#72-name-suffix-configuration)
   - 7.3 [Unique Name Generation](#73-unique-name-generation)
8. [Spawn Configuration](#8-spawn-configuration)
   - 8.1 [Spawn Weight](#81-spawn-weight)
   - 8.2 [Minimum Level Gate](#82-minimum-level-gate)
   - 8.3 [Additional Traits](#83-additional-traits)
9. [Display Configuration](#9-display-configuration)
   - 9.1 [Color Configuration](#91-color-configuration)
   - 9.2 [Sort Order](#92-sort-order)
10. [Validation Rules](#10-validation-rules)
    - 10.1 [Range Validation](#101-range-validation)
    - 10.2 [Required Fields](#102-required-fields)
    - 10.3 [Pattern Validation](#103-pattern-validation)
11. [Configuration Schema](#11-configuration-schema)
12. [Configuration File Updates](#12-configuration-file-updates)
13. [Data Model Changes](#13-data-model-changes)
14. [Logging Specifications](#14-logging-specifications)
15. [Unit Testing Requirements](#15-unit-testing-requirements)
16. [Use Cases](#16-use-cases)
17. [Deliverable Checklist](#17-deliverable-checklist)
18. [Acceptance Criteria](#18-acceptance-criteria)
19. [Dependencies](#19-dependencies)
20. [Future Considerations](#20-future-considerations)

---

## 1. Executive Summary

Version 0.14.3c introduces the **Tier Schema** (`tiers.schema.json`), which validates monster difficulty tier definitions including stat multipliers, loot quality scaling, XP rewards, name modifications, and spawn weighting. This schema enables full customization of difficulty progression without code changes, supporting modding scenarios where custom difficulty tiers like "Legendary", "Nightmare", or "Miniboss" can be defined with unique scaling and rewards.

The Tier Schema provides comprehensive validation for the existing `tiers.json` configuration while establishing patterns for tier-related data structures that are referenced by monsters (v0.14.3a) and will be used by bosses (v0.14.3d).

### Key Deliverables

| Category | Items |
|----------|-------|
| **Schema Files** | `tiers.schema.json` |
| **Schema Definitions** | `TierDefinition` |
| **Configuration Files** | Update `tiers.json` to reference new schema |
| **Tests** | ~4 new unit tests |

### Architectural Significance

This version provides:
- **Stat multiplier validation** - Health, attack, defense multipliers (>= 0.1)
- **Reward multiplier validation** - Experience and loot multipliers (>= 0.1)
- **Loot quality bonus** - Integer shift for rarity tier
- **Name prefix/suffix configuration** - Optional display name modifications
- **Unique name generation flag** - Procedural name generation toggle
- **Spawn weight validation** - Probability weighting for tier selection
- **Color configuration** - Display color for UI representation
- **Sort order validation** - Display ordering for tier lists
- **Additional traits** - Forced trait assignments per tier
- **Minimum level gates** - Level requirements for tier spawning

### Relationship to Other Schemas

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                    v0.14.3 MONSTER CONFIGURATION SCHEMAS                     │
└─────────────────────────────────────────────────────────────────────────────┘

  ┌─────────────────────────────────────────────────────────────────────────┐
  │  v0.14.3a: monsters.schema.json                                         │
  │  v0.14.3b: traits.schema.json                                           │
  │  v0.14.3c: tiers.schema.json ◀── THIS VERSION                           │
  │  v0.14.3d: bosses.schema.json                                           │
  └─────────────────────────────────────────────────────────────────────────┘

  Cross-references:
  • monsters.json → possibleTiers references tier IDs from tiers.json
  • traits.json → additionalTraits references trait IDs

  Shared definitions:
  • ID pattern: ^[a-z][a-z0-9_]*$ (underscore convention for tiers)
  • Multiplier minimum: 0.1 (prevents zero or negative scaling)
  • Schema location: config/schemas/
```

---

## 2. Feature Overview

```
v0.14.3c Tier Schema Features
├── tiers.schema.json
│   ├── Root Configuration Properties
│   │   ├── $schema (string, optional)
│   │   ├── version (string, optional)
│   │   ├── description (string, optional, file-level)
│   │   └── tiers (array of TierDefinition, required)
│   └── Definitions
│       └── TierDefinition
│           ├── id (string, underscore pattern, required)
│           ├── name (string, minLength: 1, required)
│           ├── namePrefix (string, optional)
│           ├── nameSuffix (string, optional)
│           ├── healthMultiplier (number, minimum: 0.1, default: 1.0)
│           ├── attackMultiplier (number, minimum: 0.1, default: 1.0)
│           ├── defenseMultiplier (number, minimum: 0.1, default: 1.0)
│           ├── experienceMultiplier (number, minimum: 0.1, default: 1.0)
│           ├── lootMultiplier (number, minimum: 0.1, default: 1.0)
│           ├── lootQualityBonus (integer, optional)
│           ├── color (string, required)
│           ├── spawnWeight (integer, minimum: 0, default: 100)
│           ├── generatesUniqueName (boolean, default: false)
│           ├── additionalTraits (array of string, optional)
│           ├── minimumLevel (integer, minimum: 1, optional)
│           └── sortOrder (integer, minimum: 0, required)
├── Validation Rules
│   ├── Tier ID Pattern Validation (underscore)
│   ├── Stat Multiplier Range Validation (>= 0.1)
│   ├── Reward Multiplier Range Validation (>= 0.1)
│   ├── Spawn Weight Non-Negative Validation
│   ├── Sort Order Non-Negative Validation
│   ├── Color String Validation
│   ├── Boolean Flag Validation
│   └── Required Fields Enforced
└── Configuration Updates
    └── tiers.json updated with $schema reference
```

---

## 3. Architecture Diagrams

### 3.1 Schema Validation Flow

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         SCHEMA VALIDATION FLOW                               │
└─────────────────────────────────────────────────────────────────────────────┘

    User edits tiers.json
           │
           ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                          IDE/EDITOR                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│  1. Reads $schema property from config file                                  │
│  2. Loads tiers.schema.json from config/schemas/                             │
│  3. Validates content against schema                                         │
└─────────────────────────────────────────────────────────────────────────────┘
           │
           ├─── Valid ───▶ Green checkmark, autocomplete works
           │
           └─── Invalid ─▶ Error underlines with messages:
                           • "healthMultiplier must be >= 0.1"
                           • "id must match pattern ^[a-z][a-z0-9_]*$"
                           • "spawnWeight must be >= 0"
                           • "sortOrder is required"
```

### 3.2 Tier Schema Structure Diagram

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        tiers.schema.json                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│  $schema: "http://json-schema.org/draft-07/schema#"                         │
│  title: "Monster Tier Configuration"                                         │
│  type: object                                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│  properties:                                                                 │
│  ┌─────────────────────────┬─────────────────────────────────────────────┐  │
│  │ $schema                 │ type: string (optional)                     │  │
│  ├─────────────────────────┼─────────────────────────────────────────────┤  │
│  │ version                 │ type: string (optional)                     │  │
│  ├─────────────────────────┼─────────────────────────────────────────────┤  │
│  │ description             │ type: string (optional, file-level)         │  │
│  ├─────────────────────────┼─────────────────────────────────────────────┤  │
│  │ tiers                   │ type: array, items: $ref TierDefinition     │  │
│  └─────────────────────────┴─────────────────────────────────────────────┘  │
├─────────────────────────────────────────────────────────────────────────────┤
│  definitions:                                                                │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ TierDefinition                                                       │    │
│  │ ┌───────────────────────┬───────────────────────────────────────┐   │    │
│  │ │ id                    │ string, pattern: ^[a-z][a-z0-9_]*$    │   │    │
│  │ │ name                  │ string, minLength: 1                   │   │    │
│  │ │ namePrefix            │ string (optional)                      │   │    │
│  │ │ nameSuffix            │ string (optional)                      │   │    │
│  │ │ healthMultiplier      │ number, minimum: 0.1, default: 1.0     │   │    │
│  │ │ attackMultiplier      │ number, minimum: 0.1, default: 1.0     │   │    │
│  │ │ defenseMultiplier     │ number, minimum: 0.1, default: 1.0     │   │    │
│  │ │ experienceMultiplier  │ number, minimum: 0.1, default: 1.0     │   │    │
│  │ │ lootMultiplier        │ number, minimum: 0.1, default: 1.0     │   │    │
│  │ │ lootQualityBonus      │ integer (optional)                     │   │    │
│  │ │ color                 │ string                                 │   │    │
│  │ │ spawnWeight           │ integer, minimum: 0, default: 100      │   │    │
│  │ │ generatesUniqueName   │ boolean, default: false                │   │    │
│  │ │ additionalTraits      │ array of string (optional)             │   │    │
│  │ │ minimumLevel          │ integer, minimum: 1 (optional)         │   │    │
│  │ │ sortOrder             │ integer, minimum: 0                    │   │    │
│  │ └───────────────────────┴───────────────────────────────────────┘   │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.3 Tier Definition Structure Diagram

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        TIER DEFINITION STRUCTURE                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                      TIER DEFINITION                                 │    │
│  │                                                                      │    │
│  │  id: "elite"                                                         │    │
│  │  name: "Elite"                                                       │    │
│  │                                                                      │    │
│  │  ┌───────────────────────────────────────────────────────────────┐  │    │
│  │  │  STAT MULTIPLIERS                                              │  │    │
│  │  │  ┌──────────────────────────────────────────────────────────┐ │  │    │
│  │  │  │ healthMultiplier: 2.0      (2x HP)                       │ │  │    │
│  │  │  │ attackMultiplier: 1.5      (1.5x Attack)                 │ │  │    │
│  │  │  │ defenseMultiplier: 1.5     (1.5x Defense)                │ │  │    │
│  │  │  └──────────────────────────────────────────────────────────┘ │  │    │
│  │  └───────────────────────────────────────────────────────────────┘  │    │
│  │                                                                      │    │
│  │  ┌───────────────────────────────────────────────────────────────┐  │    │
│  │  │  REWARD MULTIPLIERS                                            │  │    │
│  │  │  ┌──────────────────────────────────────────────────────────┐ │  │    │
│  │  │  │ experienceMultiplier: 3.0  (3x XP)                       │ │  │    │
│  │  │  │ lootMultiplier: 3.0        (3x Loot chance)              │ │  │    │
│  │  │  │ lootQualityBonus: 1        (+1 rarity tier)              │ │  │    │
│  │  │  └──────────────────────────────────────────────────────────┘ │  │    │
│  │  └───────────────────────────────────────────────────────────────┘  │    │
│  │                                                                      │    │
│  │  ┌───────────────────────────────────────────────────────────────┐  │    │
│  │  │  NAME CONFIGURATION                                            │  │    │
│  │  │  ┌──────────────────────────────────────────────────────────┐ │  │    │
│  │  │  │ namePrefix: "Elite"                                      │ │  │    │
│  │  │  │ nameSuffix: null                                         │ │  │    │
│  │  │  │ generatesUniqueName: false                               │ │  │    │
│  │  │  └──────────────────────────────────────────────────────────┘ │  │    │
│  │  └───────────────────────────────────────────────────────────────┘  │    │
│  │                                                                      │    │
│  │  ┌───────────────────────────────────────────────────────────────┐  │    │
│  │  │  SPAWN CONFIGURATION                                           │  │    │
│  │  │  ┌──────────────────────────────────────────────────────────┐ │  │    │
│  │  │  │ spawnWeight: 8             (8% relative spawn chance)    │ │  │    │
│  │  │  │ minimumLevel: 5            (requires player level 5+)    │ │  │    │
│  │  │  │ additionalTraits: []       (no forced traits)            │ │  │    │
│  │  │  └──────────────────────────────────────────────────────────┘ │  │    │
│  │  └───────────────────────────────────────────────────────────────┘  │    │
│  │                                                                      │    │
│  │  ┌───────────────────────────────────────────────────────────────┐  │    │
│  │  │  DISPLAY CONFIGURATION                                         │  │    │
│  │  │  ┌──────────────────────────────────────────────────────────┐ │  │    │
│  │  │  │ color: "orange3"           (UI display color)            │ │  │    │
│  │  │  │ sortOrder: 2               (display position)            │ │  │    │
│  │  │  └──────────────────────────────────────────────────────────┘ │  │    │
│  │  └───────────────────────────────────────────────────────────────┘  │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.4 Tier Scaling System Diagram

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          TIER SCALING SYSTEM                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  BASE MONSTER STATS                                                          │
│                                                                              │
│  ┌──────────────────────────────────────────────────────────────────────┐   │
│  │  Goblin Base Stats:                                                  │   │
│  │    Health: 30    Attack: 8    Defense: 2    XP: 25                   │   │
│  └──────────────────────────────────────────────────────────────────────┘   │
│                                                                              │
│  TIER MULTIPLIER APPLICATION                                                 │
│                                                                              │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │ Tier      │ HP Mult │ ATK Mult │ DEF Mult │ XP Mult │ Final Stats     │ │
│  ├───────────┼─────────┼──────────┼──────────┼─────────┼─────────────────┤ │
│  │ common    │ 1.0x    │ 1.0x     │ 1.0x     │ 1.0x    │ 30/8/2 (25 XP)  │ │
│  │ named     │ 1.5x    │ 1.3x     │ 1.2x     │ 2.0x    │ 45/10/2 (50 XP) │ │
│  │ elite     │ 2.0x    │ 1.5x     │ 1.5x     │ 3.0x    │ 60/12/3 (75 XP) │ │
│  │ boss      │ 5.0x    │ 2.0x     │ 2.0x     │ 10.0x   │ 150/16/4 (250XP)│ │
│  └───────────┴─────────┴──────────┴──────────┴─────────┴─────────────────┘ │
│                                                                              │
│  CALCULATION FORMULA                                                         │
│                                                                              │
│  ┌──────────────────────────────────────────────────────────────────────┐   │
│  │  Final Stat = floor(Base Stat × Tier Multiplier)                     │   │
│  │                                                                      │   │
│  │  Example (Elite Goblin HP):                                          │   │
│  │    Base HP: 30                                                       │   │
│  │    Multiplier: 2.0                                                   │   │
│  │    Final HP: floor(30 × 2.0) = 60                                    │   │
│  └──────────────────────────────────────────────────────────────────────┘   │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.5 Spawn Weight Distribution Diagram

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      SPAWN WEIGHT DISTRIBUTION                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  WEIGHT CALCULATION                                                          │
│                                                                              │
│  ┌──────────────────────────────────────────────────────────────────────┐   │
│  │  Total Weight = Sum of all tier spawn weights                         │   │
│  │               = 70 + 20 + 8 + 2 = 100                                 │   │
│  │                                                                       │   │
│  │  Spawn Probability = Tier Weight / Total Weight                       │   │
│  └──────────────────────────────────────────────────────────────────────┘   │
│                                                                              │
│  DISTRIBUTION VISUALIZATION                                                  │
│                                                                              │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │ 0%                                                              100%  │ │
│  │ ├───────────────────────────────────────────────┬────────┬────┬──┤   │ │
│  │ │                  COMMON (70%)                 │NAMED   │ELITE│B │   │ │
│  │ │                                               │ (20%)  │(8%) │2%│   │ │
│  │ ├───────────────────────────────────────────────┴────────┴────┴──┤   │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
│                                                                              │
│  TIER SPAWN WEIGHTS TABLE                                                    │
│                                                                              │
│  ┌────────────────┬────────────┬──────────────────────────────────────────┐ │
│  │ Tier           │ Weight     │ Spawn Probability                        │ │
│  ├────────────────┼────────────┼──────────────────────────────────────────┤ │
│  │ common         │ 70         │ 70/100 = 70%                             │ │
│  │ named          │ 20         │ 20/100 = 20%                             │ │
│  │ elite          │ 8          │ 8/100 = 8%                               │ │
│  │ boss           │ 2          │ 2/100 = 2%                               │ │
│  └────────────────┴────────────┴──────────────────────────────────────────┘ │
│                                                                              │
│  Note: spawnWeight of 0 means the tier will never spawn randomly.           │
│        Boss tier typically has low weight (often 0) as bosses are           │
│        spawned explicitly rather than randomly.                              │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.6 Name Generation System Diagram

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        NAME GENERATION SYSTEM                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  NAME GENERATION RULES BY TIER                                               │
│                                                                              │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │ Tier   │ Prefix │ Suffix │ Unique │ Monster    │ Output               │ │
│  ├────────┼────────┼────────┼────────┼────────────┼──────────────────────┤ │
│  │ common │ null   │ null   │ false  │ Goblin     │ "Goblin"             │ │
│  │ named  │ null   │ null   │ true   │ Goblin     │ "Gnik the Fierce"    │ │
│  │ elite  │ "Elite"│ null   │ false  │ Goblin     │ "Elite Goblin"       │ │
│  │ boss   │ "Boss" │ null   │ false  │ Goblin     │ "Boss Goblin"        │ │
│  └────────┴────────┴────────┴────────┴────────────┴──────────────────────┘ │
│                                                                              │
│  NAME CONSTRUCTION FLOW                                                      │
│                                                                              │
│  ┌──────────────────────────────────────────────────────────────────────┐   │
│  │                                                                      │   │
│  │  if (tier.generatesUniqueName) {                                     │   │
│  │      // Use monster's nameGenerator to create unique name            │   │
│  │      name = generateUniqueName(monster.nameGenerator);               │   │
│  │  } else {                                                            │   │
│  │      // Apply prefix/suffix to base monster name                     │   │
│  │      name = "";                                                      │   │
│  │      if (tier.namePrefix != null) {                                  │   │
│  │          name += tier.namePrefix + " ";                              │   │
│  │      }                                                               │   │
│  │      name += monster.name;                                           │   │
│  │      if (tier.nameSuffix != null) {                                  │   │
│  │          name += " " + tier.nameSuffix;                              │   │
│  │      }                                                               │   │
│  │  }                                                                   │   │
│  │                                                                      │   │
│  └──────────────────────────────────────────────────────────────────────┘   │
│                                                                              │
│  CUSTOM TIER EXAMPLES                                                        │
│                                                                              │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │ Tier         │ Prefix      │ Suffix    │ Result                       │ │
│  ├──────────────┼─────────────┼───────────┼──────────────────────────────┤ │
│  │ legendary    │ "Legendary" │ null      │ "Legendary Goblin"           │ │
│  │ nightmare    │ "Nightmare" │ null      │ "Nightmare Goblin"           │ │
│  │ champion     │ null        │ "Champion"│ "Goblin Champion"            │ │
│  │ ancient      │ "Ancient"   │ "Lord"    │ "Ancient Goblin Lord"        │ │
│  └──────────────┴─────────────┴───────────┴──────────────────────────────┘ │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.7 File Layer Diagram

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                            CONFIG LAYER                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  config/                                                                     │
│  ├── tiers.json ◀────────────────────────────┐                              │
│  │   {                                        │ references                   │
│  │     "$schema": "./schemas/tiers.schema.json",                             │
│  │     "description": "Monster tier definitions",                            │
│  │     "tiers": [                             │                              │
│  │       {                                    │                              │
│  │         "id": "common",                    │                              │
│  │         "name": "Common",                  │                              │
│  │         "healthMultiplier": 1.0,           │                              │
│  │         "attackMultiplier": 1.0,           │                              │
│  │         "spawnWeight": 70,                 │                              │
│  │         "color": "white",                  │                              │
│  │         "sortOrder": 0                     │                              │
│  │       },                                   │                              │
│  │       ...                                  │                              │
│  │     ]                                      │                              │
│  │   }                                        │                              │
│  │                                            │                              │
│  ├── monsters.json (references tier IDs)      │                              │
│  │                                            │                              │
│  └── schemas/                                 │                              │
│      └── tiers.schema.json ───────────────────┘                              │
│          {                                                                   │
│            "$schema": "http://json-schema.org/draft-07/schema#",            │
│            "definitions": {                                                  │
│              "TierDefinition": {...}                                         │
│            }                                                                 │
│          }                                                                   │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 4. Tier Schema Definition

### 4.1 Root Configuration Properties

**File:** `config/schemas/tiers.schema.json`

The tier schema follows JSON Schema Draft-07 specification, providing comprehensive validation for tier configuration files.

```json
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Monster Tier Configuration",
    "description": "Schema for monster difficulty tier definitions. Defines scaling multipliers, rewards, and spawn weights for different monster difficulty levels.",
    "type": "object",
    "properties": {
        "$schema": {
            "type": "string",
            "description": "Reference to the JSON schema file for validation"
        },
        "version": {
            "type": "string",
            "description": "Optional version identifier for the configuration file",
            "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
        },
        "description": {
            "type": "string",
            "description": "Optional file-level description"
        },
        "tiers": {
            "type": "array",
            "description": "List of tier definitions",
            "items": {
                "$ref": "#/definitions/TierDefinition"
            },
            "minItems": 1
        }
    },
    "required": ["tiers"],
    "additionalProperties": false,
    "definitions": {
        "TierDefinition": { ... }
    }
}
```

### 4.2 TierDefinition Definition

The `TierDefinition` object defines a complete difficulty tier with all its properties.

```json
"TierDefinition": {
    "type": "object",
    "description": "A difficulty tier that can be applied to monsters, affecting their stats and rewards",
    "properties": {
        "id": {
            "type": "string",
            "description": "Unique identifier for the tier (lowercase with underscores)",
            "pattern": "^[a-z][a-z0-9_]*$",
            "minLength": 1,
            "maxLength": 50
        },
        "name": {
            "type": "string",
            "description": "Display name shown to players",
            "minLength": 1,
            "maxLength": 100
        },
        "namePrefix": {
            "type": ["string", "null"],
            "description": "Prefix added before monster name (e.g., 'Elite')",
            "maxLength": 50
        },
        "nameSuffix": {
            "type": ["string", "null"],
            "description": "Suffix added after monster name (e.g., 'Champion')",
            "maxLength": 50
        },
        "healthMultiplier": {
            "type": "number",
            "description": "Multiplier applied to base health (1.0 = 100%)",
            "minimum": 0.1,
            "default": 1.0
        },
        "attackMultiplier": {
            "type": "number",
            "description": "Multiplier applied to base attack (1.0 = 100%)",
            "minimum": 0.1,
            "default": 1.0
        },
        "defenseMultiplier": {
            "type": "number",
            "description": "Multiplier applied to base defense (1.0 = 100%)",
            "minimum": 0.1,
            "default": 1.0
        },
        "experienceMultiplier": {
            "type": "number",
            "description": "Multiplier applied to experience reward (1.0 = 100%)",
            "minimum": 0.1,
            "default": 1.0
        },
        "lootMultiplier": {
            "type": "number",
            "description": "Multiplier applied to loot drop chances (1.0 = 100%)",
            "minimum": 0.1,
            "default": 1.0
        },
        "lootQualityBonus": {
            "type": "integer",
            "description": "Bonus added to loot rarity tier (positive shifts toward rarer items)"
        },
        "color": {
            "type": "string",
            "description": "Display color for the tier in UI (color name or hex)",
            "minLength": 1
        },
        "spawnWeight": {
            "type": "integer",
            "description": "Relative weight for random tier selection (higher = more common)",
            "minimum": 0,
            "default": 100
        },
        "generatesUniqueName": {
            "type": "boolean",
            "description": "Whether monsters of this tier get procedurally generated unique names",
            "default": false
        },
        "additionalTraits": {
            "type": "array",
            "description": "Trait IDs automatically added to monsters of this tier",
            "items": {
                "type": "string",
                "pattern": "^[a-z][a-z0-9_]*$"
            }
        },
        "minimumLevel": {
            "type": "integer",
            "description": "Minimum player level required for this tier to spawn",
            "minimum": 1
        },
        "sortOrder": {
            "type": "integer",
            "description": "Order for display sorting (lower values first)",
            "minimum": 0
        }
    },
    "required": ["id", "name", "color", "sortOrder"],
    "additionalProperties": false
}
```

---

## 5. Stat Multiplier Configuration

### 5.1 Health Multiplier

The `healthMultiplier` scales the monster's base health.

**Configuration:**
```json
{
    "healthMultiplier": 2.0
}
```

**Calculation:**
```
Final Health = floor(Base Health × Health Multiplier)
```

**Example:**
| Tier | Multiplier | Base HP | Final HP |
|------|------------|---------|----------|
| common | 1.0x | 30 | 30 |
| named | 1.5x | 30 | 45 |
| elite | 2.0x | 30 | 60 |
| boss | 5.0x | 30 | 150 |

### 5.2 Attack Multiplier

The `attackMultiplier` scales the monster's base attack power.

**Configuration:**
```json
{
    "attackMultiplier": 1.5
}
```

**Calculation:**
```
Final Attack = floor(Base Attack × Attack Multiplier)
```

**Example:**
| Tier | Multiplier | Base ATK | Final ATK |
|------|------------|----------|-----------|
| common | 1.0x | 8 | 8 |
| named | 1.3x | 8 | 10 |
| elite | 1.5x | 8 | 12 |
| boss | 2.0x | 8 | 16 |

### 5.3 Defense Multiplier

The `defenseMultiplier` scales the monster's base defense.

**Configuration:**
```json
{
    "defenseMultiplier": 1.5
}
```

**Calculation:**
```
Final Defense = floor(Base Defense × Defense Multiplier)
```

**Example:**
| Tier | Multiplier | Base DEF | Final DEF |
|------|------------|----------|-----------|
| common | 1.0x | 2 | 2 |
| named | 1.2x | 2 | 2 |
| elite | 1.5x | 2 | 3 |
| boss | 2.0x | 2 | 4 |

---

## 6. Reward Multiplier Configuration

### 6.1 Experience Multiplier

The `experienceMultiplier` scales the XP reward on defeat.

**Configuration:**
```json
{
    "experienceMultiplier": 3.0
}
```

**Calculation:**
```
Final XP = floor(Base XP × Experience Multiplier)
```

**Example:**
| Tier | Multiplier | Base XP | Final XP |
|------|------------|---------|----------|
| common | 1.0x | 25 | 25 |
| named | 2.0x | 25 | 50 |
| elite | 3.0x | 25 | 75 |
| boss | 10.0x | 25 | 250 |

### 6.2 Loot Multiplier

The `lootMultiplier` scales loot drop chances.

**Configuration:**
```json
{
    "lootMultiplier": 3.0
}
```

**Calculation:**
```
Final Drop Chance = min(1.0, Base Drop Chance × Loot Multiplier)
```

**Example:**
| Tier | Multiplier | Base Chance | Final Chance |
|------|------------|-------------|--------------|
| common | 1.0x | 15% | 15% |
| named | 2.0x | 15% | 30% |
| elite | 3.0x | 15% | 45% |
| boss | 5.0x | 15% | 75% |

### 6.3 Loot Quality Bonus

The optional `lootQualityBonus` shifts dropped item rarity.

**Configuration:**
```json
{
    "lootQualityBonus": 2
}
```

**Effect:**
| Bonus | Effect on Loot |
|-------|----------------|
| 0 | Normal rarity distribution |
| +1 | Shifts common → uncommon, uncommon → rare, etc. |
| +2 | Shifts common → rare, uncommon → epic, etc. |
| -1 | Shifts rare → uncommon, uncommon → common, etc. |

**Example Tier Configuration:**
```json
{
    "id": "legendary",
    "name": "Legendary",
    "lootMultiplier": 5.0,
    "lootQualityBonus": 2
}
```

---

## 7. Name Configuration

### 7.1 Name Prefix Configuration

The optional `namePrefix` adds text before the monster name.

**Configuration:**
```json
{
    "namePrefix": "Elite"
}
```

**Result:**
| Monster | Prefix | Output |
|---------|--------|--------|
| Goblin | "Elite" | "Elite Goblin" |
| Skeleton | "Elite" | "Elite Skeleton" |
| Orc | "Elite" | "Elite Orc" |

**Null Prefix:**
```json
{
    "namePrefix": null
}
```
Results in no prefix being added (just the monster's base name or unique name).

### 7.2 Name Suffix Configuration

The optional `nameSuffix` adds text after the monster name.

**Configuration:**
```json
{
    "nameSuffix": "Champion"
}
```

**Result:**
| Monster | Suffix | Output |
|---------|--------|--------|
| Goblin | "Champion" | "Goblin Champion" |
| Skeleton | "Champion" | "Skeleton Champion" |
| Orc | "Champion" | "Orc Champion" |

**Combined Prefix and Suffix:**
```json
{
    "namePrefix": "Ancient",
    "nameSuffix": "Lord"
}
```
Result: "Ancient Goblin Lord"

### 7.3 Unique Name Generation

The `generatesUniqueName` flag enables procedural name generation using the monster's `nameGenerator` configuration.

**Configuration:**
```json
{
    "generatesUniqueName": true
}
```

**When true:**
- Uses the monster's `nameGenerator.prefixes` and `nameGenerator.suffixes` to create a unique name
- Applies the monster's `nameGenerator.titleFormat` for the final display

**Example:**
```
Monster nameGenerator: {
    "prefixes": ["Gn", "Sn", "Kr"],
    "suffixes": ["ik", "ob", "ax"],
    "titleFormat": "{0} the {1}"
}

Result: "Gnik the Fierce" (unique generated name with random title)
```

**When false:**
- Uses `namePrefix` + base monster name + `nameSuffix` instead

---

## 8. Spawn Configuration

### 8.1 Spawn Weight

The `spawnWeight` determines the relative probability of this tier being selected when spawning a monster.

**Configuration:**
```json
{
    "spawnWeight": 70
}
```

**Calculation:**
```
Spawn Probability = Tier Weight / Total Weight of All Eligible Tiers
```

**Standard Distribution:**
| Tier | Weight | Probability |
|------|--------|-------------|
| common | 70 | 70% |
| named | 20 | 20% |
| elite | 8 | 8% |
| boss | 2 | 2% |

**Special Values:**
- `spawnWeight: 0` - Tier never spawns randomly (must be explicitly assigned)
- High weights = more common spawns
- Low weights = rare spawns

### 8.2 Minimum Level Gate

The optional `minimumLevel` restricts tier spawning based on player level.

**Configuration:**
```json
{
    "minimumLevel": 5
}
```

**Effect:**
| Player Level | Elite (minLevel: 5) | Boss (minLevel: 10) |
|--------------|---------------------|---------------------|
| 1-4 | Cannot spawn | Cannot spawn |
| 5-9 | Can spawn | Cannot spawn |
| 10+ | Can spawn | Can spawn |

**Example Custom Tier:**
```json
{
    "id": "nightmare",
    "name": "Nightmare",
    "minimumLevel": 20,
    "healthMultiplier": 10.0,
    "spawnWeight": 1
}
```

### 8.3 Additional Traits

The optional `additionalTraits` array forces specific traits onto monsters of this tier.

**Configuration:**
```json
{
    "additionalTraits": ["berserker", "regenerating"]
}
```

**Effect:**
- All monsters of this tier automatically gain the specified traits
- These traits are added in addition to any random traits the monster might receive

**Example Custom Tier:**
```json
{
    "id": "corrupted",
    "name": "Corrupted",
    "additionalTraits": ["venomous", "regenerating"],
    "healthMultiplier": 1.8
}
```
All "Corrupted" monsters would have both Venomous and Regenerating traits.

---

## 9. Display Configuration

### 9.1 Color Configuration

The `color` field specifies the display color for the tier in UI elements.

**Configuration:**
```json
{
    "color": "orange3"
}
```

**Standard Color Scheme:**
| Tier | Color | Meaning |
|------|-------|---------|
| common | `white` | Standard enemies |
| named | `yellow` | Unique named enemies |
| elite | `orange3` | Powerful enemies |
| boss | `red` | Boss encounters |

**Color Values:**
- Named colors: `white`, `yellow`, `orange3`, `red`, `green`, `cyan`, `purple`, `grey`
- Hex colors: `#FF5500`, `#00FF00` (if supported by renderer)

### 9.2 Sort Order

The `sortOrder` field determines the display position in tier lists.

**Configuration:**
```json
{
    "sortOrder": 2
}
```

**Standard Order:**
| Tier | Sort Order | Position |
|------|------------|----------|
| common | 0 | First |
| named | 1 | Second |
| elite | 2 | Third |
| boss | 3 | Fourth |

**Rules:**
- Lower values appear first in lists
- Ties are resolved by ID alphabetically
- Must be non-negative (>= 0)

---

## 10. Validation Rules

### 10.1 Range Validation

| Property | Range | Validation Error |
|----------|-------|------------------|
| `healthMultiplier` | >= 0.1 | "healthMultiplier must be >= 0.1" |
| `attackMultiplier` | >= 0.1 | "attackMultiplier must be >= 0.1" |
| `defenseMultiplier` | >= 0.1 | "defenseMultiplier must be >= 0.1" |
| `experienceMultiplier` | >= 0.1 | "experienceMultiplier must be >= 0.1" |
| `lootMultiplier` | >= 0.1 | "lootMultiplier must be >= 0.1" |
| `spawnWeight` | >= 0 | "spawnWeight must be >= 0" |
| `minimumLevel` | >= 1 | "minimumLevel must be >= 1" |
| `sortOrder` | >= 0 | "sortOrder must be >= 0" |

### 10.2 Required Fields

| Field | Requirement | Error on Missing |
|-------|-------------|------------------|
| `id` | Must be present and match pattern | "missing required property 'id'" |
| `name` | Must be present and non-empty | "missing required property 'name'" |
| `color` | Must be present and non-empty | "missing required property 'color'" |
| `sortOrder` | Must be present and >= 0 | "missing required property 'sortOrder'" |

### 10.3 Pattern Validation

| Property | Pattern | Validation Error |
|----------|---------|------------------|
| `id` | `^[a-z][a-z0-9_]*$` | "id must match pattern ^[a-z][a-z0-9_]*$" |
| `version` | `^[0-9]+\.[0-9]+\.[0-9]+$` | "version must match pattern (e.g., '1.0.0')" |
| `additionalTraits[*]` | `^[a-z][a-z0-9_]*$` | "trait id must match pattern" |

---

## 11. Configuration Schema

### Complete Tiers Schema File

**File:** `config/schemas/tiers.schema.json`

```json
{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Monster Tier Configuration",
    "description": "Schema for monster difficulty tier definitions. Defines scaling multipliers, rewards, and spawn weights for different monster difficulty levels.",
    "type": "object",
    "properties": {
        "$schema": {
            "type": "string",
            "description": "Reference to the JSON schema file for validation"
        },
        "version": {
            "type": "string",
            "description": "Optional version identifier for the configuration file",
            "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
        },
        "description": {
            "type": "string",
            "description": "Optional file-level description"
        },
        "tiers": {
            "type": "array",
            "description": "List of tier definitions",
            "items": {
                "$ref": "#/definitions/TierDefinition"
            },
            "minItems": 1
        }
    },
    "required": ["tiers"],
    "additionalProperties": false,
    "definitions": {
        "TierDefinition": {
            "type": "object",
            "description": "A difficulty tier that can be applied to monsters, affecting their stats and rewards",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Unique identifier for the tier (lowercase with underscores)",
                    "pattern": "^[a-z][a-z0-9_]*$",
                    "minLength": 1,
                    "maxLength": 50
                },
                "name": {
                    "type": "string",
                    "description": "Display name shown to players",
                    "minLength": 1,
                    "maxLength": 100
                },
                "namePrefix": {
                    "type": ["string", "null"],
                    "description": "Prefix added before monster name (e.g., 'Elite')",
                    "maxLength": 50
                },
                "nameSuffix": {
                    "type": ["string", "null"],
                    "description": "Suffix added after monster name (e.g., 'Champion')",
                    "maxLength": 50
                },
                "healthMultiplier": {
                    "type": "number",
                    "description": "Multiplier applied to base health (1.0 = 100%)",
                    "minimum": 0.1,
                    "default": 1.0
                },
                "attackMultiplier": {
                    "type": "number",
                    "description": "Multiplier applied to base attack (1.0 = 100%)",
                    "minimum": 0.1,
                    "default": 1.0
                },
                "defenseMultiplier": {
                    "type": "number",
                    "description": "Multiplier applied to base defense (1.0 = 100%)",
                    "minimum": 0.1,
                    "default": 1.0
                },
                "experienceMultiplier": {
                    "type": "number",
                    "description": "Multiplier applied to experience reward (1.0 = 100%)",
                    "minimum": 0.1,
                    "default": 1.0
                },
                "lootMultiplier": {
                    "type": "number",
                    "description": "Multiplier applied to loot drop chances (1.0 = 100%)",
                    "minimum": 0.1,
                    "default": 1.0
                },
                "lootQualityBonus": {
                    "type": "integer",
                    "description": "Bonus added to loot rarity tier (positive shifts toward rarer items)"
                },
                "color": {
                    "type": "string",
                    "description": "Display color for the tier in UI (color name or hex)",
                    "minLength": 1
                },
                "spawnWeight": {
                    "type": "integer",
                    "description": "Relative weight for random tier selection (higher = more common)",
                    "minimum": 0,
                    "default": 100
                },
                "generatesUniqueName": {
                    "type": "boolean",
                    "description": "Whether monsters of this tier get procedurally generated unique names",
                    "default": false
                },
                "additionalTraits": {
                    "type": "array",
                    "description": "Trait IDs automatically added to monsters of this tier",
                    "items": {
                        "type": "string",
                        "pattern": "^[a-z][a-z0-9_]*$"
                    }
                },
                "minimumLevel": {
                    "type": "integer",
                    "description": "Minimum player level required for this tier to spawn",
                    "minimum": 1
                },
                "sortOrder": {
                    "type": "integer",
                    "description": "Order for display sorting (lower values first)",
                    "minimum": 0
                }
            },
            "required": ["id", "name", "color", "sortOrder"],
            "additionalProperties": false
        }
    }
}
```

---

## 12. Configuration File Updates

### Updated tiers.json

Update the existing `tiers.json` to include the schema reference.

**File:** `config/tiers.json`

```json
{
    "$schema": "./schemas/tiers.schema.json",
    "description": "Monster tier definitions for v0.14.3c",
    "tiers": [
        {
            "id": "common",
            "name": "Common",
            "namePrefix": null,
            "healthMultiplier": 1.0,
            "attackMultiplier": 1.0,
            "defenseMultiplier": 1.0,
            "experienceMultiplier": 1.0,
            "lootMultiplier": 1.0,
            "color": "white",
            "spawnWeight": 70,
            "generatesUniqueName": false,
            "sortOrder": 0
        },
        {
            "id": "named",
            "name": "Named",
            "namePrefix": null,
            "healthMultiplier": 1.5,
            "attackMultiplier": 1.3,
            "defenseMultiplier": 1.2,
            "experienceMultiplier": 2.0,
            "lootMultiplier": 2.0,
            "color": "yellow",
            "spawnWeight": 20,
            "generatesUniqueName": true,
            "sortOrder": 1
        },
        {
            "id": "elite",
            "name": "Elite",
            "namePrefix": "Elite",
            "healthMultiplier": 2.0,
            "attackMultiplier": 1.5,
            "defenseMultiplier": 1.5,
            "experienceMultiplier": 3.0,
            "lootMultiplier": 3.0,
            "color": "orange3",
            "spawnWeight": 8,
            "generatesUniqueName": false,
            "sortOrder": 2
        },
        {
            "id": "boss",
            "name": "Boss",
            "namePrefix": "Boss",
            "healthMultiplier": 5.0,
            "attackMultiplier": 2.0,
            "defenseMultiplier": 2.0,
            "experienceMultiplier": 10.0,
            "lootMultiplier": 5.0,
            "color": "red",
            "spawnWeight": 2,
            "generatesUniqueName": false,
            "sortOrder": 3
        }
    ]
}
```

### Example Custom Tier (with all optional fields)

```json
{
    "id": "legendary",
    "name": "Legendary",
    "namePrefix": "Legendary",
    "nameSuffix": null,
    "healthMultiplier": 8.0,
    "attackMultiplier": 3.0,
    "defenseMultiplier": 2.5,
    "experienceMultiplier": 15.0,
    "lootMultiplier": 8.0,
    "lootQualityBonus": 2,
    "color": "purple",
    "spawnWeight": 1,
    "generatesUniqueName": true,
    "additionalTraits": ["berserker", "regenerating"],
    "minimumLevel": 15,
    "sortOrder": 4
}
```

---

## 13. Data Model Changes

### No Domain Changes Required

This phase creates only a JSON Schema file and updates the configuration file reference. No changes to domain entities, services, or application layer are required.

| Layer | Changes |
|-------|---------|
| Domain | None |
| Application | None |
| Infrastructure | None |
| Configuration | One schema file added, one config file updated with $schema reference |

### Schema as Documentation

The schema serves as:
- **Validation contract** for tier configuration
- **IDE documentation** via description fields
- **Modding reference** for custom tier systems
- **Design specification** for tier mechanics

---

## 14. Logging Specifications

### No Runtime Logging Required

Schema validation occurs at design-time in IDE/editors, not at runtime. No logging infrastructure changes are needed for this phase.

| Component | Level | Events |
|-----------|-------|--------|
| N/A | N/A | Schema validation is IDE-based |

---

## 15. Unit Testing Requirements

### Test Count by Feature

| Feature | Test Count |
|---------|------------|
| Schema Valid Structure | ~1 |
| Multiplier Range Validation | ~1 |
| Spawn Weight Validation | ~1 |
| Configuration File Validation | ~1 |
| **Total** | **~4** |

### Test Descriptions

#### TiersSchemaTests.cs

```csharp
[TestFixture]
public class TiersSchemaTests
{
    /// <summary>
    /// Verifies the schema file is valid JSON Schema Draft-07.
    /// </summary>
    [Test]
    public void Schema_IsValidJsonSchemaDraft07();

    /// <summary>
    /// Verifies the tiers.json validates against the schema without errors.
    /// </summary>
    [Test]
    public void TiersJson_ValidatesAgainstSchema();

    /// <summary>
    /// Verifies multipliers must be >= 0.1.
    /// </summary>
    [Test]
    public void Multipliers_LessThanMinimum_FailsValidation();

    /// <summary>
    /// Verifies spawn weight must be non-negative.
    /// </summary>
    [Test]
    public void SpawnWeight_Negative_FailsValidation();
}
```

### Test Implementation Notes

Tests should use a JSON Schema validation library (e.g., `NJsonSchema` for C#) to:
1. Load the schema file
2. Validate test JSON documents
3. Assert expected validation results

---

## 16. Use Cases

### UC-001: Load Tier Configuration

**Actor:** Game System
**Flow:** System starts -> Loads `tiers.json` -> Schema validates content -> Tiers available for monster spawning

### UC-002: Edit Tiers in IDE

**Actor:** Developer/Modder
**Flow:** Opens `tiers.json` in VS Code -> IDE loads schema -> Autocomplete suggests properties -> Validation errors shown inline

### UC-003: Add New Difficulty Tier

**Actor:** Modder
**Flow:** Adds new tier to `tiers` array -> Sets id, name -> Configures multipliers -> Sets spawn weight and color -> Sets sort order -> IDE validates structure

### UC-004: Configure Tier Multipliers

**Actor:** Modder
**Flow:** Modifies healthMultiplier, attackMultiplier, etc. -> IDE validates >= 0.1 -> Changes saved

### UC-005: Invalid Multiplier Value

**Actor:** Modder
**Flow:** Sets healthMultiplier to 0.05 (invalid) -> IDE shows error "healthMultiplier must be >= 0.1" -> Modder corrects to 0.1 or higher

### UC-006: Configure Level-Gated Tier

**Actor:** Modder
**Flow:** Adds minimumLevel property -> Sets value >= 1 -> Tier only spawns when player meets level requirement

---

## 17. Deliverable Checklist

### Schema Files
- [ ] `config/schemas/tiers.schema.json` created
- [ ] Schema follows JSON Schema Draft-07 format
- [ ] Schema includes all defined properties
- [ ] Schema includes definitions section (TierDefinition)

### Validation Rules
- [ ] Tier ID pattern validation: `^[a-z][a-z0-9_]*$`
- [ ] Stat multiplier validation (>= 0.1)
- [ ] Reward multiplier validation (>= 0.1)
- [ ] Spawn weight validation (>= 0)
- [ ] Sort order validation (>= 0)
- [ ] Minimum level validation (>= 1)
- [ ] Color string validation (minLength: 1)
- [ ] Boolean flag validation (generatesUniqueName)
- [ ] Required fields enforced (id, name, color, sortOrder)
- [ ] Optional fields have appropriate defaults

### Configuration Files
- [ ] `tiers.json` updated with $schema reference
- [ ] Existing tiers validate against schema
- [ ] All 4 tiers pass validation

### Testing
- [ ] ~4 unit tests implemented
- [ ] All tests passing
- [ ] Tests cover happy path and error cases

### Documentation
- [ ] Schema properties have descriptions
- [ ] This design specification complete

---

## 18. Acceptance Criteria

### Functional
- [ ] `tiers.schema.json` created in `config/schemas/` directory
- [ ] Schema validates existing `tiers.json` without errors
- [ ] All multipliers validated as >= 0.1
- [ ] Name prefix/suffix validated as optional strings (or null)
- [ ] Color validated as non-empty string
- [ ] Spawn weight validated as non-negative integer
- [ ] Unique name generation flag validated as boolean
- [ ] Sort order validated as non-negative integer
- [ ] Additional traits validated as string array with pattern
- [ ] Minimum level validated as >= 1 (when present)
- [ ] VS Code provides autocomplete when schema linked

### Quality
- [ ] Build succeeds with 0 errors
- [ ] Build succeeds with 0 warnings
- [ ] ~4 unit tests pass
- [ ] Schema file is valid JSON
- [ ] All schema properties have descriptions

---

## 19. Dependencies

### Required from Prior Versions

| Type | Location | Usage in this phase |
|------|----------|---------------------|
| Schema patterns | `config/schemas/*.schema.json` | Reference for schema structure |
| ID patterns | Prior schemas | Consistent ID patterns |
| traits.json | `config/traits.json` | additionalTraits references |

### Provides to Future Versions

| Type | Usage |
|------|-------|
| `tiers.schema.json` | Validates tier configuration |
| TierDefinition pattern | Referenced by monster possibleTiers |
| Tier IDs | Referenced by monsters.json possibleTiers array |

### Implementation Order Note

**v0.14.3c can be implemented in parallel with v0.14.3a and v0.14.3b** as they have no internal dependencies.

v0.14.3d (Bosses) should be implemented last as it may reference tier patterns.

---

## 20. Future Considerations

### Deferred to Future Versions

- **Cross-reference validation**: Validating trait IDs in additionalTraits exist in traits.json
- **Tier application logic**: Runtime stat scaling calculations
- **Dynamic tier selection**: Level-based tier weighting adjustments
- **Tier combination rules**: Stacking multiple tiers on one monster

### Out of Scope

- **Monster schema** (v0.14.3a) - Monster definitions that reference tiers
- **Trait schema** (v0.14.3b) - Traits that may be added via additionalTraits
- **Boss schema** (v0.14.3d) - Boss encounters with special tier handling
- **Runtime tier application**: Application-level stat calculation (domain logic)
- **Tier balance tuning**: Specific multiplier values (design decisions)

### Potential Future Enhancements

If the tier system expands, consider adding to the schema:

**Speed Multiplier:**
```json
"speedMultiplier": {
    "type": "number",
    "description": "Multiplier applied to movement speed",
    "minimum": 0.1,
    "default": 1.0
}
```

**Initiative Multiplier:**
```json
"initiativeMultiplier": {
    "type": "number",
    "description": "Multiplier applied to initiative rolls",
    "minimum": 0.1,
    "default": 1.0
}
```

**Tier Prerequisites:**
```json
"prerequisiteTiers": {
    "type": "array",
    "description": "Tier IDs that must be defeated before this tier spawns",
    "items": { "type": "string" }
}
```

**Zone Restrictions:**
```json
"allowedZones": {
    "type": "array",
    "description": "Zone IDs where this tier can spawn",
    "items": { "type": "string" }
}
```

**Time-Based Spawning:**
```json
"spawnTimeRestriction": {
    "type": "object",
    "description": "Time of day restrictions for spawning",
    "properties": {
        "startHour": { "type": "integer", "minimum": 0, "maximum": 23 },
        "endHour": { "type": "integer", "minimum": 0, "maximum": 23 }
    }
}
```

**Visual Effects:**
```json
"visualEffects": {
    "type": "object",
    "description": "Visual modifiers for monsters of this tier",
    "properties": {
        "glowColor": { "type": "string" },
        "sizeMultiplier": { "type": "number", "minimum": 0.5, "maximum": 3.0 },
        "particleEffect": { "type": "string" }
    }
}
```

**Sound Effects:**
```json
"soundModifiers": {
    "type": "object",
    "description": "Audio modifiers for monsters of this tier",
    "properties": {
        "pitchMultiplier": { "type": "number" },
        "volumeMultiplier": { "type": "number" },
        "spawnSound": { "type": "string" }
    }
}
```

---

*Document Version: 1.0*
*Last Updated: 2026-01-17*
*Author: Claude*
